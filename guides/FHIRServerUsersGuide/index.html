<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/FHIR/styles.8af7d7b3292efadf0546.css">@charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans&text=←→↑↓↔↕↖↗↘↙↚↛↮⟵⟶⟷↰↱↲↳⬐⬎⬑⬏↴↵);.Accordion-module--bx--text-truncate--end--3dKUA,.Accordion-module--bx--text-truncate--front--3zD6w{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Accordion-module--bx--text-truncate--front--3zD6w{direction:rtl}@keyframes Accordion-module--skeleton--3qU4x{0%{width:0;left:0;right:auto;opacity:.3}20%{width:100%;left:0;right:auto;opacity:1}28%{width:100%;left:auto;right:0}51%{width:0;left:auto;right:0}58%{width:0;left:auto;right:0}82%{width:100%;left:auto;right:0}83%{width:100%;left:0;right:auto}96%{width:0;left:0;right:auto}to{width:0;left:0;right:auto;opacity:.3}}@keyframes Accordion-module--collapse-accordion--1a4Fq{0%{height:100%;visibility:inherit;opacity:1}to{height:0;visibility:hidden;opacity:0}}@keyframes Accordion-module--expand-accordion--3Aan1{0%{height:0;visibility:hidden;opacity:0}to{height:100%;visibility:inherit;opacity:1}}.bx--accordion{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;list-style:none;width:100%}.bx--accordion *,.bx--accordion :after,.bx--accordion :before{box-sizing:inherit}.bx--accordion__item{transition:all .11s cubic-bezier(.2,0,.38,.9);border-top:1px solid #e0e0e0;overflow:visible}.bx--accordion__item:last-child{border-bottom:1px solid #e0e0e0}.bx--accordion__heading{box-sizing:border-box;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;color:#161616;display:flex;align-items:flex-start;justify-content:flex-start;cursor:pointer;padding:.375rem 0;flex-direction:row-reverse;position:relative;height:2.5rem;width:100%;margin:0;transition:background-color .11s cubic-bezier(.2,0,.38,.9)}.bx--accordion__heading *,.bx--accordion__heading :after,.bx--accordion__heading :before{box-sizing:inherit}.bx--accordion__heading::-moz-focus-inner{border:0}.bx--accordion__heading:focus:before,.bx--accordion__heading:hover:before{content:"";position:absolute;top:-1px;left:0;width:100%;height:calc(100% + 2px)}.bx--accordion__heading:hover:before{background-color:#e5e5e5}.bx--accordion__heading:focus{outline:none}.bx--accordion__heading:focus:before{border:2px solid #0f62fe;box-sizing:border-box}.bx--accordion__arrow{outline:2px solid transparent;outline-offset:-2px;flex:0 0 1rem;width:1rem;height:1rem;margin:2px 1rem 0 0;fill:#161616;transform:rotate(90deg);transition:all .11s cubic-bezier(.2,0,.38,.9)}.bx--accordion__title{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;margin:0 0 0 1rem;width:100%;text-align:left;z-index:1}.bx--accordion__content{display:none;transition:padding .11s cubic-bezier(.2,0,.38,.9);padding-left:1rem;padding-right:1rem}@media (min-width:480px){.bx--accordion__content{padding-right:3rem}}@media (min-width:640px){.bx--accordion__content{padding-right:25%}}.bx--accordion__content>p{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px}.bx--accordion--start .bx--accordion__heading{flex-direction:row}.bx--accordion--start .bx--accordion__arrow{margin:2px 0 0 .5rem}.bx--accordion--start .bx--accordion__content{margin-left:1.5rem}.bx--accordion__item--collapsing .bx--accordion__content,.bx--accordion__item--expanding .bx--accordion__content{display:block}.bx--accordion__item--collapsing .bx--accordion__content{animation:collapse-accordion .11s cubic-bezier(.2,0,.38,.9)}.bx--accordion__item--expanding .bx--accordion__content{animation:expand-accordion .11s cubic-bezier(.2,0,.38,.9)}.bx--accordion__item--active{overflow:visible}.bx--accordion__item--active .bx--accordion__content{display:block;padding-bottom:1.5rem;padding-top:.5rem;transition:padding-top .11s cubic-bezier(0,0,.38,.9),padding-bottom .11s cubic-bezier(0,0,.38,.9)}.bx--accordion__item--active .bx--accordion__arrow{transform:rotate(-90deg);fill:#161616}.bx--accordion.bx--skeleton .bx--accordion__button,.bx--accordion.bx--skeleton .bx--accordion__heading{cursor:default}.bx--accordion.bx--skeleton .bx--accordion__arrow{pointer-events:none;fill:#161616;cursor:default}.bx--accordion.bx--skeleton .bx--accordion__arrow:active,.bx--accordion.bx--skeleton .bx--accordion__arrow:focus,.bx--accordion.bx--skeleton .bx--accordion__arrow:hover{border:none;outline:none;cursor:default}.bx--accordion.bx--skeleton .bx--accordion__heading:hover:before{background-color:transparent}.bx--accordion--end.bx--skeleton .bx--accordion__arrow{margin-left:1rem}.bx--skeleton .bx--accordion__heading:focus .bx--accordion__arrow{border:none;outline:none;cursor:default}.bx--accordion__title.bx--skeleton__text{margin-bottom:0}.Accordion-module--accordion--3fakc .bx--accordion__content{padding-right:0}.Accordion-module--accordion--3fakc .bx--accordion__heading{padding-top:.75rem;padding-bottom:.75rem}.Accordion-module--accordion--3fakc .bx--accordion__title{font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0}.Accordion-module--accordion--3fakc .bx--accordion__content p{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0}.AnchorLinks-module--bx--text-truncate--end--22aEC,.AnchorLinks-module--bx--text-truncate--front--3CUZV{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.AnchorLinks-module--bx--text-truncate--front--3CUZV{direction:rtl}.AnchorLinks-module--list--2RS5j{margin-bottom:0;margin-top:1rem;width:100%}@media (min-width:42rem){.AnchorLinks-module--list--2RS5j{margin-bottom:2rem;width:75%}}@media (min-width:66rem){.AnchorLinks-module--list--2RS5j{width:58.33%}}.AnchorLinks-module--list--2RS5j+*{margin-top:5rem}.AnchorLinks-module--list--small--aouBn{margin-top:1rem}.AnchorLinks-module--list--small--aouBn+*{margin-top:4rem}.AnchorLinks-module--link--1_JzY{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62);position:relative;display:inline-block;transition:color .11s;color:#393939;text-decoration:none;margin-bottom:.5rem;margin-left:1.5rem}@media (min-width:82rem){.AnchorLinks-module--link--1_JzY{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.AnchorLinks-module--link--1_JzY{font-size:1.5rem}}.AnchorLinks-module--link--1_JzY:hover,.AnchorLinks-module--link--1_JzY:hover:before{color:#0f62fe}.AnchorLinks-module--link--1_JzY:before{content:"\21B3";position:absolute;left:-1.5rem;color:#393939;transition:color .11s;cursor:pointer}.AnchorLinks-module--list--small--aouBn .AnchorLinks-module--link--1_JzY{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0;margin-bottom:0}.AnchorLinks-module--list-item--uR10j{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62);width:auto;list-style:none;padding-left:0;display:flex;align-items:center;margin-left:0}@media (min-width:82rem){.AnchorLinks-module--list-item--uR10j{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.AnchorLinks-module--list-item--uR10j{font-size:1.5rem}}.AnchorLinks-module--list-item--uR10j:before{display:none}@media (min-width:42rem){.AnchorLinks-module--multiple-columns--2gmS_{-webkit-column-count:2;column-count:2}}.PageDescription-module--bx--text-truncate--end--1Hkll,.PageDescription-module--bx--text-truncate--front--11zsn{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.PageDescription-module--bx--text-truncate--front--11zsn{direction:rtl}.PageDescription-module--page-description--3vW3w p{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62);margin-bottom:2rem}@media (min-width:82rem){.PageDescription-module--page-description--3vW3w p{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.PageDescription-module--page-description--3vW3w p{font-size:1.5rem}}@media (min-width:42rem){.PageDescription-module--page-description--3vW3w p{width:75%}}@media (min-width:66rem){.PageDescription-module--page-description--3vW3w p{width:66.667%}}.PageDescription-module--page-description--3vW3w code{font-size:.75em;line-height:1.25}.Video-module--bx--text-truncate--end--1IpaR,.Video-module--bx--text-truncate--front--14WB7{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Video-module--bx--text-truncate--front--14WB7{direction:rtl}@keyframes Video-module--skeleton--7SRfO{0%{width:0;left:0;right:auto;opacity:.3}20%{width:100%;left:0;right:auto;opacity:1}28%{width:100%;left:auto;right:0}51%{width:0;left:auto;right:0}58%{width:0;left:auto;right:0}82%{width:100%;left:auto;right:0}83%{width:100%;left:0;right:auto}96%{width:0;left:0;right:auto}to{width:0;left:0;right:auto;opacity:.3}}.Video-module--video--1KL4-{width:100%}.Video-module--video-container--3uaeI{margin-bottom:4rem;display:table;position:relative;width:100%}button.Video-module--video-button--34cGT{box-sizing:border-box;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;background-color:#0f62fe;width:4.5rem;height:4.5rem;border-radius:50%;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;z-index:10;transition:all .15s cubic-bezier(0,0,.38,.9)}button.Video-module--video-button--34cGT *,button.Video-module--video-button--34cGT :after,button.Video-module--video-button--34cGT :before{box-sizing:inherit}button.Video-module--video-button--34cGT::-moz-focus-inner{border:0}button.Video-module--video-button--34cGT:focus{outline:2px solid #0f62fe;outline-offset:-2px}button.Video-module--video-button--34cGT:hover{background-color:#262626;opacity:.8}button.Video-module--video-button--34cGT>svg{fill:#fff;margin-left:4px;transition:all .15s cubic-bezier(0,0,.38,.9)}button.Video-module--video--is-playing--1K9hc>svg{margin-left:0}.Video-module--vimeo--2TJls{pointer-events:none;position:relative;height:0;overflow:hidden;padding-bottom:56.543%}.Video-module--vimeo--2TJls iframe{position:absolute;top:0;left:0;width:100%;height:100%}.Video-module--video-container--3uaeI:not(:hover) button.Video-module--video--is-playing--1K9hc,.Video-module--video-container--3uaeI:not(:hover) button.Video-module--video--is-playing--1K9hc>svg{visibility:hidden}.Aside-module--bx--text-truncate--end--3mnZ2,.Aside-module--bx--text-truncate--front--3IGlU{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Aside-module--bx--text-truncate--front--3IGlU{direction:rtl}.Aside-module--aside--2rgLb{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;position:relative;padding-top:.75rem;top:-.75rem}.Aside-module--aside--2rgLb:before{content:"";position:absolute;top:0;left:-1rem;width:40%;height:1px;background:#161616}.bx--row .Aside-module--aside--2rgLb p{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;width:75%;padding-right:1rem}.LeftNav-module--bx--text-truncate--end--FLF8E,.LeftNav-module--bx--text-truncate--front--3cD-w{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.LeftNav-module--bx--text-truncate--front--3cD-w{direction:rtl}.LeftNav-module--current-item--5pysq{background-color:#dcdcdc!important}.LeftNav-module--current-item--5pysq span{color:#171717}.LeftNav-module--resource-link--aKXRL:first-of-type{margin-top:1rem}.LeftNav-module--outboundLink--13-_V{flex-direction:row-reverse;justify-content:space-between}.LeftNav-module--outboundLink--13-_V div{display:inline-block!important;flex:0 1}.bx--side-nav__items>.bx--side-nav__item>.bx--side-nav__link span,.bx--side-nav__items>.bx--side-nav__item>.bx--side-nav__submenu span{padding-left:0!important}.LeftNav-module--link-text--16DnA{color:inherit}.LeftNav-module--link-text__active--1Kp_L{color:#171717}.LeftNav-module--link-text__homepage--2vaRN:hover .bx--side-nav__link-text{color:#f3f3f3!important}.LeftNavWrapper-module--bx--text-truncate--end--3h0jm,.LeftNavWrapper-module--bx--text-truncate--front--eeKxQ{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.LeftNavWrapper-module--bx--text-truncate--front--eeKxQ{direction:rtl}.LeftNavWrapper-module--leftNavWrapper--3pkkV{transition:transform .15s cubic-bezier(.2,.2,.38,.9),top .11s;width:256px;position:fixed;top:0;bottom:0;z-index:9999;scrollbar-width:none;transform:translateX(-256px)}.LeftNavWrapper-module--leftNavWrapper--3pkkV .bx--side-nav{box-shadow:none!important}@media (min-width:66rem){.LeftNavWrapper-module--leftNavWrapper--3pkkV{transform:translateX(0)}}.LeftNavWrapper-module--leftNavWrapper--3pkkV .bx--side-nav__navigation{padding-top:0;padding-bottom:48px}.LeftNavWrapper-module--expanded--1oIEP{transform:translateX(0);box-shadow:0 2px 8px rgba(0,0,0,.2)}@media (min-width:66rem){.LeftNavWrapper-module--expanded--1oIEP{box-shadow:none}}.LeftNavWrapper-module--shouldHideHeader--2KjnM{top:-48px}.Header-module--bx--text-truncate--end--1CH8X,.Header-module--bx--text-truncate--front--1tA2X{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Header-module--bx--text-truncate--front--1tA2X{direction:rtl}.Header-module--header--1KL7o button{display:flex;justify-content:center;align-items:center}header.Header-module--header--1KL7o{background-color:#161616;border-bottom:1px solid #393939;z-index:10000}.Header-module--header--1KL7o .bx--header__action--menu{border:none;top:.5px;position:relative;flex-shrink:0}.Header-module--header--1KL7o .bx--header__action--menu:focus{outline:2px solid #fff;outline-offset:-2px}@media (min-width:66rem){.Header-module--header--1KL7o .bx--header__action--menu{display:none}}.Header-module--header--1KL7o .bx--header__action--menu.bx--header__action--active{background-color:#161616;border-right:1px solid #393939}@media (min-width:66rem){.Header-module--header--1KL7o .bx--header__action--menu.bx--header__action--active{display:none}}.Header-module--header--1KL7o .bx--header__name:focus{box-shadow:none}.Header-module--headerName--3kUSq span{font-weight:600}.Header-module--header--1KL7o .Header-module--skip-to-content--3cjMb:focus{border:2px solid #fff;margin:0}.Header-module--headerName--3kUSq{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;transition:opacity .11s cubic-bezier(.2,0,.38,.9);color:#fff;text-decoration:none;position:absolute;left:3rem;white-space:nowrap;padding:0 1rem;height:3rem;border-top:1px solid transparent;display:flex;align-items:center}.Header-module--headerName--3kUSq:focus{outline:2px solid #fff;outline-offset:-2px}@media (min-width:66rem){.Header-module--headerName--3kUSq{left:0}}.Header-module--header--1KL7o .Header-module--header-button--1z7HM{flex-shrink:0;transition:background-color .11s cubic-bezier(.2,0,.38,.9)}.Header-module--header--1KL7o .Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq{background-color:#161616;position:relative;border:#161616;border-bottom:1px solid #393939}.Header-module--header--1KL7o .Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq:focus{border-color:#393939;outline:2px solid #fff;outline-offset:-2px}.Header-module--header--1KL7o .Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq:hover{background-color:#353535}.Header-module--header--1KL7o .Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq:active{background-color:#3d3d3d;border-left:1px solid #161616;border-right:1px solid #161616}.Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq.Header-module--switcher-button--open--3e-pB{border-left:1px solid transparent;border-bottom:1px solid transparent;border-color:transparent transparent #161616 #393939;border-style:solid;border-width:1px;background-color:#161616}.Header-module--header-button--1z7HM.Header-module--switcher-button--3Gebq.Header-module--switcher-button--open--3e-pB:active{border-left:1px solid #393939}.Footer-module--bx--text-truncate--end--3LhI1,.Footer-module--bx--text-truncate--front--34UKQ{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Footer-module--bx--text-truncate--front--34UKQ{direction:rtl}.Footer-module--footer--36xlm{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;width:100%;background:#000;color:#c6c6c6;position:relative;z-index:2}.Footer-module--grid--8uMdA{min-height:370px;padding-top:1.5rem;padding-bottom:2rem;display:flex;flex-direction:column;justify-content:space-between}.Footer-module--nav--15dOX{padding-bottom:2.5rem;margin-bottom:1.5rem;position:relative}.Footer-module--nav--15dOX:after{content:"";background:#393939;width:calc(100% - 2rem);height:1px;display:block;position:absolute;bottom:0}@media (min-width:42rem){.Footer-module--nav--15dOX:after{display:none}}.Footer-module--listItem--2vwj8{display:block;margin:0 0 .5rem}@media (min-width:66rem){.Footer-module--listItem--2vwj8{margin:0}}.Footer-module--footer--36xlm p{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;padding-bottom:1rem}.Footer-module--content--NjkFN a{text-decoration:underline}.Footer-module--footer--36xlm a{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;color:#f4f4f4!important;text-decoration:none;outline:none;transition:70ms cubic-bezier(.2,0,.38,.9)}.Footer-module--footer--36xlm a:active,.Footer-module--footer--36xlm a:active:visited,.Footer-module--footer--36xlm a:hover{color:#f4f4f4;text-decoration:underline}.Footer-module--footer--36xlm p:last-child{padding-bottom:rem(48px)}.Footer-module--logo--3otJM{fill:#f4f4f4;margin-top:2rem}.Container-module--bx--text-truncate--end--39vqL,.Container-module--bx--text-truncate--front--1-geL{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Container-module--bx--text-truncate--front--1-geL{direction:rtl}.Container-module--overlay--204OP{z-index:8000;width:100%;height:100%;position:fixed;background:rgba(22,22,22,.5);transition:all .15s ease;pointer-events:none;opacity:0}.Container-module--visible--3UnaN{pointer-events:auto;opacity:1}.AutolinkHeader-module--bx--text-truncate--end--XEBXD,.AutolinkHeader-module--bx--text-truncate--front--mfZJW{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.AutolinkHeader-module--bx--text-truncate--front--mfZJW{direction:rtl}.AutolinkHeader-module--header--1G1tm{position:relative}.AutolinkHeader-module--anchor--36UpA{opacity:0;transition:opacity 70ms cubic-bezier(.2,0,.38,.9);position:absolute;left:-1.5rem;top:0}.AutolinkHeader-module--anchor--36UpA:active,.AutolinkHeader-module--anchor--36UpA:hover{opacity:1}.AutolinkHeader-module--anchor--36UpA svg{fill:#0f62fe}.AutolinkHeader-module--header--1G1tm:hover .AutolinkHeader-module--anchor--36UpA{opacity:1}.Markdown-module--bx--text-truncate--end--1jNTT,.Markdown-module--bx--text-truncate--front--yCgeu{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Markdown-module--bx--text-truncate--front--yCgeu{direction:rtl}.Markdown-module--paragraph--1xZR9{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0;margin-bottom:1.5rem;padding-right:2rem}.Markdown-module--paragraph--responsive--103Tj{margin-left:-1rem;padding-left:1rem}@media (min-width:42rem){.Markdown-module--paragraph--responsive--103Tj{width:75%}}@media (min-width:66rem){.Markdown-module--paragraph--responsive--103Tj{width:66.667%}}.bx--row .Markdown-module--paragraph--1xZR9{width:calc(100% - 1rem)}.Markdown-module--blockquote--Bz_HV{margin:2.5rem 0 2.5rem 2.5rem;color:#0f62fe;font-style:italic}.Markdown-module--blockquote--Bz_HV .Markdown-module--paragraph--1xZR9{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;margin-bottom:0}@media (min-width:42rem){.Markdown-module--blockquote--Bz_HV .Markdown-module--paragraph--responsive--103Tj{width:calc(75% - 3rem)}}@media (min-width:66rem){.Markdown-module--blockquote--Bz_HV .Markdown-module--paragraph--responsive--103Tj{width:calc(66.667% - 3rem)}}.bx--row .Markdown-module--blockquote--Bz_HV .Markdown-module--paragraph--1xZR9{width:calc(100% - 3rem)}.Markdown-module--blockquote--Bz_HV cite{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;display:block;margin-top:.25rem}.Markdown-module--h1--2dotq,.Markdown-module--h2--3_kQn,.Markdown-module--h3--Gwbvh,.Markdown-module--h4--7eW04,.Markdown-module--h5--3fgxy,.Markdown-module--h6--3q-nF,.Markdown-module--list--oZv7L{width:100%}@media (min-width:42rem){.Markdown-module--h1--2dotq,.Markdown-module--h2--3_kQn,.Markdown-module--h3--Gwbvh,.Markdown-module--h4--7eW04,.Markdown-module--h5--3fgxy,.Markdown-module--h6--3q-nF,.Markdown-module--list--oZv7L{width:75%}}@media (min-width:66rem){.Markdown-module--h1--2dotq,.Markdown-module--h2--3_kQn,.Markdown-module--h3--Gwbvh,.Markdown-module--h4--7eW04,.Markdown-module--h5--3fgxy,.Markdown-module--h6--3q-nF,.Markdown-module--list--oZv7L{width:66.667%}}.bx--list--ordered.Markdown-module--list--oZv7L,.bx--list--unordered.Markdown-module--list--oZv7L{margin-bottom:1.5rem}.Markdown-module--list-item--32ShB{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0;padding-right:0;margin:0 0 1rem;width:100%}.Markdown-module--list-item--32ShB .bx--row,.Markdown-module--list-item--32ShB .Markdown-module--paragraph--1xZR9{width:100%}.Markdown-module--list-item--32ShB .Markdown-module--paragraph--1xZR9{margin-bottom:.5rem}.Markdown-module--list-item--32ShB>pre{margin-left:-1rem;margin-right:-1.5rem;margin-top:1rem}@media (min-width:42rem){.Markdown-module--list-item--32ShB>pre{margin-right:1.5rem}}.Markdown-module--h1--2dotq{margin-top:6rem;margin-bottom:1rem;font-size:2rem;font-weight:400;line-height:125%;letter-spacing:0;font-size:calc(2rem + 0.25*(100vw - 20rem)/22)}@media (min-width:42rem){.Markdown-module--h1--2dotq{font-size:2.25rem;font-weight:300;line-height:122%;letter-spacing:0;font-size:calc(2.25rem + 0.375*(100vw - 42rem)/24)}}@media (min-width:66rem){.Markdown-module--h1--2dotq{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.Markdown-module--h1--2dotq{font-size:3rem;font-weight:300;line-height:117%;letter-spacing:0;font-size:calc(3rem + 0.75*(100vw - 82rem)/17)}}@media (min-width:99rem){.Markdown-module--h1--2dotq{font-weight:300;line-height:4.375rem;letter-spacing:0;font-size:3.75rem}}.Markdown-module--h2--3_kQn{margin-top:5rem;margin-bottom:1rem;font-size:1.75rem;font-weight:400;line-height:129%;letter-spacing:0;font-size:calc(1.75rem + 0*(100vw - 20rem)/62)}@media (min-width:82rem){.Markdown-module--h2--3_kQn{font-size:1.75rem;line-height:125%;font-size:calc(1.75rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.Markdown-module--h2--3_kQn{font-size:2rem}}.Markdown-module--h3--Gwbvh{margin-top:4rem;margin-bottom:1rem;font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62)}@media (min-width:82rem){.Markdown-module--h3--Gwbvh{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.Markdown-module--h3--Gwbvh{font-size:1.5rem}}.Markdown-module--h4--7eW04{margin-top:.75rem;font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0}.Markdown-module--h5--3fgxy,.Markdown-module--h6--3q-nF{margin-top:.75rem;font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px}.Code-module--bx--text-truncate--end--9ewGB,.Code-module--bx--text-truncate--front--19zsz{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Code-module--bx--text-truncate--front--19zsz{direction:rtl}li>code,p>code,td>code{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;position:relative;display:inline;padding:0 .5em;font-size:.75em;bottom:.0625em;border-radius:4px;background-color:#e0e0e0;color:#161616}.token:last-of-type{margin-right:64px}.Code-module--row--3_5cm{color:#fff;font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.32px;width:calc(100% + 2rem)}@media (min-width:42rem){.Code-module--row--3_5cm{width:calc(75% - 1rem)}}@media (min-width:66rem){.Code-module--row--3_5cm{width:calc(66.667% - 1rem)}}.Code-module--container--3ZWSe{position:relative;width:100%;margin-bottom:1.5rem}.Code-module--highlight--2tD5P{padding:1rem;position:relative;overflow:auto;width:100%}.Code-module--sideBarMinHeight--1Cpyu{min-height:96px}.Code-module--container--3ZWSe .bx--btn--copy__feedback{position:absolute}.Code-module--container--3ZWSe .bx--btn--copy__feedback:after,.Code-module--container--3ZWSe .bx--btn--copy__feedback:before{left:2rem}.Code-module--container--3ZWSe .bx--btn--copy__feedback:after,.Code-module--container--3ZWSe .bx--btn--copy__feedback:before{z-index:10000}.Code-module--path-row--2UOn5{display:flex;align-items:center;justify-content:space-between;width:100%;height:3rem;background:#161616;padding-left:1rem;padding-right:.5rem;border-bottom:1px solid #393939}.Code-module--sidebar--2s1Ef{position:absolute;right:0;top:0;bottom:16px;padding:8px 8px 8px 32px;display:flex;flex-direction:column;align-items:center;overflow:visible;background:linear-gradient(90deg,hsla(0,0%,9%,0),#171717 24px)}.Code-module--button--1qxEL,.Code-module--copy-button--2W2EG.Code-module--button--1qxEL{width:32px;height:32px;display:flex;justify-content:center;align-items:center;background:transparent;transition:background .11s;z-index:1000}.Code-module--button--1qxEL:hover,.Code-module--copy-button--2W2EG.Code-module--button--1qxEL:hover{background-color:#393939}.Code-module--button--1qxEL svg,.Code-module--copy-button--2W2EG.Code-module--button--1qxEL svg{fill:#fff}.Code-module--path-row--2UOn5 .Code-module--button--1qxEL{position:relative;right:0;top:0}.Code-module--sidebar--2s1Ef .Code-module--button--1qxEL{position:static;margin-bottom:.125rem;flex-shrink:0}.Tabs-module--bx--text-truncate--end--3_NJw,.Tabs-module--bx--text-truncate--front--2pv_P{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Tabs-module--bx--text-truncate--front--2pv_P{direction:rtl}div.Tabs-module--tab-container--1mYil{margin-left:-1rem;min-height:2.5rem;width:100vw}@media (min-width:42rem){div.Tabs-module--tab-container--1mYil{width:100%}}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH{margin-left:0;background-color:#fff;padding-left:1rem;padding-right:1rem;height:3rem;transition:background-color .11s}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH:last-of-type{border-right:none}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH:hover{background:#cacaca}@media (min-width:42rem){div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH{border-right:1px solid #c6c6c6;height:2.5rem;padding-left:0;padding-right:0}}div.Tabs-module--tab-container--1mYil div a{font-weight:600;padding:0}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a{height:3rem;padding-top:1rem;transition:background-color .11s;color:#161616;border-bottom:1px solid #d8d8d8!important;margin-left:0;background-color:transparent}@media (min-width:42rem){div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a{padding-top:.75rem;height:2.5rem;background-color:#e0e0e0;min-width:10rem;border-bottom:none!important}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a:hover{background:#cacaca}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a[aria-selected=true]{background-color:#fff;padding-top:9px;padding-left:1rem;border-top:3px solid #0f62fe!important}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a:active:not([aria-selected=true]){padding-top:.75rem;padding-left:1rem}}.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH:last-of-type a{border-bottom:none!important}div.Tabs-module--tab-container--1mYil .Tabs-module--tab--359kH a:active{padding-top:1rem;padding-left:0}div.Tabs-module--tab-container--1mYil div{background-color:#fff;height:3rem;border-top:3px solid #0f62fe;border-bottom:1px solid #d8d8d8}.Tabs-module--tab-contents--2Gpeo{padding:3rem 1.5rem 1.5rem;background:#fff;margin-left:-1rem;margin-bottom:2.5rem;width:100vw}@media (min-width:42rem){.Tabs-module--tab-contents--2Gpeo{width:100%}}.Link-module--bx--text-truncate--end--20EKA,.Link-module--bx--text-truncate--front--17m6C{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Link-module--bx--text-truncate--front--17m6C{direction:rtl}@keyframes Link-module--skeleton--Dyu_9{0%{width:0;left:0;right:auto;opacity:.3}20%{width:100%;left:0;right:auto;opacity:1}28%{width:100%;left:auto;right:0}51%{width:0;left:auto;right:0}58%{width:0;left:auto;right:0}82%{width:100%;left:auto;right:0}83%{width:100%;left:0;right:auto}96%{width:0;left:0;right:auto}to{width:0;left:0;right:auto;opacity:.3}}.bx--link{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#0f62fe;text-decoration:none;outline:none;transition:70ms cubic-bezier(.2,0,.38,.9)}.bx--link *,.bx--link :after,.bx--link :before{box-sizing:inherit}.bx--link:hover{color:#0043ce;text-decoration:underline}.bx--link:active,.bx--link:active:visited,.bx--link:active:visited:hover{color:#161616;text-decoration:underline}.bx--link:focus{outline:1px solid #0f62fe}.bx--link:not([href]):not(button){color:#c6c6c6;cursor:not-allowed;pointer-events:none;touch-action:none}.bx--link:visited{color:#0f62fe}.bx--link:visited:hover{color:#0043ce}.bx--link--disabled{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;line-height:1.125rem;letter-spacing:.16px;display:inline;color:#c6c6c6;font-weight:400;cursor:not-allowed}.bx--link--disabled *,.bx--link--disabled :after,.bx--link--disabled :before{box-sizing:inherit}.bx--link.bx--link--visited:visited{color:#8a3ffc}.bx--link.bx--link--visited:visited:hover{color:#0043ce}.bx--link.bx--link--inline{text-decoration:underline}.bx--link.bx--link--inline:hover{color:#0043ce}.bx--link.bx--link--inline:focus,.bx--link.bx--link--inline:visited{text-decoration:none}.bx--link--disabled.bx--link--inline{text-decoration:underline}.Link-module--link--PAAZ2{font-size:inherit}.FourOhFour-module--bx--text-truncate--end--1gkA_,.FourOhFour-module--bx--text-truncate--front--2XHfz{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.FourOhFour-module--bx--text-truncate--front--2XHfz{direction:rtl}.FourOhFour-module--four-oh-four--2AnRI{font-size:2.625rem;font-weight:600;line-height:119%;letter-spacing:0;font-size:144px;background:linear-gradient(35deg,#92eeee,#a66efa);display:inline-block;background-size:200% 200%;-webkit-text-fill-color:transparent;-webkit-background-clip:text;margin:2.5rem 0 10rem;animation:FourOhFour-module--gradient--rImbh 2s ease infinite}@media (min-width:42rem){.FourOhFour-module--four-oh-four--2AnRI{font-size:25vw}}@media (min-width:66rem){.FourOhFour-module--four-oh-four--2AnRI{font-size:300px}}.FourOhFour-module--list--2n1V0 .FourOhFour-module--link--23L6L{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;margin-bottom:.5rem;position:relative;display:inline-block;transition:color .11s;color:#fff;text-decoration:none;margin-left:1rem}.FourOhFour-module--list--2n1V0 .FourOhFour-module--link--23L6L:hover,.FourOhFour-module--list--2n1V0 .FourOhFour-module--link--23L6L:hover:before{color:#78a9ff}.FourOhFour-module--list--2n1V0 .FourOhFour-module--link--23L6L:before{content:"\21B3";position:absolute;left:-1rem;color:#fff;transition:color .11s;cursor:pointer}.FourOhFour-module--paragraph--zUJ4o{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px;font-size:1.25rem;line-height:1.5;max-width:500px;margin-bottom:1.5rem}.FourOhFour-module--heading--1A3C6{font-size:1.75rem;font-weight:400;line-height:129%;letter-spacing:0;font-size:calc(1.75rem + 0*(100vw - 20rem)/62);margin-bottom:1.5rem}@media (min-width:82rem){.FourOhFour-module--heading--1A3C6{font-size:1.75rem;line-height:125%;font-size:calc(1.75rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.FourOhFour-module--heading--1A3C6{font-size:2rem}}.FourOhFour-module--container--y4OnR{margin:6rem 0 0;max-width:100%;min-height:calc(100vh - 455px);padding-left:2rem;padding-right:2rem}@media (min-width:66rem){.FourOhFour-module--container--y4OnR{padding-left:calc(25% + 2rem)}}@media (min-width:99rem){.FourOhFour-module--container--y4OnR{padding-left:400px}}@keyframes FourOhFour-module--gradient--rImbh{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}.Banner-module--bx--text-truncate--end--2Qqv6,.Banner-module--bx--text-truncate--front--3ZPq5{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Banner-module--bx--text-truncate--front--3ZPq5{direction:rtl}.Banner-module--column--2Oknh{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;color:#fff;display:flex;flex-direction:column;justify-content:flex-end;height:100%}.Banner-module--row--3akW1{height:100%}.Banner-module--row--3akW1 h1{padding:2rem 0}.Banner-module--grid--1aCPQ{background-size:cover;height:50vh;max-height:560px;width:100%;max-width:100%}@media (min-width:66rem){.Banner-module--grid--1aCPQ{padding-left:256px}}.Callout-module--bx--text-truncate--end--1sxdJ,.Callout-module--bx--text-truncate--front--3wu-7{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Callout-module--bx--text-truncate--front--3wu-7{direction:rtl}.Callout-module--grid--2JWDG{width:100%;max-width:100%}.Callout-module--row--1dK6j{padding-top:4rem;padding-bottom:4rem;max-width:74.25rem}.Callout-module--firstColumn--W_mMf{font-size:1.75rem;font-weight:400;line-height:129%;letter-spacing:0;font-size:calc(1.75rem + 0*(100vw - 20rem)/62);margin-bottom:2rem}@media (min-width:82rem){.Callout-module--firstColumn--W_mMf{font-size:1.75rem;line-height:125%;font-size:calc(1.75rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.Callout-module--firstColumn--W_mMf{font-size:2rem}}.Callout-module--secondColumn--2DKwP{font-size:1.5rem;font-weight:300;line-height:125%;letter-spacing:0;font-size:calc(1.5rem + 0.25*(100vw - 20rem)/46)}@media (min-width:66rem){.Callout-module--secondColumn--2DKwP{font-size:1.75rem;line-height:129%;font-size:calc(1.75rem + 0.25*(100vw - 66rem)/33)}}@media (min-width:99rem){.Callout-module--secondColumn--2DKwP{line-height:125%;font-size:2rem}}.Main-module--bx--text-truncate--end--3V1K7,.Main-module--bx--text-truncate--front--1BxpW{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Main-module--bx--text-truncate--front--1BxpW{direction:rtl}.Main-module--main--24PSV{padding-bottom:80px}.Main-module--padded--1EKjR{min-height:calc(100vh - 40rem);padding-top:80px;padding-bottom:10rem}.Main-module--padded--1EKjR>:first-child{margin-top:0}.NextPrevious-module--bx--text-truncate--end--2fdwE,.NextPrevious-module--bx--text-truncate--front--2EOD_{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.NextPrevious-module--bx--text-truncate--front--2EOD_{direction:rtl}.NextPrevious-module--wrapper--i4HKx{background:#161616;color:#fff}.NextPrevious-module--wrapper--i4HKx .NextPrevious-module--link-container--1A3xp{display:flex;height:8rem;max-width:99rem}@media (min-width:42rem){.NextPrevious-module--wrapper--i4HKx .NextPrevious-module--link-container--1A3xp{padding:0 1rem}}@media (min-width:66rem){.NextPrevious-module--wrapper--i4HKx .NextPrevious-module--link-container--1A3xp{padding:0 0 0 calc(25% + 1rem)}}@media (min-width:99rem){.NextPrevious-module--wrapper--i4HKx .NextPrevious-module--link-container--1A3xp{padding-left:calc(400px - 1rem)}}.NextPrevious-module--link-container--1A3xp .NextPrevious-module--link--2Pl2N{color:#fff;padding:1rem;text-decoration:none;width:50%;transition:background .11s cubic-bezier(.2,0,.38,.9)}.NextPrevious-module--link-container--1A3xp .NextPrevious-module--link--2Pl2N:hover{background:#393939;text-decoration:none}.NextPrevious-module--first-link--raN11{margin-right:auto}.NextPrevious-module--second-link--24E2R{margin-left:auto}.NextPrevious-module--direction--3xiCx{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px}.NextPrevious-module--name--YKYmq{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62);padding-bottom:1rem;max-width:17rem}@media (min-width:82rem){.NextPrevious-module--name--YKYmq{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.NextPrevious-module--name--YKYmq{font-size:1.5rem}}.NextPrevious-module--home--1AU5y{color:#fff}.Homepage-module--bx--text-truncate--end--1oLh1,.Homepage-module--bx--text-truncate--front--3g7zo{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.Homepage-module--bx--text-truncate--front--3g7zo{direction:rtl}.Homepage-module--callout-link---DAb8{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0;margin-top:1.5rem;display:block}[class*=Banner-module--grid--1aCPQ]{height:0}[class*=bx--header__action]{visibility:hidden}[class*=bx--col-lg-12],[class*=bx--grid]{max-width:80%}.bx--text-truncate--end,.bx--text-truncate--front{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.bx--text-truncate--front{direction:rtl}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}button,input,select,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}@media screen and (-ms-high-contrast:active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:3.125rem;letter-spacing:0}h2{font-size:2rem;line-height:2.5rem}h2,h3{font-weight:400;letter-spacing:0}h3{font-size:1.75rem;line-height:2.25rem}h4{font-size:1.25rem;font-weight:400;line-height:1.625rem}h4,h5{letter-spacing:0}h5{font-size:1rem;line-height:1.375rem}h5,h6{font-weight:600}h6{font-size:.875rem;line-height:1.125rem;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0}a{color:#0062ff}em{font-style:italic}@keyframes skeleton{0%{width:0;left:0;right:auto;opacity:.3}20%{width:100%;left:0;right:auto;opacity:1}28%{width:100%;left:auto;right:0}51%{width:0;left:auto;right:0}58%{width:0;left:auto;right:0}82%{width:100%;left:auto;right:0}83%{width:100%;left:0;right:auto}96%{width:0;left:0;right:auto}to{width:0;left:0;right:auto;opacity:.3}}.bx--grid{margin-right:auto;margin-left:auto;max-width:99rem;padding-left:1rem;padding-right:1rem}@media (min-width:42rem){.bx--grid{padding-left:2rem;padding-right:2rem}}@media (min-width:99rem){.bx--grid--full-width{max-width:100%}}.bx--row{display:flex;flex-wrap:wrap;margin-right:-1rem;margin-left:-1rem}.bx--col-padding,.bx--row-padding [class*=bx--col]{padding-top:1rem;padding-bottom:1rem}.bx--grid--condensed [class*=bx--col]{padding-top:.0625rem;padding-bottom:.0625rem}.bx--col{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col,.bx--row--condensed .bx--col{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm-0{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm-0,.bx--row--condensed .bx--col-sm-0{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm-1{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm-1,.bx--row--condensed .bx--col-sm-1{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm-2{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm-2,.bx--row--condensed .bx--col-sm-2{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm-3{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm-3,.bx--row--condensed .bx--col-sm-3{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm-4{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm-4,.bx--row--condensed .bx--col-sm-4{padding-right:.0625rem;padding-left:.0625rem}.bx--col-sm,.bx--col-sm--auto{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-sm,.bx--grid--condensed .bx--col-sm--auto,.bx--row--condensed .bx--col-sm,.bx--row--condensed .bx--col-sm--auto{padding-right:.0625rem;padding-left:.0625rem}.bx--col,.bx--col-sm{flex-basis:0;flex-grow:1;max-width:100%}.bx--col--auto,.bx--col-sm--auto{flex:1 0;width:auto;max-width:100%}.bx--col-sm-0{display:none}.bx--col-sm-1{display:block;flex:0 0 25%;max-width:25%}.bx--col-sm-2{display:block;flex:0 0 50%;max-width:50%}.bx--col-sm-3{display:block;flex:0 0 75%;max-width:75%}.bx--col-sm-4{display:block;flex:0 0 100%;max-width:100%}.bx--offset-sm-0{margin-left:0}.bx--offset-sm-1{margin-left:25%}.bx--offset-sm-2{margin-left:50%}.bx--offset-sm-3{margin-left:75%}.bx--col-md-0{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-0,.bx--row--condensed .bx--col-md-0{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-1{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-1,.bx--row--condensed .bx--col-md-1{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-2{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-2,.bx--row--condensed .bx--col-md-2{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-3{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-3,.bx--row--condensed .bx--col-md-3{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-4{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-4,.bx--row--condensed .bx--col-md-4{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-5{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-5,.bx--row--condensed .bx--col-md-5{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-6{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-6,.bx--row--condensed .bx--col-md-6{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-7{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-7,.bx--row--condensed .bx--col-md-7{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md-8{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md-8,.bx--row--condensed .bx--col-md-8{padding-right:.0625rem;padding-left:.0625rem}.bx--col-md,.bx--col-md--auto{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-md,.bx--grid--condensed .bx--col-md--auto,.bx--row--condensed .bx--col-md,.bx--row--condensed .bx--col-md--auto{padding-right:.0625rem;padding-left:.0625rem}@media (min-width:42rem){.bx--col,.bx--col-md{flex-basis:0;flex-grow:1;max-width:100%}.bx--col--auto,.bx--col-md--auto{flex:1 0;width:auto;max-width:100%}.bx--col-md-0{display:none}.bx--col-md-1{display:block;flex:0 0 12.5%;max-width:12.5%}.bx--col-md-2{display:block;flex:0 0 25%;max-width:25%}.bx--col-md-3{display:block;flex:0 0 37.5%;max-width:37.5%}.bx--col-md-4{display:block;flex:0 0 50%;max-width:50%}.bx--col-md-5{display:block;flex:0 0 62.5%;max-width:62.5%}.bx--col-md-6{display:block;flex:0 0 75%;max-width:75%}.bx--col-md-7{display:block;flex:0 0 87.5%;max-width:87.5%}.bx--col-md-8{display:block;flex:0 0 100%;max-width:100%}.bx--offset-md-0{margin-left:0}.bx--offset-md-1{margin-left:12.5%}.bx--offset-md-2{margin-left:25%}.bx--offset-md-3{margin-left:37.5%}.bx--offset-md-4{margin-left:50%}.bx--offset-md-5{margin-left:62.5%}.bx--offset-md-6{margin-left:75%}.bx--offset-md-7{margin-left:87.5%}}.bx--col-lg-0{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-0,.bx--row--condensed .bx--col-lg-0{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-1{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-1,.bx--row--condensed .bx--col-lg-1{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-2{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-2,.bx--row--condensed .bx--col-lg-2{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-3{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-3,.bx--row--condensed .bx--col-lg-3{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-4{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-4,.bx--row--condensed .bx--col-lg-4{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-5{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-5,.bx--row--condensed .bx--col-lg-5{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-6{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-6,.bx--row--condensed .bx--col-lg-6{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-7{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-7,.bx--row--condensed .bx--col-lg-7{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-8{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-8,.bx--row--condensed .bx--col-lg-8{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-9{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-9,.bx--row--condensed .bx--col-lg-9{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-10{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-10,.bx--row--condensed .bx--col-lg-10{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-11{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-11,.bx--row--condensed .bx--col-lg-11{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg-12{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg-12,.bx--row--condensed .bx--col-lg-12{padding-right:.0625rem;padding-left:.0625rem}.bx--col-lg,.bx--col-lg--auto{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-lg,.bx--grid--condensed .bx--col-lg--auto,.bx--row--condensed .bx--col-lg,.bx--row--condensed .bx--col-lg--auto{padding-right:.0625rem;padding-left:.0625rem}@media (min-width:66rem){.bx--col,.bx--col-lg{flex-basis:0;flex-grow:1;max-width:100%}.bx--col--auto,.bx--col-lg--auto{flex:1 0;width:auto;max-width:100%}.bx--col-lg-0{display:none}.bx--col-lg-1{display:block;flex:0 0 8.33333%;max-width:8.33333%}.bx--col-lg-2{display:block;flex:0 0 16.66667%;max-width:16.66667%}.bx--col-lg-3{display:block;flex:0 0 25%;max-width:25%}.bx--col-lg-4{display:block;flex:0 0 33.33333%;max-width:33.33333%}.bx--col-lg-5{display:block;flex:0 0 41.66667%;max-width:41.66667%}.bx--col-lg-6{display:block;flex:0 0 50%;max-width:50%}.bx--col-lg-7{display:block;flex:0 0 58.33333%;max-width:58.33333%}.bx--col-lg-8{display:block;flex:0 0 66.66667%;max-width:66.66667%}.bx--col-lg-9{display:block;flex:0 0 75%;max-width:75%}.bx--col-lg-10{display:block;flex:0 0 83.33333%;max-width:83.33333%}.bx--col-lg-11{display:block;flex:0 0 91.66667%;max-width:91.66667%}.bx--col-lg-12{display:block;flex:0 0 100%;max-width:100%}.bx--offset-lg-0{margin-left:0}.bx--offset-lg-1{margin-left:8.33333%}.bx--offset-lg-2{margin-left:16.66667%}.bx--offset-lg-3{margin-left:25%}.bx--offset-lg-4{margin-left:33.33333%}.bx--offset-lg-5{margin-left:41.66667%}.bx--offset-lg-6{margin-left:50%}.bx--offset-lg-7{margin-left:58.33333%}.bx--offset-lg-8{margin-left:66.66667%}.bx--offset-lg-9{margin-left:75%}.bx--offset-lg-10{margin-left:83.33333%}.bx--offset-lg-11{margin-left:91.66667%}}.bx--col-xlg-0{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-0,.bx--row--condensed .bx--col-xlg-0{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-1{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-1,.bx--row--condensed .bx--col-xlg-1{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-2{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-2,.bx--row--condensed .bx--col-xlg-2{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-3{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-3,.bx--row--condensed .bx--col-xlg-3{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-4{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-4,.bx--row--condensed .bx--col-xlg-4{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-5{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-5,.bx--row--condensed .bx--col-xlg-5{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-6{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-6,.bx--row--condensed .bx--col-xlg-6{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-7{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-7,.bx--row--condensed .bx--col-xlg-7{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-8{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-8,.bx--row--condensed .bx--col-xlg-8{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-9{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-9,.bx--row--condensed .bx--col-xlg-9{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-10{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-10,.bx--row--condensed .bx--col-xlg-10{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-11{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-11,.bx--row--condensed .bx--col-xlg-11{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg-12{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg-12,.bx--row--condensed .bx--col-xlg-12{padding-right:.0625rem;padding-left:.0625rem}.bx--col-xlg,.bx--col-xlg--auto{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-xlg,.bx--grid--condensed .bx--col-xlg--auto,.bx--row--condensed .bx--col-xlg,.bx--row--condensed .bx--col-xlg--auto{padding-right:.0625rem;padding-left:.0625rem}@media (min-width:82rem){.bx--col,.bx--col-xlg{flex-basis:0;flex-grow:1;max-width:100%}.bx--col--auto,.bx--col-xlg--auto{flex:1 0;width:auto;max-width:100%}.bx--col-xlg-0{display:none}.bx--col-xlg-1{display:block;flex:0 0 8.33333%;max-width:8.33333%}.bx--col-xlg-2{display:block;flex:0 0 16.66667%;max-width:16.66667%}.bx--col-xlg-3{display:block;flex:0 0 25%;max-width:25%}.bx--col-xlg-4{display:block;flex:0 0 33.33333%;max-width:33.33333%}.bx--col-xlg-5{display:block;flex:0 0 41.66667%;max-width:41.66667%}.bx--col-xlg-6{display:block;flex:0 0 50%;max-width:50%}.bx--col-xlg-7{display:block;flex:0 0 58.33333%;max-width:58.33333%}.bx--col-xlg-8{display:block;flex:0 0 66.66667%;max-width:66.66667%}.bx--col-xlg-9{display:block;flex:0 0 75%;max-width:75%}.bx--col-xlg-10{display:block;flex:0 0 83.33333%;max-width:83.33333%}.bx--col-xlg-11{display:block;flex:0 0 91.66667%;max-width:91.66667%}.bx--col-xlg-12{display:block;flex:0 0 100%;max-width:100%}.bx--offset-xlg-0{margin-left:0}.bx--offset-xlg-1{margin-left:8.33333%}.bx--offset-xlg-2{margin-left:16.66667%}.bx--offset-xlg-3{margin-left:25%}.bx--offset-xlg-4{margin-left:33.33333%}.bx--offset-xlg-5{margin-left:41.66667%}.bx--offset-xlg-6{margin-left:50%}.bx--offset-xlg-7{margin-left:58.33333%}.bx--offset-xlg-8{margin-left:66.66667%}.bx--offset-xlg-9{margin-left:75%}.bx--offset-xlg-10{margin-left:83.33333%}.bx--offset-xlg-11{margin-left:91.66667%}}.bx--col-max-0{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-0,.bx--row--condensed .bx--col-max-0{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-1{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-1,.bx--row--condensed .bx--col-max-1{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-2{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-2,.bx--row--condensed .bx--col-max-2{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-3{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-3,.bx--row--condensed .bx--col-max-3{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-4{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-4,.bx--row--condensed .bx--col-max-4{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-5{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-5,.bx--row--condensed .bx--col-max-5{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-6{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-6,.bx--row--condensed .bx--col-max-6{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-7{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-7,.bx--row--condensed .bx--col-max-7{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-8{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-8,.bx--row--condensed .bx--col-max-8{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-9{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-9,.bx--row--condensed .bx--col-max-9{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-10{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-10,.bx--row--condensed .bx--col-max-10{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-11{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-11,.bx--row--condensed .bx--col-max-11{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max-12{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max-12,.bx--row--condensed .bx--col-max-12{padding-right:.0625rem;padding-left:.0625rem}.bx--col-max,.bx--col-max--auto{width:100%;padding-right:1rem;padding-left:1rem}.bx--grid--condensed .bx--col-max,.bx--grid--condensed .bx--col-max--auto,.bx--row--condensed .bx--col-max,.bx--row--condensed .bx--col-max--auto{padding-right:.0625rem;padding-left:.0625rem}@media (min-width:99rem){.bx--col,.bx--col-max{flex-basis:0;flex-grow:1;max-width:100%}.bx--col--auto,.bx--col-max--auto{flex:1 0;width:auto;max-width:100%}.bx--col-max-0{display:none}.bx--col-max-1{display:block;flex:0 0 8.33333%;max-width:8.33333%}.bx--col-max-2{display:block;flex:0 0 16.66667%;max-width:16.66667%}.bx--col-max-3{display:block;flex:0 0 25%;max-width:25%}.bx--col-max-4{display:block;flex:0 0 33.33333%;max-width:33.33333%}.bx--col-max-5{display:block;flex:0 0 41.66667%;max-width:41.66667%}.bx--col-max-6{display:block;flex:0 0 50%;max-width:50%}.bx--col-max-7{display:block;flex:0 0 58.33333%;max-width:58.33333%}.bx--col-max-8{display:block;flex:0 0 66.66667%;max-width:66.66667%}.bx--col-max-9{display:block;flex:0 0 75%;max-width:75%}.bx--col-max-10{display:block;flex:0 0 83.33333%;max-width:83.33333%}.bx--col-max-11{display:block;flex:0 0 91.66667%;max-width:91.66667%}.bx--col-max-12{display:block;flex:0 0 100%;max-width:100%}.bx--offset-max-0{margin-left:0}.bx--offset-max-1{margin-left:8.33333%}.bx--offset-max-2{margin-left:16.66667%}.bx--offset-max-3{margin-left:25%}.bx--offset-max-4{margin-left:33.33333%}.bx--offset-max-5{margin-left:41.66667%}.bx--offset-max-6{margin-left:50%}.bx--offset-max-7{margin-left:58.33333%}.bx--offset-max-8{margin-left:66.66667%}.bx--offset-max-9{margin-left:75%}.bx--offset-max-10{margin-left:83.33333%}.bx--offset-max-11{margin-left:91.66667%}}.bx--no-gutter,.bx--row.bx--no-gutter [class*=bx--col]{padding-left:0;padding-right:0}.bx--no-gutter--left,.bx--row.bx--no-gutter--left [class*=bx--col]{padding-left:0}.bx--no-gutter--right,.bx--row.bx--no-gutter--right [class*=bx--col]{padding-right:0}.bx--hang--left{padding-left:1rem}.bx--hang--right{padding-right:1rem}.bx--aspect-ratio{position:relative}.bx--aspect-ratio:before{content:"";width:1px;margin-left:-1px;float:left;height:0}.bx--aspect-ratio:after{content:"";display:table;clear:both}.bx--aspect-ratio--16x9:before{padding-top:56.25%}.bx--aspect-ratio--9x16:before{padding-top:177.77778%}.bx--aspect-ratio--2x1:before{padding-top:50%}.bx--aspect-ratio--1x2:before{padding-top:200%}.bx--aspect-ratio--4x3:before{padding-top:75%}.bx--aspect-ratio--3x4:before{padding-top:133.33333%}.bx--aspect-ratio--1x1:before{padding-top:100%}.bx--aspect-ratio--object{position:absolute;top:0;left:0;width:100%;height:100%}.bx--header{display:flex;align-items:center;position:fixed;top:0;left:0;right:0;height:3rem;background-color:#161616;z-index:6000}.bx--header__action{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;cursor:pointer;width:100%;width:3rem;height:3rem;border:.125rem solid transparent;transition:background-color .11s,border-color .11s}.bx--header__action *,.bx--header__action :after,.bx--header__action :before{box-sizing:inherit}.bx--header__action::-moz-focus-inner{border:0}.bx--header__action--active>svg.bx--navigation-menu-panel-expand-icon,.bx--header__action>svg.bx--navigation-menu-panel-collapse-icon{display:none}.bx--header__action--active>svg.bx--navigation-menu-panel-collapse-icon{display:inline}.bx--header__action:hover{background-color:#353535}.bx--header__action--active{border-left:1px solid #393939;border-right:1px solid #393939;border-bottom:1px solid #161616}.bx--header__action:focus{border-color:#fff;outline:none}.bx--header__action:active{background-color:#393939}.bx--header__action>svg{fill:#fff}.bx--header__menu-trigger{margin-right:-.5rem}.bx--header__menu-trigger>svg{fill:#f4f4f4}.bx--header__menu-trigger:hover{fill:#2c2c2c}.bx--header__menu-toggle{display:block}@media (min-width:66rem){.bx--header__menu-toggle__hidden{display:none}}a.bx--header__name{font-size:.875rem;line-height:1.125rem;letter-spacing:.16px;display:flex;align-items:center;height:100%;padding:0 2rem 0 1rem;text-decoration:none;letter-spacing:.1px;line-height:20px;-webkit-user-select:none;-ms-user-select:none;user-select:none;border:.125rem solid transparent;transition:border-color .11s;outline:none}a.bx--header__name:focus{border-color:#fff}a.bx--header__name,a.bx--header__name:hover{color:#f4f4f4}.bx--header__nav{height:100%;padding-left:1rem;position:relative}@media (min-width:66rem){.bx--header__nav{display:block}}.bx--header__nav:before{content:"";display:block;position:absolute;left:0;top:50%;transform:translateY(-50%);height:1.5rem;width:.0625rem;background-color:#393939}.bx--header__menu-bar{display:flex;height:100%;list-style:none;padding:0;margin:0}a.bx--header__menu-item{position:relative;display:flex;align-items:center;color:#c6c6c6;padding:0 1rem;height:100%;font-size:.875rem;font-weight:400;letter-spacing:0;line-height:1.125rem;text-decoration:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;border:2px solid transparent;transition:background-color .11s,border-color .11s,color .11s}a.bx--header__menu-item:hover{background-color:#2c2c2c;color:#f4f4f4}.bx--header__action:active,a.bx--header__menu-item:active{background-color:#393939;color:#f4f4f4}a.bx--header__menu-item:focus{border-color:#fff;color:#f4f4f4;outline:none}a.bx--header__menu-item:active>svg,a.bx--header__menu-item:focus>svg,a.bx--header__menu-item:hover>svg{fill:#f4f4f4}.bx--header__menu-item--current:after,a.bx--header__menu-item[aria-current=page]:after{content:"";width:100%;position:absolute;top:0;bottom:-2px;left:0;right:0;border-bottom:3px solid #4589ff}.bx--header__menu-item--current:focus:after,a.bx--header__menu-item[aria-current=page]:focus:after{border:0}a.bx--header__menu-item.bx--header__menu-item--current:focus,a.bx--header__menu-item[aria-current=page]:focus{border:2px solid #fff}.bx--header__menu-title[aria-haspopup=true],.bx--header__submenu{position:relative}.bx--header__menu-title[aria-expanded=true]{background-color:#262626;color:#fff;z-index:6001}.bx--header__menu-title[aria-expanded=true]>.bx--header__menu-arrow{transform:rotate(180deg)}.bx--header__menu{display:none;list-style:none;padding:0;margin:0}.bx--header__menu-title[aria-expanded=true]+.bx--header__menu{position:absolute;bottom:0;left:0;display:flex;width:12.5rem;flex-direction:column;transform:translateY(100%);background-color:#262626;box-shadow:0 4px 8px 0 rgba(0,0,0,.5);z-index:6000}.bx--header__menu-title[aria-expanded=true]+.bx--header__menu .bx--header__menu-item:hover{background-color:#353535}.bx--header__menu-title[aria-expanded=true]+.bx--header__menu .bx--header__menu-item:active{background-color:#393939}.bx--header__menu .bx--header__menu-item{height:3rem}.bx--header__menu .bx--header__menu-item:hover{background-color:#262626;color:#f4f4f4}.bx--header__menu-arrow{fill:#c6c6c6;margin-left:.5rem;transition:transform .11s,fill .11s}.bx--header__global{display:flex;justify-content:flex-end;flex:1 1;height:100%}.bx--skip-to-content{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;visibility:inherit;white-space:nowrap}.bx--skip-to-content:focus{display:flex;align-items:center;top:0;left:0;width:auto;height:3rem;clip:auto;border:4px solid #0f62fe;z-index:9999;background-color:#161616;color:#f4f4f4;outline:none;padding:0 1rem}.bx--assistive-text,.bx--visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;visibility:inherit;white-space:nowrap}.bx--body{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#161616;background-color:#fff;line-height:1}.bx--body *,.bx--body :after,.bx--body :before{box-sizing:inherit}.bx--header-panel{transition-timing-function:cubic-bezier(.2,0,1,.9);position:fixed;top:3rem;bottom:0;right:0;width:0;background-color:#161616;border:none;will-change:width;transition:width .11s;overflow:hidden;z-index:6000;color:#c6c6c6}.bx--header-panel--expanded{width:16rem;border-left:1px solid #393939;border-right:1px solid #393939}.bx--panel--overlay{position:fixed;top:3rem;right:0;bottom:0;width:16rem;will-change:transform;transform:translate3d(100%,0,0);padding:1rem 0;overflow-y:auto;z-index:1000;background-color:#161616;height:100%;overflow-x:hidden;transition:transform .11s cubic-bezier(.2,0,.38,.9)}.bx--panel--expanded{box-shadow:0 8px 16px 0 rgba(0,0,0,.25);transform:translateZ(0)}.bx--product-switcher__search{padding:0 1rem;margin-bottom:1.5rem}.bx--search--shell input{background-color:#e0e0e0}.bx--product-switcher__all-btn,.bx--product-switcher__subheader{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;padding:.5rem;color:#c6c6c6}.bx--product-switcher__all-btn,.bx--product-switcher__subheader{padding-left:3.5rem}.bx--product-switcher__all-btn,.bx--product-switcher__back-btn{display:inline-block;background:transparent;width:100%;border:none;color:#0f62fe;cursor:pointer;text-align:left}.bx--product-switcher__all-btn:hover,.bx--product-switcher__back-btn:hover{text-decoration:underline}.bx--product-switcher__all-btn:focus,.bx--product-switcher__back-btn:focus{outline:none;box-shadow:inset 0 0 0 3px #0f62fe}.bx--product-switcher__back-btn{display:flex;align-items:center;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;padding:.5rem 1rem}.bx--product-switcher__back-arrow{fill:#0f62fe;margin-right:1rem}.bx--product-list__item{cursor:pointer;display:flex;justify-content:space-between;align-items:center}.bx--product-list__item:hover{background:#e0e0e0}.bx--product-link{display:flex;flex-direction:row;align-items:center;width:100%;padding:.5rem 1rem;text-decoration:none}.bx--product-link:focus{outline:none;box-shadow:inset 0 0 0 3px #0f62fe}.bx--product-switcher__icon{margin-right:1rem}.bx--product-link__name{font-size:.875rem;line-height:1.125rem;letter-spacing:.16px;margin-left:.25rem;font-weight:400;color:#c6c6c6}.bx--product-switcher__product-list .bx--overflow-menu{display:none;justify-content:center;align-items:center;width:2.5rem}.bx--product-switcher__product-list .bx--overflow-menu.bx--overflow-menu--open{display:flex}.bx--product-switcher__product-list .bx--overflow-menu>svg{fill:#c6c6c6}.bx--product-switcher__product-list .bx--overflow-menu:hover{background:#c6c6c6}.bx--product-switcher__product-list .bx--overflow-menu:hover>svg{fill:#c6c6c6}.bx--product-switcher__product-list .bx--overflow-menu:focus{display:flex;outline:none;box-shadow:inset 0 0 0 3px #0f62fe}.bx--product-switcher__product-list .bx--overflow-menu-options__option:hover{background:#fff}.bx--product-list__item:hover .bx--overflow-menu{display:flex}.bx--switcher{display:flex;flex-direction:column;justify-content:center;align-items:center;color:#c6c6c6}.bx--switcher__item{width:100%;height:2rem}.bx--switcher__item:first-child{margin-top:1rem}.bx--switcher__item--divider{display:block;width:14rem;height:1px;margin:.5rem 1rem;background:#393939;border:none}.bx--switcher__item-link{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;display:block;height:2rem;text-decoration:none;padding:.375rem 1rem;color:#c6c6c6}.bx--switcher__item-link:hover:not(.bx--switcher__item-link--selected){background:#2c2c2c;color:#f4f4f4;cursor:pointer}.bx--switcher__item-link:focus{outline:2px solid #fff;outline-offset:-2px}.bx--switcher__item-link:active{background:#393939;color:#f4f4f4}.bx--switcher__item-link--selected{background:#262626;color:#f4f4f4}.bx--side-nav{position:fixed;top:0;bottom:0;left:0;width:3rem;max-width:16rem;color:#525252;background-color:#fff;will-change:width;transition:width .11s cubic-bezier(.2,0,1,.9);overflow:hidden;z-index:6000}.bx--side-nav--ux{top:3rem;width:16rem}@media (max-width:65.98rem){.bx--side-nav--ux{width:0}}.bx--side-nav--rail{width:3rem}.bx--side-nav--hidden{width:0}.bx--side-nav--expanded,.bx--side-nav.bx--side-nav--rail:not(.bx--side-nav--fixed):hover{width:16rem}.bx--side-nav__overlay{position:absolute;top:3rem;height:0;width:0;background-color:transparent;opacity:0;transition:opacity .24s cubic-bezier(.2,0,.38,.9),background-color .24s cubic-bezier(.2,0,.38,.9)}@media (max-width:65.98rem){.bx--side-nav__overlay-active{height:100vh;width:100%;background-color:rgba(22,22,22,.5);opacity:1;transition:opacity .24s cubic-bezier(.2,0,.38,.9),background-color .24s cubic-bezier(.2,0,.38,.9)}}.bx--header~.bx--side-nav{top:3rem;height:calc(100% - 48px)}.bx--side-nav--fixed{width:16rem}.bx--side-nav--collapsed{width:16rem;transform:translateX(-16rem)}.bx--side-nav__navigation{display:flex;flex-direction:column;height:100%}.bx--side-nav__header{display:flex;border-bottom:1px solid #393939;width:100%;height:3rem;max-width:100%}.bx--side-nav--expanded .bx--side-nav__header,.bx--side-nav--fixed .bx--side-nav__header,.bx--side-nav--ux .bx--side-nav__header,.bx--side-nav:hover .bx--side-nav__header{height:auto}.bx--side-nav__details{display:flex;flex-direction:column;padding-right:1rem;flex:1 1;min-width:0;opacity:0;visibility:hidden}.bx--side-nav--expanded .bx--side-nav__details,.bx--side-nav--fixed .bx--side-nav__details,.bx--side-nav--ux .bx--side-nav__details,.bx--side-nav:hover .bx--side-nav__details{visibility:inherit;opacity:1}.bx--side-nav__title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.875rem;font-weight:600;letter-spacing:.1px;margin-top:1rem;-webkit-user-select:none;-ms-user-select:none;user-select:none}.bx--side-nav__select,.bx--side-nav__title{padding-left:.5rem}.bx--side-nav__switcher{position:relative;display:flex;align-items:center;justify-content:space-between}.bx--side-nav__switcher-chevron{display:flex;align-items:center;position:absolute;top:0;right:.5rem;bottom:0;fill:#525252}.bx--side-nav__select{outline:2px solid transparent;outline-offset:-2px;-webkit-appearance:none;-moz-appearance:none;appearance:none;flex:1 1;background-color:#161616;color:#f4f4f4;height:100%;border:none;border-radius:0;cursor:pointer;font-size:.75rem;height:2rem;min-width:0;padding-right:2rem;transition:outline .11s}.bx--side-nav__select:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--side-nav__footer{flex:0 0 3rem;width:100%;background-color:#fff}.bx--side-nav__toggle{outline:2px solid transparent;outline-offset:-2px;box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;cursor:pointer;width:100%;height:100%;text-align:left;transition:outline .11s}.bx--side-nav__toggle *,.bx--side-nav__toggle :after,.bx--side-nav__toggle :before{box-sizing:inherit}.bx--side-nav__toggle::-moz-focus-inner{border:0}.bx--side-nav__toggle:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--side-nav__toggle{padding-left:1rem}.bx--side-nav__items{flex:1 1;overflow:hidden;padding:1rem 0 0}.bx--side-nav--expanded .bx--side-nav__items,.bx--side-nav--fixed .bx--side-nav__items,.bx--side-nav--ux .bx--side-nav__items,.bx--side-nav:hover .bx--side-nav__items{overflow-y:auto}.bx--side-nav__item{width:3rem;height:3rem;overflow:hidden}.bx--side-nav--expanded .bx--side-nav__item,.bx--side-nav--fixed .bx--side-nav__item,.bx--side-nav--ux .bx--side-nav__item,.bx--side-nav:hover .bx--side-nav__item{width:auto;height:auto}.bx--side-nav .bx--header__menu-title[aria-expanded=true]:hover,.bx--side-nav__item:not(.bx--side-nav__item--active):hover .bx--side-nav__item:not(.bx--side-nav__item--active)>.bx--side-nav__submenu:hover,.bx--side-nav__item:not(.bx--side-nav__item--active)>.bx--side-nav__link:hover,.bx--side-nav__menu a.bx--side-nav__link:not(.bx--side-nav__link--current):not([aria-current=page]):hover,.bx--side-nav a.bx--header__menu-item:hover{background-color:#e5e5e5;color:#161616}.bx--side-nav__item:not(.bx--side-nav__item--active) .bx--side-nav__menu-item>.bx--side-nav__link:hover>span,.bx--side-nav__item:not(.bx--side-nav__item--active)>.bx--side-nav__link:hover>span{color:#161616}.bx--side-nav__item--large{height:3rem}.bx--side-nav__submenu[aria-haspopup=true]{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;cursor:pointer;width:100%;font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;outline:2px solid transparent;outline-offset:-2px;padding:0 1rem;display:flex;align-items:center;color:#525252;height:2rem;-webkit-user-select:none;-ms-user-select:none;user-select:none;transition:color .11s,background-color .11s,outline .11s}.bx--side-nav__submenu[aria-haspopup=true] *,.bx--side-nav__submenu[aria-haspopup=true] :after,.bx--side-nav__submenu[aria-haspopup=true] :before{box-sizing:inherit}.bx--side-nav__submenu[aria-haspopup=true]::-moz-focus-inner{border:0}.bx--side-nav__submenu:hover{background-color:#e5e5e5;color:#161616}.bx--side-nav__submenu:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--side-nav__submenu-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.bx--side-nav__icon.bx--side-nav__submenu-chevron{flex:1 1;display:flex;justify-content:flex-end}.bx--side-nav__submenu-chevron>svg{transition:transform .11s;height:1rem;width:1rem}.bx--side-nav__submenu[aria-expanded=true] .bx--side-nav__submenu-chevron>svg{transform:rotate(180deg)}.bx--side-nav__item--large .bx--side-nav__submenu{height:3rem}.bx--side-nav__item--active .bx--side-nav__submenu:hover{background-color:#e5e5e5;color:#161616}.bx--side-nav__item--active .bx--side-nav__submenu[aria-expanded=false]{background-color:#e5e5e5;color:#161616;position:relative}.bx--side-nav__item--active .bx--side-nav__submenu[aria-expanded=false]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:4px;background-color:#0f62fe}.bx--side-nav__item--active .bx--side-nav__submenu-title{font-weight:600;color:#161616}.bx--side-nav__menu{display:block;visibility:hidden;max-height:0}.bx--side-nav__submenu[aria-expanded=true]+.bx--side-nav__menu{max-height:93.75rem;visibility:inherit}.bx--side-nav__menu a.bx--side-nav__link{height:2rem;min-height:2rem;padding-left:2rem;font-weight:400}.bx--side-nav__item.bx--side-nav__item--icon a.bx--side-nav__link{padding-left:4.5rem}.bx--side-nav__menu a.bx--side-nav__link--current,.bx--side-nav__menu a.bx--side-nav__link[aria-current=page],a.bx--side-nav__link--current{background-color:#e0e0e0}.bx--side-nav__menu a.bx--side-nav__link--current>span,.bx--side-nav__menu a.bx--side-nav__link[aria-current=page]>span,a.bx--side-nav__link--current>span{color:#161616;font-weight:600}.bx--side-nav .bx--header__menu-title[aria-expanded=true]+.bx--header__menu,.bx--side-nav a.bx--header__menu-item,a.bx--side-nav__link{outline:2px solid transparent;outline-offset:-2px;font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;position:relative;display:flex;align-items:center;text-decoration:none;min-height:2rem;padding:0 1rem;transition:color .11s,background-color .11s,outline .11s}.bx--side-nav__item--large a.bx--side-nav__link{height:3rem}.bx--side-nav a.bx--header__menu-item .bx--text-truncate-end,a.bx--side-nav__link>.bx--side-nav__link-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#525252;font-size:.875rem;letter-spacing:.1px;line-height:1.25rem;-webkit-user-select:none;-ms-user-select:none;user-select:none}.bx--side-nav a.bx--header__menu-item:focus,a.bx--side-nav__link:focus{outline:2px solid #0f62fe;outline-offset:-2px}a.bx--side-nav__link--current,a.bx--side-nav__link[aria-current=page]{background-color:#e5e5e5;font-weight:600}a.bx--side-nav__link--current .bx--side-nav__link-text,a.bx--side-nav__link[aria-current=page] .bx--side-nav__link-text{color:#161616}a.bx--side-nav__link--current:before,a.bx--side-nav__link[aria-current=page]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:4px;background-color:#0f62fe}.bx--side-nav__icon{display:flex;justify-content:center;align-items:center;flex:0 0 1rem}.bx--side-nav__icon:not(.bx--side-nav__submenu-chevron){margin-right:1.5rem}.bx--side-nav__icon>svg{fill:#525252;width:1rem;height:1rem}.bx--side-nav--expanded .bx--side-nav__icon>svg.bx--side-nav-expand-icon,.bx--side-nav__icon>svg.bx--side-nav-collapse-icon{display:none}.bx--side-nav--expanded .bx--side-nav__icon>svg.bx--side-nav-collapse-icon{display:block}.bx--side-nav--fixed .bx--side-nav__submenu[aria-haspopup=true],.bx--side-nav--fixed a.bx--side-nav__link{padding-left:1rem}.bx--side-nav--fixed .bx--side-nav__item:not(.bx--side-nav__item--icon) .bx--side-nav__menu a.bx--side-nav__link{padding-left:2rem}@media (max-width:65.98rem){.bx--side-nav .bx--header__nav{display:block}}.bx--side-nav__header-navigation{display:none}@media (max-width:65.98rem){.bx--side-nav__header-navigation{display:block;position:relative;margin-bottom:2rem}}.bx--side-nav__header-divider:after{content:"";position:absolute;height:.0625rem;bottom:-1rem;left:1rem;width:calc(100% - 32px);background:#e0e0e0}.bx--side-nav a.bx--header__menu-item{color:#525252;white-space:nowrap;justify-content:space-between}.bx--side-nav a.bx--header__menu-item[aria-expanded=true]{background-color:transparent}.bx--side-nav .bx--header__menu-title[aria-expanded=true]+.bx--header__menu{bottom:inherit;width:100%;box-shadow:none;transform:none;background-color:transparent;padding:0}.bx--side-nav .bx--header__menu-title[aria-expanded=true]+.bx--header__menu li{width:100%}.bx--side-nav .bx--header__menu-title[aria-expanded=true]+.bx--header__menu a.bx--header__menu-item{padding-left:4.25rem;font-weight:400}.bx--side-nav .bx--header__menu-title[aria-expanded=true]+.bx--header__menu a.bx--header__menu-item:hover{background-color:#e5e5e5;color:#161616}.bx--side-nav .bx--header__menu a.bx--header__menu-item{height:inherit}.bx--side-nav .bx--header__menu-arrow,.bx--side-nav a.bx--header__menu-item:focus .bx--header__menu-arrow,.bx--side-nav a.bx--header__menu-item:hover .bx--header__menu-arrow{fill:#525252}.bx--navigation{position:fixed;top:3rem;bottom:0;left:0;background-color:#262626;width:16rem;z-index:9100;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.25);color:#f4f4f4}.bx--navigation--right{left:auto;right:0}.bx--navigation svg{fill:#f4f4f4}.bx--navigation-section:not(:last-child):after{display:block;content:"";height:1px;background-color:#393939;margin:0 1rem}.bx--navigation-item{position:relative;display:flex;align-items:center}.bx--navigation-item--active>a.bx--navigation-link{color:#fff;font-weight:600}.bx--navigation-item--active:after{content:"";display:block;position:absolute;top:0;bottom:0;left:0;width:4px;background-color:#0f62fe}a.bx--navigation-link{display:flex;align-items:center;color:#f4f4f4;text-decoration:none;font-size:.875rem;font-weight:400;width:100%;min-height:2.5rem;padding-left:1rem}a.bx--navigation-link:hover{background-color:#333;color:#fff}a.bx--navigation-link:focus{outline:.1875rem solid #0f62fe;outline-offset:-.1875rem}.bx--navigation-item--icon>a.bx--navigation-link{padding-left:0}.bx--navigation__category{width:100%}.bx--navigation__category-toggle{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;display:inline-block;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;cursor:pointer;width:100%;display:flex;align-items:center}.bx--navigation__category-toggle *,.bx--navigation__category-toggle :after,.bx--navigation__category-toggle :before{box-sizing:inherit}.bx--navigation__category-toggle::-moz-focus-inner{border:0}.bx--navigation__category-toggle:hover{background-color:#333}.bx--navigation__category-toggle:focus{outline:.1875rem solid #0f62fe;outline-offset:-.1875rem}.bx--navigation__category-title{display:flex;align-items:center;justify-content:space-between;padding-right:1rem;width:100%;color:#f4f4f4;font-size:.875rem;font-weight:400;min-height:2.5rem;padding-left:1rem}.bx--navigation-item--icon .bx--navigation__category-title{padding-left:0}.bx--navigation__category-items{display:none;visibility:hidden}.bx--navigation__category-item>a.bx--navigation-link{display:flex;align-items:center;min-height:2rem;padding-left:2rem}.bx--navigation__category-item{position:relative}.bx--navigation-item--icon .bx--navigation__category-item>a.bx--navigation-link{padding-left:3.5rem}.bx--navigation__category-item--active:after{content:"";position:absolute;display:block;top:0;bottom:0;left:0;width:4px;background-color:#0f62fe}.bx--navigation__category-item--active>a.bx--navigation-link{font-weight:600;color:#fff}.bx--navigation__category--expanded .bx--navigation__category-title{font-weight:600}.bx--navigation__category--expanded .bx--navigation__category-title>svg{transform:rotate(180deg)}.bx--navigation__category--expanded .bx--navigation__category-items{display:block;visibility:inherit}.bx--navigation-icon{display:flex;align-items:center;justify-content:center;width:3rem;min-width:3rem;height:2.5rem;margin-right:.5rem}.bx--content{background:#fff;padding:2rem;transform:translateZ(0);will-change:margin-left}.bx--header~.bx--content{margin-top:3rem}.bx--side-nav~.bx--content{margin-left:3rem}.bx--side-nav.bx--side-nav--expanded~.bx--content{margin-left:16rem}.bx--tile{display:block;min-width:8rem;min-height:4rem;background-color:#f4f4f4;position:relative;padding:1rem;outline:2px solid transparent;outline-offset:-2px}.bx--tile:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--tile--light{background-color:#fff}.bx--tile--clickable,.bx--tile--expandable,.bx--tile--selectable{transition:.15s cubic-bezier(.2,0,.38,.9);cursor:pointer}.bx--tile--clickable:hover,.bx--tile--expandable:hover,.bx--tile--selectable:hover{background:#e5e5e5}.bx--tile--clickable:focus .bx--tile__checkmark,.bx--tile--clickable:hover .bx--tile__checkmark,.bx--tile--expandable:focus .bx--tile__checkmark,.bx--tile--expandable:hover .bx--tile__checkmark{opacity:1}.bx--tile--clickable:focus,.bx--tile--expandable:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--tile--expandable::-moz-focus-inner{border:0}.bx--tile--clickable{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#161616;text-decoration:none}.bx--tile--clickable *,.bx--tile--clickable :after,.bx--tile--clickable :before{box-sizing:inherit}.bx--tile--selectable{padding-right:3rem}.bx--tile__checkmark,.bx--tile__chevron{position:absolute;transition:.11s cubic-bezier(.2,0,.38,.9);border:none;background:transparent}.bx--tile__checkmark{height:1rem;top:1rem;right:1rem;opacity:0}.bx--tile__checkmark svg{border-radius:50%;fill:#525252}.bx--tile__checkmark:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--tile__chevron{position:absolute;bottom:.5rem;right:.5rem;height:1rem}.bx--tile__chevron svg{transform-origin:center;transition:.11s cubic-bezier(.2,0,.38,.9);fill:#161616}.bx--tile__chevron:hover{cursor:pointer}.bx--tile__chevron:focus{outline:none}.bx--tile--expandable{width:100%;color:inherit;font-size:inherit;text-align:left;border:0;overflow:hidden;transition:max-height .15s cubic-bezier(.2,0,.38,.9)}.bx--tile-content__above-the-fold{display:block}.bx--tile-content__below-the-fold{display:block;visibility:hidden;opacity:0;transition:opacity .11s cubic-bezier(.2,0,.38,.9),visibility .11s cubic-bezier(.2,0,.38,.9)}.bx--tile--is-expanded{overflow:visible;transition:max-height .11s cubic-bezier(.2,0,.38,.9)}.bx--tile--is-expanded .bx--tile__chevron svg{transform:rotate(-180deg)}.bx--tile--is-expanded .bx--tile-content__below-the-fold{visibility:inherit;opacity:1;transition:opacity .11s cubic-bezier(.2,0,.38,.9),visibility .11s cubic-bezier(.2,0,.38,.9)}.bx--tile--is-selected{outline:1px solid #161616;outline-offset:-1px}.bx--tile--is-selected .bx--tile__checkmark{opacity:1}.bx--tile-input:checked+.bx--tile>.bx--tile__checkmark svg{fill:#161616}.bx--tile-content{width:100%;height:100%}.bx--tile-input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;visibility:inherit;white-space:nowrap}.bx--snippet{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline}.bx--snippet *,.bx--snippet :after,.bx--snippet :before{box-sizing:inherit}.bx--snippet code{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px}.bx--snippet--inline{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;position:relative;display:inline;padding:0;border:2px solid transparent;border-radius:4px;background-color:#f4f4f4;color:#161616;cursor:pointer}.bx--snippet--inline *,.bx--snippet--inline :after,.bx--snippet--inline :before{box-sizing:inherit}.bx--snippet--inline:hover{background-color:#e0e0e0}.bx--snippet--inline:active{background-color:#c6c6c6}.bx--snippet--inline:focus{outline:none;border:2px solid #0f62fe}.bx--snippet--inline:before{position:absolute;z-index:10000;width:0;height:0;border-style:solid;content:"";display:none}.bx--snippet--inline .bx--copy-btn__feedback{box-sizing:content-box;box-shadow:0 2px 6px rgba(0,0,0,.2);width:-webkit-max-content;width:max-content;min-width:1.5rem;max-width:13rem;height:auto;padding:.1875rem 1rem;border-radius:.125rem;color:#fff;text-align:left;transform:translateX(-50%);background-color:#393939;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;clip:auto;margin:auto;overflow:visible;display:none}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--snippet--inline .bx--copy-btn__feedback{width:13rem}}@supports (-ms-accelerator:true){.bx--snippet--inline .bx--copy-btn__feedback{width:13rem}}@supports (-ms-ime-align:auto){.bx--snippet--inline .bx--copy-btn__feedback{width:13rem}}.bx--snippet--inline+.bx--assistive-text,.bx--snippet--inline .bx--assistive-text,.bx--snippet--inline:after,.bx--snippet--inline:before{bottom:0;left:50%}.bx--snippet--inline:before{bottom:-.5rem;border-width:0 .25rem .3125rem;border-color:transparent transparent #393939;transform:translate(-50%,100%)}.bx--snippet--inline+.bx--assistive-text,.bx--snippet--inline .bx--assistive-text,.bx--snippet--inline:after{bottom:-.8125rem;transform:translate(-50%,100%)}.bx--snippet--inline.bx--copy-btn--animating .bx--copy-btn__feedback,.bx--snippet--inline.bx--copy-btn--animating:before{display:block}.bx--snippet--inline.bx--copy-btn--animating.bx--copy-btn--fade-out .bx--copy-btn__feedback,.bx--snippet--inline.bx--copy-btn--animating.bx--copy-btn--fade-out:before{animation:hide-feedback .11s cubic-bezier(.2,0,.38,.9)}.bx--snippet--inline.bx--copy-btn--animating.bx--copy-btn--fade-in .bx--copy-btn__feedback,.bx--snippet--inline.bx--copy-btn--animating.bx--copy-btn--fade-in:before{animation:show-feedback .11s cubic-bezier(.2,0,.38,.9)}.bx--snippet--inline code{padding:0 .5rem}.bx--snippet--single{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;background:#f4f4f4;position:relative;max-width:37.5rem;width:100%;border:none;max-width:47.5rem;min-width:20rem;height:2.5rem;padding:0 2.5rem 0 0}.bx--snippet--single .bx--snippet-container{position:relative;display:flex;align-items:center;height:100%;padding-left:1rem;border-right:1rem solid transparent;overflow-x:auto}.bx--snippet--single .bx--snippet-container:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--snippet--single pre{white-space:nowrap;font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;padding-right:.5rem}.bx--snippet--single:after{width:1rem;height:100%;content:"";position:absolute;top:0;right:3.5rem;background-image:linear-gradient(90deg,hsla(0,0%,95.7%,0),#f4f4f4)}.bx--snippet--multi{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;background:#f4f4f4;position:relative;max-width:37.5rem;width:100%;border:none;padding:1rem;min-width:20rem;max-width:100%}.bx--snippet--multi .bx--snippet-container{overflow:hidden;position:relative;max-height:14.875rem;min-height:3.5rem;transition:max-height .15s cubic-bezier(.2,0,.38,.9)}.bx--snippet--multi.bx--snippet--expand .bx--snippet-container{max-height:100%;transition:max-height .15s cubic-bezier(.2,0,.38,.9);padding-bottom:1rem}.bx--snippet--multi .bx--snippet-container pre{overflow-x:scroll;padding-right:2.5rem;padding-bottom:1.5rem}.bx--snippet--multi.bx--snippet--expand .bx--snippet-container pre{overflow-x:auto}.bx--snippet--multi .bx--snippet-container pre:after{width:1rem;height:100%;content:"";position:absolute;top:0;right:0;background-image:linear-gradient(90deg,hsla(0,0%,95.7%,0),#f4f4f4)}.bx--snippet--multi .bx--snippet-container pre code{overflow:hidden}.bx--snippet__icon{fill:#161616;height:1rem;width:1rem;transition:all 70ms cubic-bezier(.2,0,.38,.9)}.bx--snippet-button{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;cursor:pointer;position:absolute;top:0;right:0;border:none;background-color:#f4f4f4;outline:none;padding:0;height:2.5rem;width:2.5rem;overflow:visible;display:flex;justify-content:center;align-items:center}.bx--snippet-button *,.bx--snippet-button :after,.bx--snippet-button :before{box-sizing:inherit}.bx--snippet-button:focus{outline:2px solid #0f62fe;outline-offset:-2px;outline-color:#0f62fe}.bx--snippet--multi .bx--snippet-button{height:2rem;width:2rem;top:.5rem;right:.5rem}.bx--snippet-button:hover{background:#e5e5e5}.bx--snippet-button:active{background-color:#c6c6c6}.bx--btn--copy__feedback{font-size:.875rem;line-height:1.125rem;letter-spacing:.16px;font-family:IBM Plex Sans,Helvetica Neue,Arial,sans-serif;z-index:8000;font-weight:400;left:inherit;top:.75rem;right:1.25rem}.bx--btn--copy__feedback:after{border:none}.bx--snippet .bx--copy-btn{top:0;right:0}.bx--snippet .bx--copy-btn,button.bx--btn.bx--snippet-btn--expand{position:absolute;font-family:IBM Plex Sans,Helvetica Neue,Arial,sans-serif}button.bx--btn.bx--snippet-btn--expand{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;border:0;display:inline-flex;align-items:center;right:.5rem;bottom:.5rem;padding:.5rem .5rem .5rem 1rem;color:#161616;background-color:#f4f4f4}button.bx--btn.bx--snippet-btn--expand .bx--snippet-btn--text{position:relative;top:-.0625rem}.bx--snippet-btn--expand--hide.bx--snippet-btn--expand{display:none}.bx--snippet-btn--expand .bx--icon-chevron--down{fill:#161616;margin-left:.5rem;margin-bottom:.0625rem;transform:rotate(0deg);transition:.15s cubic-bezier(.2,0,.38,.9)}button.bx--btn.bx--snippet-btn--expand:hover{background:#e5e5e5;color:#161616}.bx--snippet-btn--expand:active{background-color:#c6c6c6}.bx--snippet-btn--expand:focus{outline:2px solid #0f62fe;outline-offset:-2px;border-color:transparent}.bx--snippet--expand .bx--snippet-btn--expand .bx--icon-chevron--down{transform:rotate(180deg);transition:transform .24s}.bx--snippet.bx--snippet--light,.bx--snippet.bx--snippet--light .bx--copy-btn,.bx--snippet.bx--snippet--light .bx--snippet-btn--expand,.bx--snippet.bx--snippet--light .bx--snippet-button{background-color:#fff}.bx--snippet.bx--snippet--light .bx--copy-btn:hover,.bx--snippet.bx--snippet--light.bx--snippet--inline:hover,.bx--snippet.bx--snippet--light .bx--snippet-btn--expand:hover,.bx--snippet.bx--snippet--light .bx--snippet-button:hover{background-color:var(--cds-ui-01-light,#e0e0e0)}.bx--snippet.bx--snippet--light.bx--snippet--multi .bx--snippet-container pre:after,.bx--snippet.bx--snippet--light.bx--snippet--single:after{background-image:linear-gradient(90deg,hsla(0,0%,100%,0),#fff)}.bx--snippet-button .bx--btn--copy__feedback{top:3.175rem;left:50%;right:auto}.bx--snippet-button .bx--btn--copy__feedback:before{top:0}.bx--snippet-button .bx--btn--copy__feedback:after{top:-.25rem}.bx--snippet--multi .bx--snippet-button .bx--btn--copy__feedback{top:2.675rem}.bx--snippet--inline .bx--btn--copy__feedback{top:calc(100% - .25rem);left:50%}bx--snippet--multi.bx--skeleton{height:6.125rem}.bx--snippet--single.bx--skeleton{height:3.5rem}.bx--snippet.bx--skeleton span{position:relative;border:none;padding:0;box-shadow:none;pointer-events:none;background:#e5e5e5;width:100%;height:1rem;display:block;margin-top:.5rem}.bx--snippet.bx--skeleton span:active,.bx--snippet.bx--skeleton span:focus,.bx--snippet.bx--skeleton span:hover{border:none;outline:none;cursor:default}.bx--snippet.bx--skeleton span:before{content:"";width:0;height:100%;position:absolute;top:0;left:0;background:#c6c6c6;animation:skeleton 3s ease-in-out infinite}@media (prefers-reduced-motion:reduce){.bx--snippet.bx--skeleton span:before{animation:none}}.bx--snippet.bx--skeleton span:first-child{margin:0}.bx--snippet.bx--skeleton span:nth-child(2){width:85%}.bx--snippet.bx--skeleton span:nth-child(3){width:95%}.bx--snippet--single.bx--skeleton .bx--snippet-container{padding-bottom:0}.bx--snippet--inline .bx--btn--copy__feedback{right:auto}.bx--snippet--code.bx--skeleton{height:6.125rem}.bx--snippet--terminal.bx--skeleton{height:3.5rem}.bx--snippet.bx--skeleton .bx--snippet-container{height:100%}.bx--snippet.bx--skeleton code{position:relative;border:none;padding:0;box-shadow:none;pointer-events:none;background:#e5e5e5;width:100%;height:1rem;display:block}.bx--snippet.bx--skeleton code:active,.bx--snippet.bx--skeleton code:focus,.bx--snippet.bx--skeleton code:hover{border:none;outline:none;cursor:default}.bx--snippet.bx--skeleton code:before{content:"";width:0;height:100%;position:absolute;top:0;left:0;background:#c6c6c6;animation:skeleton 3s ease-in-out infinite}@media (prefers-reduced-motion:reduce){.bx--snippet.bx--skeleton code:before{animation:none}}.bx--btn-set{display:flex}.bx--btn-set>.bx--btn{max-width:12.25rem;width:100%}.bx--btn--secondary.bx--btn--disabled+.bx--btn--primary.bx--btn--disabled,.bx--btn--tertiary.bx--btn--disabled+.bx--btn--danger.bx--btn--disabled{box-shadow:-.0625rem 0 0 0 #8d8d8d}.bx--btn{box-sizing:border-box;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;cursor:pointer;display:inline-flex;align-items:center;justify-content:space-between;vertical-align:top;flex-shrink:0;min-height:3rem;padding:calc(.875rem - 3px) 60px calc(.875rem - 3px) 12px;border-radius:0;text-align:left;text-decoration:none;transition:all 70ms cubic-bezier(0,0,.38,.9);outline:none;position:relative;max-width:20rem;margin:0}.bx--btn *,.bx--btn :after,.bx--btn :before{box-sizing:inherit}.bx--btn.bx--btn--disabled,.bx--btn.bx--btn--disabled:focus,.bx--btn.bx--btn--disabled:hover,.bx--btn:disabled,.bx--btn:focus:disabled,.bx--btn:hover:disabled{cursor:not-allowed;color:#8d8d8d;background:#c6c6c6;border-color:#c6c6c6;box-shadow:none}.bx--btn .bx--btn__icon{position:absolute;right:1rem;flex-shrink:0;width:1rem;height:1rem}.bx--btn::-moz-focus-inner{padding:0;border:0}.bx--btn--primary{background-color:#0f62fe;border:1px solid transparent;color:#fff}.bx--btn--primary:hover{background-color:#0353e9}.bx--btn--primary:focus{border-color:#0f62fe;box-shadow:inset 0 0 0 2px #0f62fe,inset 0 0 0 3px #fff}.bx--btn--primary:active{background-color:#002d9c}.bx--btn--primary .bx--btn__icon,.bx--btn--primary .bx--btn__icon path{fill:currentColor}.bx--btn--primary:hover{color:#fff}.bx--btn--secondary{background-color:#393939;border:1px solid transparent;color:#fff}.bx--btn--secondary:hover{background-color:#4c4c4c}.bx--btn--secondary:focus{border-color:#0f62fe;box-shadow:inset 0 0 0 2px #0f62fe,inset 0 0 0 3px #fff}.bx--btn--secondary:active{background-color:#6f6f6f}.bx--btn--secondary .bx--btn__icon,.bx--btn--secondary .bx--btn__icon path{fill:currentColor}.bx--btn--secondary:focus,.bx--btn--secondary:hover{color:#fff}.bx--btn--tertiary{background-color:transparent;border:1px solid #0f62fe;color:#0f62fe}.bx--btn--tertiary:hover{background-color:#0353e9}.bx--btn--tertiary:focus{border-color:#0f62fe;box-shadow:inset 0 0 0 2px #0f62fe,inset 0 0 0 3px #fff}.bx--btn--tertiary:active{background-color:#002d9c}.bx--btn--tertiary .bx--btn__icon,.bx--btn--tertiary .bx--btn__icon path{fill:currentColor}.bx--btn--tertiary:hover{color:#fff}.bx--btn--tertiary:focus{color:#fff;background-color:#0f62fe}.bx--btn--tertiary:active{border-color:transparent}.bx--btn--tertiary.bx--btn--disabled,.bx--btn--tertiary.bx--btn--disabled:focus,.bx--btn--tertiary.bx--btn--disabled:hover,.bx--btn--tertiary:disabled,.bx--btn--tertiary:focus:disabled,.bx--btn--tertiary:hover:disabled{background:transparent;color:#c6c6c6;outline:none}.bx--btn--ghost{background-color:transparent;border:1px solid transparent;color:#0f62fe;padding:calc(.875rem - 3px) 12px}.bx--btn--ghost:hover{background-color:#e5e5e5}.bx--btn--ghost:focus{border-color:#0f62fe;box-shadow:inset 0 0 0 2px #0f62fe,inset 0 0 0 3px #fff}.bx--btn--ghost .bx--btn__icon,.bx--btn--ghost .bx--btn__icon path{fill:currentColor}.bx--btn--ghost .bx--btn__icon{position:static;margin-left:.5rem}.bx--btn--ghost:active,.bx--btn--ghost:hover{color:#0043ce}.bx--btn--ghost:active{background-color:#c6c6c6}.bx--btn--ghost.bx--btn--disabled,.bx--btn--ghost.bx--btn--disabled:focus,.bx--btn--ghost.bx--btn--disabled:hover,.bx--btn--ghost:disabled,.bx--btn--ghost:focus:disabled,.bx--btn--ghost:hover:disabled{color:#c6c6c6;background:transparent;border-color:transparent;outline:none}.bx--btn--ghost.bx--btn--sm{padding:calc(.375rem - 3px) 12px}.bx--btn--ghost.bx--btn--field{padding:calc(.675rem - 3px) 12px}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger{position:relative;display:inline-flex;align-items:center;cursor:pointer;overflow:visible}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus{outline:1px solid #0f62fe;outline:1px solid transparent}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus svg{outline:1px solid #0f62fe}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:before{position:absolute;z-index:10000;display:flex;align-items:center;opacity:0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:before{display:inline-block}}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:before{transition:opacity 70ms cubic-bezier(.2,0,.38,.9)}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--a11y:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--a11y:before{transition:none}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:before{width:0;height:0;border-style:solid;content:""}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text{box-sizing:content-box;color:inherit;opacity:1;white-space:normal}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after{box-shadow:0 2px 6px rgba(0,0,0,.2);width:-webkit-max-content;width:max-content;min-width:1.5rem;max-width:13rem;height:auto;padding:.1875rem 1rem;border-radius:.125rem;color:#fff;text-align:left;transform:translateX(-50%);background-color:#393939;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after{width:13rem}}@supports (-ms-accelerator:true){.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after{width:13rem}}@supports (-ms-ime-align:auto){.bx--btn.bx--btn--icon-only.bx--tooltip__trigger+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after{width:13rem}}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:after{content:attr(aria-label)}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--a11y:after{content:none}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible:before,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus:before,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover:after,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover:before{opacity:1}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover .bx--assistive-text{clip:auto;margin:auto;overflow:visible}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--visible.bx--tooltip--a11y:before,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus.bx--tooltip--a11y:before,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover .bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover.bx--tooltip--a11y:before{animation:tooltip-fade 70ms cubic-bezier(.2,0,.38,.9)}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--hidden+.bx--assistive-text,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--hidden .bx--assistive-text{clip:rect(0,0,0,0);margin:-1px;overflow:hidden}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger.bx--tooltip--hidden.bx--tooltip--a11y:before{animation:none;opacity:0}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus svg,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:hover svg,.bx--btn.bx--btn--icon-only.bx--tooltip__trigger svg{fill:currentColor}.bx--btn.bx--btn--icon-only.bx--btn--ghost:focus svg,.bx--btn.bx--btn--icon-only.bx--btn--ghost:hover svg{fill:#161616}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus{border-color:#0f62fe}.bx--btn.bx--btn--icon-only.bx--tooltip__trigger:focus svg{outline-color:transparent}.bx--btn--icon-only--top{position:relative;display:inline-flex;align-items:center;cursor:pointer;overflow:visible}.bx--btn--icon-only--top:focus{outline:1px solid #0f62fe;outline:1px solid transparent}.bx--btn--icon-only--top:focus svg{outline:1px solid #0f62fe}.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after,.bx--btn--icon-only--top:before{position:absolute;z-index:10000;display:flex;align-items:center;opacity:0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after,.bx--btn--icon-only--top:before{display:inline-block}}.bx--btn--icon-only--top:after,.bx--btn--icon-only--top:before{transition:opacity 70ms cubic-bezier(.2,0,.38,.9)}.bx--btn--icon-only--top.bx--tooltip--a11y:after,.bx--btn--icon-only--top.bx--tooltip--a11y:before{transition:none}.bx--btn--icon-only--top:before{width:0;height:0;border-style:solid;content:""}.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text{box-sizing:content-box;color:inherit;opacity:1;white-space:normal}.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after{box-shadow:0 2px 6px rgba(0,0,0,.2);width:-webkit-max-content;width:max-content;min-width:1.5rem;max-width:13rem;height:auto;padding:.1875rem 1rem;border-radius:.125rem;color:#fff;text-align:left;transform:translateX(-50%);background-color:#393939;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after{width:13rem}}@supports (-ms-accelerator:true){.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after{width:13rem}}@supports (-ms-ime-align:auto){.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after{width:13rem}}.bx--btn--icon-only--top:after{content:attr(aria-label)}.bx--btn--icon-only--top.bx--tooltip--a11y:after{content:none}.bx--btn--icon-only--top.bx--tooltip--visible:after,.bx--btn--icon-only--top.bx--tooltip--visible:before,.bx--btn--icon-only--top:focus:after,.bx--btn--icon-only--top:focus:before,.bx--btn--icon-only--top:hover:after,.bx--btn--icon-only--top:hover:before{opacity:1}@keyframes tooltip-fade{0%{opacity:0}to{opacity:1}}.bx--btn--icon-only--top.bx--tooltip--visible+.bx--assistive-text,.bx--btn--icon-only--top.bx--tooltip--visible .bx--assistive-text,.bx--btn--icon-only--top:focus+.bx--assistive-text,.bx--btn--icon-only--top:focus .bx--assistive-text,.bx--btn--icon-only--top:hover+.bx--assistive-text,.bx--btn--icon-only--top:hover .bx--assistive-text{clip:auto;margin:auto;overflow:visible}.bx--btn--icon-only--top.bx--tooltip--visible+.bx--assistive-text,.bx--btn--icon-only--top.bx--tooltip--visible .bx--assistive-text,.bx--btn--icon-only--top.bx--tooltip--visible.bx--tooltip--a11y:before,.bx--btn--icon-only--top:focus+.bx--assistive-text,.bx--btn--icon-only--top:focus .bx--assistive-text,.bx--btn--icon-only--top:focus.bx--tooltip--a11y:before,.bx--btn--icon-only--top:hover+.bx--assistive-text,.bx--btn--icon-only--top:hover .bx--assistive-text,.bx--btn--icon-only--top:hover.bx--tooltip--a11y:before{animation:tooltip-fade 70ms cubic-bezier(.2,0,.38,.9)}.bx--btn--icon-only--top.bx--tooltip--hidden+.bx--assistive-text,.bx--btn--icon-only--top.bx--tooltip--hidden .bx--assistive-text{clip:rect(0,0,0,0);margin:-1px;overflow:hidden}.bx--btn--icon-only--top.bx--tooltip--hidden.bx--tooltip--a11y:before{animation:none;opacity:0}.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after,.bx--btn--icon-only--top:before{top:0;left:50%}.bx--btn--icon-only--top:before{top:-.5rem;border-width:.3125rem .25rem 0;border-color:#393939 transparent transparent;transform:translate(-50%,-100%)}.bx--btn--icon-only--top+.bx--assistive-text,.bx--btn--icon-only--top .bx--assistive-text,.bx--btn--icon-only--top:after{top:-.8125rem;left:50%;transform:translate(-50%,-100%)}.bx--btn--icon-only--bottom+.bx--assistive-text,.bx--btn--icon-only--bottom .bx--assistive-text,.bx--btn--icon-only--bottom:after,.bx--btn--icon-only--bottom:before{bottom:0;left:50%}.bx--btn--icon-only--bottom:before{bottom:-.5rem;border-width:0 .25rem .3125rem;border-color:transparent transparent #393939;transform:translate(-50%,100%)}.bx--btn--icon-only--bottom+.bx--assistive-text,.bx--btn--icon-only--bottom .bx--assistive-text,.bx--btn--icon-only--bottom:after{bottom:-.8125rem;transform:translate(-50%,100%)}.bx--btn--icon-only{padding-left:.9375rem;padding-right:.9375rem}.bx--btn--icon-only .bx--btn__icon{position:static}.bx--btn--icon-only.bx--btn--ghost .bx--btn__icon{margin:0}.bx--btn--ghost.bx--btn--icon-only .bx--btn__icon,.bx--btn--ghost.bx--btn--icon-only .bx--btn__icon path,.bx--btn.bx--btn--icon-only.bx--btn--ghost .bx--btn__icon,.bx--btn.bx--btn--icon-only.bx--btn--ghost:hover .bx--btn__icon{fill:#161616}.bx--btn--ghost.bx--btn--icon-only[disabled] .bx--btn__icon,.bx--btn--ghost.bx--btn--icon-only[disabled] .bx--btn__icon path,.bx--btn.bx--btn--icon-only.bx--btn--ghost[disabled]:hover .bx--btn__icon{fill:#c6c6c6}.bx--btn--ghost.bx--btn--icon-only[disabled]{cursor:not-allowed}.bx--btn--field.bx--btn--icon-only{padding-left:.6875rem;padding-right:.6875rem}.bx--btn--sm.bx--btn--icon-only{padding-left:.4375rem;padding-right:.4375rem}.bx--btn--danger{background-color:#da1e28;border:1px solid transparent;color:#fff}.bx--btn--danger:hover{background-color:#b81921}.bx--btn--danger:focus{border-color:#0f62fe;box-shadow:inset 0 0 0 2px #0f62fe,inset 0 0 0 3px #fff}.bx--btn--danger:active{background-color:#750e13}.bx--btn--danger .bx--btn__icon,.bx--btn--danger .bx--btn__icon path{fill:currentColor}.bx--btn--danger:hover{color:#fff}.bx--btn--sm{min-height:2rem;padding:calc(.375rem - 3px) 60px calc(.375rem - 3px) 12px}.bx--btn--field{min-height:2.5rem;padding:calc(.675rem - 3px) 60px calc(.675rem - 3px) 12px}.bx--btn.bx--skeleton{position:relative;border:none;padding:0;box-shadow:none;pointer-events:none;background:#e5e5e5;width:9.375rem}.bx--btn.bx--skeleton:active,.bx--btn.bx--skeleton:focus,.bx--btn.bx--skeleton:hover{border:none;outline:none;cursor:default}.bx--btn.bx--skeleton:before{content:"";width:0;height:100%;position:absolute;top:0;left:0;background:#c6c6c6;animation:skeleton 3s ease-in-out infinite}@media (prefers-reduced-motion:reduce){.bx--btn.bx--skeleton:before{animation:none}}@keyframes hide-feedback{0%{visibility:inherit;opacity:1}to{visibility:hidden;opacity:0}}@keyframes show-feedback{0%{visibility:hidden;opacity:0}to{visibility:inherit;opacity:1}}.bx--btn--copy{position:relative;overflow:visible}.bx--btn--copy .bx--btn__icon{margin-left:.3125rem}.bx--btn--copy__feedback{position:absolute;display:none;top:1.2rem;left:50%}.bx--btn--copy__feedback:focus{border:2px solid red}.bx--btn--copy__feedback:before{box-shadow:0 2px 6px rgba(0,0,0,.2);font-size:.875rem;line-height:1.125rem;letter-spacing:.16px;top:1.1rem;padding:.25rem;color:#fff;content:attr(data-feedback);transform:translateX(-50%);white-space:nowrap;pointer-events:none;border-radius:4px;font-weight:400;z-index:2}.bx--btn--copy__feedback:after{top:.85rem;width:.6rem;height:.6rem;left:-.3rem;border-right:1px solid #393939;border-bottom:1px solid #393939;content:"";transform:rotate(-135deg);z-index:1}.bx--btn--copy__feedback:after,.bx--btn--copy__feedback:before{position:absolute;display:block;background:#393939}.bx--btn--copy__feedback--displayed{display:inline-flex}.bx--copy-btn{box-sizing:border-box;margin:0;font-size:100%;font-family:inherit;vertical-align:baseline;position:relative;display:flex;justify-content:center;align-items:center;padding:0;border:none;height:2.5rem;width:2.5rem;background-color:#f4f4f4;cursor:pointer}.bx--copy-btn *,.bx--copy-btn :after,.bx--copy-btn :before{box-sizing:inherit}.bx--copy-btn:hover{background-color:#e5e5e5}.bx--copy-btn:before{position:absolute;z-index:10000;width:0;height:0;border-style:solid;content:"";display:none}.bx--copy-btn .bx--copy-btn__feedback{box-sizing:content-box;box-shadow:0 2px 6px rgba(0,0,0,.2);width:-webkit-max-content;width:max-content;min-width:1.5rem;max-width:13rem;height:auto;padding:.1875rem 1rem;border-radius:.125rem;color:#fff;text-align:left;transform:translateX(-50%);background-color:#393939;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;clip:auto;margin:auto;overflow:visible;display:none}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.bx--copy-btn .bx--copy-btn__feedback{width:13rem}}@supports (-ms-accelerator:true){.bx--copy-btn .bx--copy-btn__feedback{width:13rem}}@supports (-ms-ime-align:auto){.bx--copy-btn .bx--copy-btn__feedback{width:13rem}}.bx--copy-btn+.bx--assistive-text,.bx--copy-btn .bx--assistive-text,.bx--copy-btn:after,.bx--copy-btn:before{bottom:0;left:50%}.bx--copy-btn:before{bottom:-.5rem;border-width:0 .25rem .3125rem;border-color:transparent transparent #393939;transform:translate(-50%,100%)}.bx--copy-btn+.bx--assistive-text,.bx--copy-btn .bx--assistive-text,.bx--copy-btn:after{bottom:-.8125rem;transform:translate(-50%,100%)}.bx--copy-btn:focus{outline:2px solid #0f62fe;outline-offset:-2px;outline-color:#0f62fe}.bx--copy-btn.bx--copy-btn--animating .bx--copy-btn__feedback,.bx--copy-btn.bx--copy-btn--animating:before{display:block}.bx--copy-btn.bx--copy-btn--animating.bx--copy-btn--fade-out .bx--copy-btn__feedback,.bx--copy-btn.bx--copy-btn--animating.bx--copy-btn--fade-out:before{animation:hide-feedback .11s cubic-bezier(.2,0,.38,.9)}.bx--copy-btn.bx--copy-btn--animating.bx--copy-btn--fade-in .bx--copy-btn__feedback,.bx--copy-btn.bx--copy-btn--animating.bx--copy-btn--fade-in:before{animation:show-feedback .11s cubic-bezier(.2,0,.38,.9)}.bx--tabs{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#161616;height:auto;width:100%;position:relative}.bx--tabs *,.bx--tabs :after,.bx--tabs :before{box-sizing:inherit}@media (min-width:42rem){.bx--tabs{background:none;min-height:2.5rem}}@media (min-width:42rem){.bx--tabs--container{min-height:3rem}}.bx--tabs-trigger{display:flex;align-items:center;justify-content:space-between;padding:0 3rem 0 1rem;height:2.5rem;cursor:pointer;color:#161616;outline:2px solid transparent;border-bottom:1px solid #8d8d8d;background-color:#f4f4f4}@media (min-width:42rem){.bx--tabs-trigger{display:none}}.bx--tabs-trigger:active,.bx--tabs-trigger:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--tabs-trigger svg{position:absolute;right:1rem;fill:#161616;transition:transform 70ms cubic-bezier(.2,0,.38,.9)}.bx--tabs-trigger--open:active,.bx--tabs-trigger--open:focus{outline:2px solid transparent;outline-offset:-2px;transition:outline 70ms cubic-bezier(.2,0,.38,.9)}.bx--tabs-trigger--open{background:#e0e0e0}.bx--tabs-trigger--open svg{transform:rotate(-180deg);transition:transform 70ms;transform-origin:50% 45%}.bx--tabs--light.bx--tabs-trigger{background-color:#fff}.bx--tabs-trigger-text{text-decoration:none;padding-top:2px;color:#161616;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bx--tabs-trigger-text:hover{color:#161616}.bx--tabs-trigger-text:focus{outline:none}.bx--tabs__nav{box-shadow:0 2px 6px rgba(0,0,0,.2);margin:0;padding:0;position:absolute;list-style:none;display:flex;flex-direction:column;z-index:9100;background:#f4f4f4;transition:max-height 70ms cubic-bezier(.2,0,.38,.9);max-height:600px;width:100%}@media (min-width:42rem){.bx--tabs__nav{flex-direction:row;background:none;box-shadow:none;z-index:auto;transition:inherit;width:auto}}.bx--tabs__nav--hidden{transition:max-height 70ms cubic-bezier(.2,0,.38,.9);overflow:hidden;max-height:0}@media (min-width:42rem){.bx--tabs__nav--hidden{display:flex;transition:inherit;overflow:visible;max-height:none}}.bx--tabs__nav-item{box-sizing:border-box;margin:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;background-color:#f4f4f4;display:flex;padding:0;cursor:pointer;width:100%;height:2.5rem;transition:background-color 70ms cubic-bezier(.2,0,.38,.9)}.bx--tabs__nav-item *,.bx--tabs__nav-item :after,.bx--tabs__nav-item :before{box-sizing:inherit}@media (min-width:42rem){.bx--tabs__nav-item{background:transparent;height:auto}.bx--tabs__nav-item+.bx--tabs__nav-item{margin-left:.0625rem}}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item{background-color:#e0e0e0}.bx--tabs--container .bx--tabs__nav-item+.bx--tabs__nav-item{margin-left:0;box-shadow:-1px 0 0 0 #8d8d8d}.bx--tabs--container .bx--tabs__nav-item+.bx--tabs__nav-item.bx--tabs__nav-item--selected,.bx--tabs--container .bx--tabs__nav-item.bx--tabs__nav-item--selected+.bx--tabs__nav-item{box-shadow:none}}.bx--tabs__nav-item .bx--tabs__nav-link{transition:color 70ms cubic-bezier(.2,0,.38,.9),border-bottom-color 70ms cubic-bezier(.2,0,.38,.9),outline 70ms cubic-bezier(.2,0,.38,.9)}@media (min-width:42rem){.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--selected){background:transparent}}.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--disabled){background-color:#e5e5e5;box-shadow:0 -1px 0 #e5e5e5}@media (min-width:42rem){.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--disabled){background-color:transparent}.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--disabled),.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--disabled)+.bx--tabs__nav-item{box-shadow:none}}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--disabled){background-color:#cacaca}}.bx--tabs__nav-item--disabled,.bx--tabs__nav-item--disabled:hover{cursor:not-allowed;outline:none}.bx--tabs__nav-item--disabled .bx--tabs__nav-link{pointer-events:none}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item.bx--tabs__nav-item--disabled,.bx--tabs--container .bx--tabs__nav-item.bx--tabs__nav-item--disabled:hover{background-color:#c6c6c6}}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item--disabled .bx--tabs__nav-link{color:#8d8d8d}}.bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled){border:none;display:none;transition:color 70ms cubic-bezier(.2,0,.38,.9)}@media (min-width:42rem){.bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled){display:flex}.bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link,.bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:active,.bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:focus{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;color:#161616;border-bottom:2px solid #0f62fe}}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item--selected:hover:not(.bx--tabs__nav-item--disabled),.bx--tabs--container .bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled){background-color:#f4f4f4}.bx--tabs--container .bx--tabs__nav-item--selected:hover:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link,.bx--tabs--container .bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link{line-height:2rem;box-shadow:inset 0 2px 0 0 #0f62fe;border-bottom:none}.bx--tabs--container .bx--tabs__nav-item--selected:hover:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:active,.bx--tabs--container .bx--tabs__nav-item--selected:hover:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:focus,.bx--tabs--container .bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:active,.bx--tabs--container .bx--tabs__nav-item--selected:not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link:focus{box-shadow:none}}a.bx--tabs__nav-link{outline:2px solid transparent;outline-offset:-2px;display:inline-flex;align-items:flex-end;color:#393939;text-decoration:none;font-weight:400;padding:.75rem 0;width:calc(100% - 32px);height:2.5rem;white-space:nowrap;text-overflow:ellipsis;margin:0 1rem;line-height:1rem;border-bottom:1px solid #e0e0e0;overflow:hidden;transition:border 70ms cubic-bezier(.2,0,.38,.9),outline 70ms cubic-bezier(.2,0,.38,.9)}a.bx--tabs__nav-link:active,a.bx--tabs__nav-link:focus{outline:2px solid #0f62fe;outline-offset:-2px;width:100%;margin:0;padding-left:16px}@media (min-width:42rem){a.bx--tabs__nav-link{border-bottom:2px solid #e0e0e0;padding:.5rem 1rem;width:10rem;margin:0;line-height:inherit}a.bx--tabs__nav-link:active,a.bx--tabs__nav-link:focus{width:10rem;padding:.5rem 1rem;border-bottom:2px}}@media (min-width:42rem){.bx--tabs--container a.bx--tabs__nav-link{height:3rem;line-height:2rem;border-bottom:none}}.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--selected):not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link{color:#161616}@media (min-width:42rem){.bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--selected):not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link{color:#161616;border-bottom:2px solid #8d8d8d}}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item:hover:not(.bx--tabs__nav-item--selected):not(.bx--tabs__nav-item--disabled) .bx--tabs__nav-link{border-bottom:none}}.bx--tabs__nav-item--disabled .bx--tabs__nav-link{color:#c6c6c6;border-bottom:2px solid #f4f4f4}.bx--tabs__nav-item--disabled:hover .bx--tabs__nav-link{cursor:no-drop;border-bottom:2px solid #f4f4f4}.bx--tabs__nav-item--disabled .bx--tabs__nav-link:focus,.bx--tabs__nav-item--disabled a.bx--tabs__nav-link:active{outline:none;border-bottom:2px solid #f4f4f4}@media (min-width:42rem){.bx--tabs--container .bx--tabs__nav-item--disabled .bx--tabs__nav-link{border-bottom:none}}.bx--tabs__nav-item:not(.bx--tabs__nav-item--selected):not(.bx--tabs__nav-item--disabled):not(.bx--tabs__nav-item--selected) .bx--tabs__nav-link:focus,.bx--tabs__nav-item:not(.bx--tabs__nav-item--selected):not(.bx--tabs__nav-item--disabled):not(.bx--tabs__nav-item--selected) a.bx--tabs__nav-link:active{color:#393939}.bx--tab-content{padding:1rem}.bx--tabs.bx--skeleton{pointer-events:none;cursor:default}.bx--tabs.bx--skeleton .bx--tabs__nav-link{position:relative;border:none;padding:0;box-shadow:none;pointer-events:none;background:#e5e5e5;width:4.6875rem;height:.75rem}.bx--tabs.bx--skeleton .bx--tabs__nav-link:active,.bx--tabs.bx--skeleton .bx--tabs__nav-link:focus,.bx--tabs.bx--skeleton .bx--tabs__nav-link:hover{border:none;outline:none;cursor:default}.bx--tabs.bx--skeleton .bx--tabs__nav-link:before{content:"";width:0;height:100%;position:absolute;top:0;left:0;background:#c6c6c6;animation:skeleton 3s ease-in-out infinite}@media (prefers-reduced-motion:reduce){.bx--tabs.bx--skeleton .bx--tabs__nav-link:before{animation:none}}.bx--tabs.bx--skeleton .bx--tabs-trigger{position:relative;border:none;padding:0;box-shadow:none;pointer-events:none;background:#e5e5e5;width:6.25rem}.bx--tabs.bx--skeleton .bx--tabs-trigger:active,.bx--tabs.bx--skeleton .bx--tabs-trigger:focus,.bx--tabs.bx--skeleton .bx--tabs-trigger:hover{border:none;outline:none;cursor:default}.bx--tabs.bx--skeleton .bx--tabs-trigger:before{content:"";width:0;height:100%;position:absolute;top:0;left:0;background:#c6c6c6;animation:skeleton 3s ease-in-out infinite}@media (prefers-reduced-motion:reduce){.bx--tabs.bx--skeleton .bx--tabs-trigger:before{animation:none}}.bx--tabs.bx--skeleton .bx--tabs-trigger svg{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;visibility:inherit;white-space:nowrap}.bx--list--nested,.bx--list--ordered,.bx--list--unordered{box-sizing:border-box;margin:0;padding:0;border:0;font-size:100%;font-family:inherit;vertical-align:baseline;font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;list-style:none}.bx--list--nested *,.bx--list--nested :after,.bx--list--nested :before,.bx--list--ordered *,.bx--list--ordered :after,.bx--list--ordered :before,.bx--list--unordered *,.bx--list--unordered :after,.bx--list--unordered :before{box-sizing:inherit}.bx--list__item{color:#161616;margin-bottom:.25rem}.bx--list--nested{margin-top:.25rem;margin-left:1.5rem}.bx--list--nested>.bx--list__item{margin-top:0;margin-bottom:0}.bx--list--nested .bx--list--nested{margin-top:0}.bx--list--ordered:not(.bx--list--nested){counter-reset:item}.bx--list--ordered:not(.bx--list--nested)>.bx--list__item{position:relative}.bx--list--ordered:not(.bx--list--nested)>.bx--list__item:before{content:counter(item) ".";counter-increment:item;position:absolute;left:-1.5rem}.bx--list--ordered.bx--list--nested{list-style-type:lower-latin}.bx--list--unordered>.bx--list__item{position:relative}.bx--list--unordered>.bx--list__item:before{position:absolute;left:-1rem;content:"\2013"}.bx--list--unordered.bx--list--nested>.bx--list__item:before{left:-.75rem;content:"\25AA"}@media (min-width:66rem){.container .bx--no-gutter-lg{padding-left:0;padding-right:0}}@media (min-width:42rem){.container .bx--no-gutter-md{padding-left:0;padding-right:0}}.container .bx--no-gutter-sm{padding-left:0;padding-right:0}@media (min-width:66rem){.container .bx--no-gutter-lg--left{padding-left:0}}@media (min-width:42rem){.container .bx--no-gutter-md--left{padding-left:0}}.container .bx--no-gutter-sm--left{padding-left:0}.container .bx--row .bx--row{margin:0}.container .bx--row .bx--row>div{margin:0;max-width:100%;flex:auto}.bx--header--website{z-index:9999;background-color:#161616;border-bottom:1px solid #393939}.bx--header__action{transition:.11s}.bx--header__action--active{border-color:transparent;background:transparent}.bx--header__action--active:hover{background-color:#333}.bx--header__menu-trigger svg{margin-top:2px}a.bx--header__name{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;font-weight:600;padding-left:.5rem}@media (min-width:66rem){a.bx--header__name{padding-left:1rem}}.bx--header__name--prefix{font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0;font-weight:400}.bx--header__action--menu{border-width:2px;display:block}@media (min-width:66rem){.bx--header__action--menu{display:none}}a.bx--header__name:focus{box-shadow:inset 0 0 0 2px #0f62fe}.bx--header .bx--header__name{font-weight:400;white-space:nowrap}.bx--header .bx--header__name span{font-weight:600}.bx--header__nav{margin-left:auto;display:none}@media (min-width:66rem){.bx--header__nav{display:block;position:absolute;left:25%;top:0}}a.bx--header__menu-item[role=menuitem]{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;position:relative;color:#f4f4f4;border-width:2px}a.bx--header__menu-item[role=menuitem]:hover{background-color:#2c2c2c;color:#f4f4f4}.bx--header__menu-title[role=menuitem][aria-expanded=true]{background:#262626}.bx--header .submenu--active>a.bx--header__menu-item,a.bx--header__menu-item[role=menuitem][aria-current=page]{background:transparent}.bx--header .submenu--active>a.bx--header__menu-item:after,a.bx--header__menu-item[role=menuitem][aria-current=page]:after{content:"";width:calc(100% + 4px);position:absolute;left:-2px;bottom:-2px;border-top:4px solid #0f62fe}a.bx--header__menu-item[role=menuitem]:active{background:#393939}.bx--header__menu .bx--header__menu-item[role=menuitem]:after,.bx--header__menu .bx--header__menu-item[role=menuitem][aria-current=page]:after{content:"";width:calc(100% - 16px);position:absolute;left:8px;bottom:-3px;border-top:none;border-bottom:1px solid #525252}.bx--header__menu .bx--header__menu-item[role=menuitem]:hover:after,.bx--header__menu li:last-child .bx--header__menu-item[role=menuitem]:after{display:none}.bx--header__menu-title[role=menuitem][aria-expanded=true]+.bx--header__menu{background:#262626}.bx--header__menu .bx--header__menu-item[role=menuitem]{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#c6c6c6}.bx--header__menu .bx--header__menu-item[role=menuitem]:hover{color:#f4f4f4;background:#353535}.bx--header__menu .bx--header__menu-item[role=menuitem][aria-current=page]{color:#f4f4f4;font-weight:600;background:#393939}.bx--header__menu .bx--header__menu-item[role=menuitem][aria-current=page]:after{display:none}.bx--header__menu .bx--header__menu-item[role=menuitem]:active{color:#f4f4f4;background:#525252}.bx--side-nav.bx--side-nav--website--with-header-nav{width:0;border-right-width:0}@media (min-width:66rem){.bx--side-nav.bx--side-nav--website--with-header-nav{display:none}}.bx--side-nav--website--with-header-nav.bx--side-nav.bx--side-nav--open{border-right-width:1px}.bx--side-nav--website{z-index:16000}.bx--side-nav--website--with-header-nav.bx--side-nav.bx--side-nav--open{width:16rem}.bx--side-nav--website--with-header-nav .bx--side-nav__footer{display:none}.bx--side-nav__divider{display:block;margin:4rem 1rem 0;border-style:solid;border-bottom:none;border-color:#393939}.bx--side-nav--website--light .bx--side-nav__divider{border-color:#e0e0e0}.bx--side-nav--website .bx--side-nav__item:nth-last-child(2) .bx--side-nav--website-link{margin-top:1rem}.bx--side-nav--website .bx--side-nav__item:last-child .bx--side-nav--website-link,.bx--side-nav--website .bx--side-nav__item:nth-last-child(2) .bx--side-nav--website-link{flex-direction:row-reverse;justify-content:space-between}.bx--side-nav--website .bx--side-nav__item:last-child .bx--side-nav--website-link>.bx--side-nav__icon,.bx--side-nav--website .bx--side-nav__item:nth-last-child(2) .bx--side-nav--website-link>.bx--side-nav__icon{display:block;flex:0 1}.bx--side-nav__navigation{padding-top:1.5rem}.bx--side-nav.bx--side-nav--website .bx--side-nav__footer{display:none}.bx--side-nav.bx--side-nav--website .bx--side-nav__menu[role=menu] a.bx--side-nav__link[role=menuitem]{padding-left:1rem}.bx--side-nav.bx--side-nav--website .bx--side-nav__icon:not(.bx--side-nav__submenu-chevron){display:none}.bx--side-nav.bx--side-nav--website .bx--side-nav__link-text,.bx--side-nav.bx--side-nav--website .bx--side-nav__submenu-title{padding-left:1rem}.bx--side-nav__submenu:focus,a.bx--side-nav__link:focus{outline:2px solid #0f62fe;outline-offset:-2px}.bx--side-nav{border-top:none;border-right:1px solid #393939}.bx--side-nav .bx--side-nav__item--active{background:transparent}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item.bx--side-nav__item--active .bx--side-nav__submenu[aria-haspopup=true]{color:#161616}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item.bx--side-nav__item--active .bx--side-nav__submenu[aria-haspopup=true] .bx--side-nav__icon svg{fill:#161616}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item.bx--side-nav__item--active .bx--side-nav__submenu[aria-haspopup=true][aria-expanded=false]{background-color:#e0e0e0;position:relative}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item.bx--side-nav__item--active .bx--side-nav__submenu[aria-haspopup=true][aria-expanded=false]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:4px;background-color:#0f62fe}.bx--side-nav.bx--side-nav--website--light{background-color:#fff;border-right:none}.bx--side-nav__navigation{padding-top:1rem;background-color:#161616}.bx--side-nav--website--light .bx--side-nav__navigation{background-color:#fff}.bx--side-nav--website .bx--side-nav__icon>svg{fill:#c6c6c6}.bx--side-nav--website--light .bx--side-nav__icon>svg{fill:#393939}.bx--side-nav .bx--side-nav__submenu[aria-haspopup=true],.bx--side-nav__item>a.bx--side-nav__link{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;color:#c6c6c6}.bx--side-nav a.bx--side-nav__link>.bx--side-nav__link-text{color:#c6c6c6}.bx--side-nav--website--light .bx--side-nav__item>a.bx--side-nav__link,.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item .bx--side-nav__submenu[aria-haspopup=true],.bx--side-nav.bx--side-nav--website--light a.bx--side-nav__link>.bx--side-nav__link-text{color:#393939}.bx--side-nav a.bx--side-nav__link:hover>.bx--side-nav__link-text,.bx--side-nav a.bx--side-nav__link[aria-current=page]>.bx--side-nav__link-text{color:#f4f4f4}.bx--side-nav.bx--side-nav--website--light a.bx--side-nav__link:hover>.bx--side-nav__link-text,.bx--side-nav.bx--side-nav--website--light a.bx--side-nav__link[aria-current=page]>.bx--side-nav__link-text{color:#161616}.bx--side-nav__item:not(.bx--side-nav__item--active):hover{background-color:#161616}.bx--side-nav--website--light .bx--side-nav__item:not(.bx--side-nav__item--active):hover{background-color:#fff}.bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__link,.bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__submenu,.bx--side-nav__menu[role=menu] a.bx--side-nav__link[role=menuitem]:not(.bx--side-nav__link--current):not([aria-current=page]):hover{background-color:#353535;color:#f4f4f4}.bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__link .bx--side-nav__icon svg,.bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__submenu .bx--side-nav__icon svg,.bx--side-nav__menu[role=menu] a.bx--side-nav__link[role=menuitem]:not(.bx--side-nav__link--current):not([aria-current=page]):hover .bx--side-nav__icon svg{fill:#f4f4f4}.bx--side-nav--website--light .bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__link,.bx--side-nav--website--light .bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__submenu,.bx--side-nav--website--light .bx--side-nav__menu[role=menu] a.bx--side-nav__link[role=menuitem]:not(.bx--side-nav__link--current):not([aria-current=page]):hover{background-color:#e5e5e5;color:#161616}.bx--side-nav--website--light .bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__link .bx--side-nav__icon svg,.bx--side-nav--website--light .bx--side-nav__item:not(.bx--side-nav__item--active):hover>.bx--side-nav__submenu .bx--side-nav__icon svg,.bx--side-nav--website--light .bx--side-nav__menu[role=menu] a.bx--side-nav__link[role=menuitem]:not(.bx--side-nav__link--current):not([aria-current=page]):hover .bx--side-nav__icon svg{fill:#161616}.bx--side-nav .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]{background-color:#161616;color:#c6c6c6}.bx--side-nav .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]:hover{background-color:#353535;color:#f4f4f4}.bx--side-nav .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]:hover .bx--side-nav__icon svg{fill:#f4f4f4}.bx--side-nav .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true] .bx--side-nav__icon svg{fill:#c6c6c6}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]{background-color:#fff;color:#393939}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]:hover{background-color:#e5e5e5;color:#161616}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true]:hover .bx--side-nav__icon svg{fill:#161616}.bx--side-nav.bx--side-nav--website--light .bx--side-nav__item .bx--side-nav__submenu[aria-expanded=true] .bx--side-nav__icon svg{fill:#393939}.bx--side-nav__menu[role=menu] a.bx--side-nav__link--current,.bx--side-nav__menu[role=menu] a.bx--side-nav__link[aria-current=page],.bx--side-nav a.bx--side-nav__link[aria-current=page]{background-color:#393939}.bx--side-nav--website--light .bx--side-nav__menu[role=menu] a.bx--side-nav__link--current,.bx--side-nav--website--light .bx--side-nav__menu[role=menu] a.bx--side-nav__link[aria-current=page],.bx--side-nav.bx--side-nav--website--light a.bx--side-nav__link[aria-current=page]{background-color:#e0e0e0}.bx--side-nav__submenu[aria-haspopup=true],.bx--side-nav a.bx--side-nav__link{min-height:2rem;height:2rem}.bx--side-nav .bx--side-nav__icon,.bx--side-nav .bx--side-nav__icon svg{height:1rem;width:1rem}.bx--side-nav__submenu>.bx--side-nav__icon,a.bx--side-nav__link>.bx--side-nav__icon{margin-right:0}.bx--side-nav.bx--side-nav--website+div:before{content:"";visibility:hidden;opacity:0;will-change:opacity;transition:opacity .24s cubic-bezier(.2,0,.38,.9),visibility .24s cubic-bezier(.2,0,.38,.9);background:rgba(22,22,22,.5);position:fixed;height:100vh;width:100vw;z-index:100}.bx--side-nav.bx--side-nav--website:not(.side-nav__closed){box-shadow:0 2px 8px rgba(0,0,0,.2)}.bx--side-nav.bx--side-nav--website:not(.side-nav__closed)+div{position:fixed}.bx--side-nav.bx--side-nav--website:not(.side-nav__closed)+div:before{opacity:1;visibility:initial}@media (min-width:66rem){.bx--side-nav.bx--side-nav--website:not(.side-nav__closed)+div{position:inherit}.bx--side-nav.bx--side-nav--website:not(.side-nav__closed)+div:before{visibility:hidden;opacity:0}}.bx--back-to-top{width:3rem;height:3rem;border-radius:1.5rem;background:#c6c6c6;border-color:transparent;position:fixed;bottom:3.125rem;right:1.875rem;cursor:pointer;z-index:9999;padding-top:.325rem}.bx--back-to-top svg{fill:#000}.bx--back-to-top:hover{background:#262626;border-color:transparent}.bx--back-to-top:hover svg{fill:#fff}html{font-size:100%}body{font-weight:400;font-family:IBM Plex Sans,Helvetica Neue,Arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace}strong{font-weight:600}body{background:#161616}body em{font-style:italic}body button{font-family:inherit}.container{background:#f4f4f4;width:100%;margin-left:0;transition:.11s ease;position:relative;min-height:calc(100vh - 48px);margin-top:3rem}.container .bx--grid{margin:0;max-width:99rem}@media (min-width:66rem){.container .bx--grid{padding-left:calc(25% + 2rem)}}@media (min-width:99rem){.container .bx--grid{padding-left:400px}}.container .bx--col-no-gutter{padding:0}@media (min-width:66rem){.bx--header__menu-trigger{display:none}}.component-docs p,.page-p{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0;padding:0 0 1.5rem}.component-docs p:empty,.page-p:empty{padding:0;margin:0}.page-content>div>div:nth-child(2) h2:before{padding-bottom:5rem}.page-content>div>div:nth-child(2) h3{margin-top:3rem}.page-content hr.divider{display:block;margin:3rem 0;height:1px;background:#e0e0e0;border:0 transparent}.bx--platform-header{z-index:9999}img{max-width:100%}.gatsby-resp-image-wrapper,img[src*=gif],img[src*=svg]{margin-bottom:1.5rem}.gatsby-resp-image-background-image{background:transparent!important}.gatsby-resp-image-image{box-shadow:none!important;border:none!important}.page-content>div>img[src*=gif],.page-content>div>img[src*=svg]{background:#fff}.page-content iframe{margin-bottom:1.5rem}.bx--website-switcher{z-index:10000}[hidden]{display:none}.container--homepage{background:#161616;color:#fff}.container--homepage a{color:#78a9ff;text-decoration:none}.container--homepage a:hover{text-decoration:underline}.homepage--header{height:0;overflow:hidden;padding-top:50%;position:relative}@media (min-width:66rem){.homepage--header{padding:0;height:560px}}.homepage--header .bx--grid,.homepage--header .bx--row{height:100%}.container--homepage h3.homepage--header__title{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62);display:none;font-weight:600;position:absolute;bottom:3.5rem;padding-bottom:0;margin-bottom:0;z-index:3}@media (min-width:82rem){.container--homepage h3.homepage--header__title{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.container--homepage h3.homepage--header__title{font-size:1.5rem}}@media (min-width:42rem){.container--homepage h3.homepage--header__title{display:block}}.homepage--header img{width:100%;position:absolute;top:50%;right:0;margin-top:-25%}.container--homepage .bx--grid{margin:0}@media (min-width:66rem){.container--homepage .bx--grid{padding-left:calc(25% + 2rem)}}@media (min-width:99rem){.container--homepage .bx--grid{padding-left:400px}}.container--homepage .bx--col-no-gutter{padding:0}.bx--header .bx--header__action--search{display:flex;justify-content:center;align-items:center}.bx--header .bx--search,.bx--header .bx--search-input{width:28rem;height:100%}.bx--header .bx--search-clear,.bx--header .bx--search-magnifier{width:1.25rem;height:1.25rem;fill:#f4f4f4}.bx--header .bx--search-close{width:3rem;height:100%}.bx--header .bx--search-close:hover{background:#4c4c4c;border:2px solid #fff!important;border-left:0!important}.bx--header .bx--search--dark .bx--search-input{background-color:#393939;color:#f4f4f4}.bx--header .bx--search--dark .bx--search-input:focus{outline:2px solid #fff;outline-offset:-2px}.bx--header .algolia-autocomplete{height:2rem}.bx--header .algolia-autocomplete .ds-dropdown-menu{z-index:10000;min-width:448px;background-color:#fff;border-radius:0;box-shadow:0 2px 6px rgba(22,22,22,.2);margin-top:.5rem}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--content:before,.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column:before,.bx--header .algolia-autocomplete .ds-dropdown-menu:before{display:none}.bx--header .algolia-autocomplete .ds-dropdown-menu [class^=ds-dataset-]{border:none;border-radius:0;padding:0 0 1rem}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--category-header{font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;margin:0 16px;padding:.5rem 0;color:#393939}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#393939;font-size:.875rem;padding:0;text-align:left}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--title{font-weight:700;color:#161616;font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;margin-bottom:0}.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple,.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content,.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--wrapper{background:#e5e5e5}.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple:active,.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content:active,.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--wrapper:active{background:#c6c6c6}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion .algolia-docsearch-suggestion--subcategory-column{width:5.5rem;margin-right:1rem}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--content{width:19.5rem;padding:0}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--text{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#393939}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column-text,.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--title{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#161616}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--highlight{color:#0f62fe}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--text .algolia-docsearch-suggestion--highlight{box-shadow:inset 0 -2px 0 0 #0f62fe}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--wrapper{padding:.5rem 1rem}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion{padding:0;text-decoration:none}.bx--header .algolia-autocomplete .ds-dropdown-menu .ds-suggestions{margin-top:.5rem}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--no-results{padding:1.5rem 0 1rem;text-align:left;float:none}.bx--header .algolia-autocomplete .algolia-docsearch-footer{margin-top:1rem;margin-right:1rem}@media (max-width:725px){.bx--header .bx--header__action--search,.bx--header .bx--search{display:none}}@media (max-width:768px){.bx--header .algolia-autocomplete .algolia-docsearch-suggestion .algolia-docsearch-suggestion--subcategory-column:after{display:none}.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--content,.bx--header .algolia-autocomplete .algolia-docsearch-suggestion--title{width:19.5rem}}.spacing-table td{vertical-align:top}.component-docs table,.page-table{margin-bottom:1.5rem;line-height:1.25;width:100%}@media (min-width:42rem){.component-docs table,.page-table{min-width:67.3%}}.component-docs table thead th,.page-table thead th{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;color:#161616;padding:1rem;text-align:left;white-space:nowrap;background:#fff}.component-docs table tbody tr,.page-table tbody tr{border-bottom:1px solid #e0e0e0}.component-docs table tbody tr td,.page-table tbody tr td{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;color:#161616;padding:1rem}.component-docs table tbody tr td img[src$="checkmark--glyph.svg"],.page-table tbody tr td img[src$="checkmark--glyph.svg"]{width:16px;height:16px;margin:0}.component-docs table tbody tr td strong,.page-table tbody tr td strong{font-weight:font-weight("semibold")}@media (min-width:66rem){.component-docs table tbody tr td,.page-table tbody tr td{min-width:6.25rem}}@media (min-width:82rem){.component-docs table tbody tr td,.page-table tbody tr td{min-width:9.375rem}}@media (min-width:42rem){.component-docs p{max-width:75%}}@media (min-width:66rem){.component-docs p{max-width:55%}}.component-docs table{width:calc(100% + 2rem);margin-left:-1rem;margin-top:1rem}@media (min-width:42rem){.component-docs table{max-width:75%}}@media (min-width:66rem){.component-docs table{max-width:50%}}.page-table__container{overflow-x:auto}.bx--example{margin-bottom:2.5rem;width:100%}.bx--example--dark .bx--example-card{background:#262626;color:#fff}.bx--example__content{font-size:1.25rem;font-weight:300;width:100%}.bx--example__content .gatsby-resp-image-link{width:100%}.bx--example__content img{margin-bottom:0;width:100%}.bx--example-card{background:#fff;width:100%;position:relative}.bx--example .bx--example-card__content{position:relative}.bx--example--square .bx--example-card{padding-top:100%}.bx--example--square .bx--example-card__content{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center}.bx--example__text{padding:10%;font-weight:300;font-size:1.5rem;line-height:1.25}.bx--example-image{display:block;width:100%;margin:0;padding:0}.bx--example-card:before{content:"";position:absolute;left:0;top:-1px;width:100%;height:3px;z-index:1}.bx--example--correct .bx--example-card:before{background:#24a148}.bx--example--incorrect .bx--example-card:before{background:#ee5396}.bx--example__icon{display:block;position:absolute;left:calc(1rem - 1px);top:calc(1rem - 1px);z-index:10;width:24px;height:24px}.bx--example__icon--correct{fill:#24a148}.bx--example__icon--incorrect{fill:#ee5396}.bx--example__icon path[data-icon-path=inner-path],.bx--example__icon path[dataIconPath=inner-path]{fill:#fff;opacity:1}.bx--example__caption{padding:.5rem 0 0;width:100%}@media (min-width:42rem){.bx--example__caption{width:75%}}.bx--example__title{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;font-weight:600;margin:0}@media (orientation:landscape){.bx--example__title{padding:0 25% 0 0}}@media (min-width:42rem){.bx--example__title{padding:0 25% 0 0}}.bx--example__description{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;margin:0;padding:0 0 1.5rem}@media (min-width:42rem){.bx--col-lg-4 .bx--example__caption{width:100%}}.bx--example span.gatsby-resp-image-wrapper{max-width:100%!important;margin-bottom:0}.bx--example [class^=Video-module--video]{margin-bottom:0}.bx--caption{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;padding-top:.5rem;margin-bottom:1.5rem}.gatsby-resp-image-wrapper+.bx--caption,img+.bx--caption{margin-top:-1.5rem}[class^=Video-module--video]+.bx--caption{margin-top:-2.5rem}@media (min-width:42rem){.bx--caption--responsive{width:75%}}@media (min-width:66rem){.bx--caption--responsive{width:50%}}.bx--row .bx--caption{width:100%}.bx--resource-card .bx--tile{background:#fff;height:100%;padding:1rem 25% 1rem 1rem;position:relative;transition:background 70ms;text-decoration:none}.bx--resource-card .bx--tile:hover{background:#e5e5e5}.bx--resource-card__title{font-size:1.25rem;font-weight:400;line-height:1.625rem;letter-spacing:0;text-decoration:none;color:#161616}.bx--resource-card__subtitle{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;font-weight:400;text-decoration:none;color:#161616}.bx--resource-card__icon--img{position:absolute;bottom:1rem;left:1rem;width:32px;min-height:32px}.bx--resource-card__icon--img .gatsby-resp-image-wrapper,.bx--resource-card__icon--img img[src*=gif],.bx--resource-card__icon--img img[src*=svg]{margin-bottom:0}.bx--resource-card__icon--action{position:absolute;bottom:1rem;right:1rem;width:20px;height:20px}.bx--resource-card--dark .bx--tile{background:#262626}.bx--resource-card--dark .bx--tile:hover{background:#393939}.bx--resource-card--dark .bx--resource-card__subtitle,.bx--resource-card--dark .bx--resource-card__title{color:#fff}.bx--resource-card--dark .bx--resource-card__icon--action svg{fill:#f4f4f4}.bx--resource-card--disabled .bx--tile:hover{background:#fff;cursor:not-allowed}.bx--resource-card--disabled .bx--resource-card__subtitle,.bx--resource-card--disabled .bx--resource-card__title{color:#8d8d8d}.bx--resource-card--disabled .bx--resource-card__icon--action svg{fill:#c6c6c6}.bx--resource-card--disabled .bx--resource-card__icon--img{-webkit-filter:grayscale(100%);filter:grayscale(100%);opacity:.5}.bx--resource-card--disabled.bx--resource-card--dark .bx--tile:hover{background:#262626}.bx--resource-card--disabled.bx--resource-card--dark .bx--resource-card__subtitle,.bx--resource-card--disabled.bx--resource-card--dark .bx--resource-card__title{color:#8d8d8d}.bx--resource-card--disabled.bx--resource-card--dark .bx--resource-card__icon--action svg{fill:#525252}@media (min-width:66rem){.resource-card-group .bx--col-lg-4:nth-child(2n){margin-right:33%}}.resource-card-group .bx--resource-card{border-top:1px solid #e0e0e0}.resource-card-group .bx--resource-card--dark{border-top-color:1px solid #000}@media (min-width:42rem){.resource-card-group .bx--col-lg-4:nth-child(2) .bx--resource-card{border-top:0 solid transparent}}.resource-card-group .bx--col-lg-4:first-child .bx--resource-card{border-top:0 solid transparent}@media (min-width:42rem){.resource-card-group .bx--col-lg-4:nth-child(odd) .bx--resource-card{border-left:1px solid transparent}}@media (min-width:42rem){.resource-card-group .bx--col-lg-4:nth-child(2n) .bx--resource-card{border-left:1px solid #e0e0e0}}.resource-card-group .bx--col-lg-4:nth-child(2n) .bx--resource-card--dark{border-left-color:#000}@media (min-width:66rem){.resource-card-group .bx--col-lg-4:nth-child(2){margin-right:33%}}.bx--article-card .bx--tile{background:#fff;height:100%;padding:0;position:relative;transition:background 70ms;text-decoration:none;margin-bottom:1rem}.bx--article-card:hover .bx--tile{background:#e5e5e5}.bx--article-card__tile{padding:1rem 25% 1rem 1rem}.bx--article-card__title{font-size:1.25rem;font-weight:400;line-height:1.625rem;letter-spacing:0;text-decoration:none;color:#161616}.bx--article-card__subtitle{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;font-weight:400;text-decoration:none;color:#161616}.bx--article-card__info{font-size:.75rem;font-weight:400;line-height:1rem;letter-spacing:.32px;position:absolute;bottom:1rem;left:1rem;padding:0;color:#393939}.bx--article-card__img .gatsby-resp-image-wrapper{margin-bottom:0}.bx--article-card__icon--action{position:absolute;bottom:1rem;right:1rem;width:20px;height:20px}.bx--article-card__icon--action svg{fill:#161616}.bx--article-card--dark .bx--tile{background:#262626}.bx--article-card--dark:hover .bx--tile{background:#393939}.bx--article-card--dark .bx--article-card__title{color:#fff}.bx--article-card--dark .bx--article-card__info{color:#c6c6c6}.bx--article-card--dark .bx--article-card__icon--action svg{fill:#f4f4f4}.bx--article-card--disabled{cursor:not-allowed}.bx--article-card--disabled .bx--tile:hover{background:#fff;cursor:not-allowed}.bx--article-card--disabled .bx--article-card__info,.bx--article-card--disabled .bx--article-card__title{color:#8d8d8d}.bx--article-card--disabled .bx--article-card__icon--action svg{fill:#c6c6c6}.bx--article-card--disabled.bx--article-card--dark .bx--tile:hover{background:#262626}.bx--article-card--disabled.bx--article-card--dark .bx--article-card__info,.bx--article-card--disabled.bx--article-card--dark .bx--article-card__title{color:#8d8d8d}.bx--article-card--disabled.bx--article-card--dark .bx--article-card__icon--action svg{fill:#525252}.bx--feature-card{position:relative;margin-bottom:1rem}@media (min-width:42rem){.bx--feature-card__row{position:absolute;left:0;bottom:0;width:calc(100% + 2rem)}}.bx--feature-card__img{position:relative}.bx--feature-card:hover .bx--feature-card__link .bx--tile{background:#e5e5e5}.bx--feature-card:hover .bx--feature-card__link .bx--resource-card--dark .bx--tile{background:#393939}@media (min-width:42rem){.bx--feature-card__img.bx--aspect-ratio--1x1{padding-bottom:0}}@media (min-width:42rem){.bx--feature-card__img .bx--aspect-ratio--object{position:static}}.bx--feature-card .gatsby-resp-image-wrapper{position:relative;display:block;margin-left:-1rem;margin-right:-1rem;max-width:100%;overflow:hidden;height:100%}.bx--feature-card .gatsby-resp-image-background-image{padding-bottom:100%}.bx--feature-card .gatsby-resp-image-image{width:auto!important;left:auto!important;right:0;-o-object-fit:cover;object-fit:cover}.bx--feature-card .gatsby-resp-image-wrapper{margin-bottom:0;margin-left:0;margin-right:0}.bx--image-card .bx--tile{height:100%;padding:1rem 25% 1rem 1rem;position:relative;text-decoration:none}.bx--image-card .bx--tile:focus{outline:none}.bx--image-card__title{font-size:1.25rem;font-weight:400;line-height:1.625rem;letter-spacing:0;text-decoration:none;color:#fff;position:relative;z-index:1}.bx--image-card__subtitle{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px;font-weight:400;text-decoration:none;color:#fff;position:absolute;bottom:1rem;left:1rem;z-index:1}.bx--image-card__icon--action{position:absolute;bottom:1rem;right:1rem;width:20px;height:20px;z-index:1}.bx--image-card__icon--action svg{fill:#f4f4f4}.bx--image-card__img{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.bx--image-card__img .gatsby-resp-image-wrapper,.bx--image-card__img img[src*=gif],.bx--image-card__img img[src*=svg]{position:relative;width:100%;height:100%;max-width:100%!important;top:-1px;left:-1px}.bx--image-card__img:after{position:absolute;top:0;left:0;content:"";width:100%;height:100%;background:hsla(0,0%,100%,.08);opacity:0;transition:opacity 70ms}.bx--image-card .bx--tile:hover .bx--image-card__img:after{opacity:1}.bx--image-card__subtitle--dark,.bx--image-card__title--dark{color:#161616}.bx--image-card__icon--action--dark svg{fill:#161616}.bx--image-card--dark .bx--image-card__img:after{background:rgba(0,0,0,.15)}.bx--image-card--disabled .bx--tile:hover{cursor:not-allowed}.bx--image-card--disabled .bx--image-card__subtitle,.bx--image-card--disabled .bx--image-card__title{color:#8d8d8d}.bx--image-card--disabled .bx--image-card__icon--action svg{fill:#c6c6c6}.bx--image-card--disabled .bx--image-card__img:after{display:none}.bx--image-card--disabled .bx--image-card__subtitle--dark,.bx--image-card--disabled .bx--image-card__title--dark{color:#8d8d8d}.bx--image-card--disabled .bx--image-card__icon--action--dark svg{fill:#525252}.bx--aspect-ratio--1x2{padding-bottom:200%}.bx--type-mono{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace}.bx--type-sans{font-family:IBM Plex Sans,Helvetica Neue,Arial,sans-serif}.bx--type-sans-condensed{font-family:IBM Plex Sans Condensed,Helvetica Neue,Arial,sans-serif}.bx--type-sans-hebrew{font-family:IBM Plex Sans Hebrew,Helvetica Hebrew,Arial Hebrew,sans-serif}.bx--type-serif{font-family:"IBM Plex Serif",Georgia,Times,serif}.bx--type-light{font-weight:300}.bx--type-regular{font-weight:400}.bx--type-semibold{font-weight:600}.bx--type-italic{font-style:italic}.bx--type-caption-01,.bx--type-label-01{font-weight:400}.bx--type-caption-01,.bx--type-helper-text-01,.bx--type-label-01{font-size:.75rem;line-height:1rem;letter-spacing:.32px}.bx--type-body-short-01{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px}.bx--type-body-short-02{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0}.bx--type-body-long-01{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.16px}.bx--type-body-long-02{font-size:1rem;font-weight:400;line-height:1.5rem;letter-spacing:0}.bx--type-code-01{font-size:.75rem;line-height:1rem}.bx--type-code-01,.bx--type-code-02{font-family:IBM Plex Mono,Menlo,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier,monospace;font-weight:400;letter-spacing:.32px}.bx--type-code-02{font-size:.875rem;line-height:1.25rem}.bx--type-heading-01{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px}.bx--type-heading-02{font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0}.bx--type-productive-heading-01{font-size:.875rem;font-weight:600;line-height:1.125rem;letter-spacing:.16px}.bx--type-productive-heading-02{font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0}.bx--type-productive-heading-03{font-size:1.25rem;font-weight:400;line-height:1.625rem;letter-spacing:0}.bx--type-productive-heading-04{font-size:1.75rem;font-weight:400;line-height:2.25rem;letter-spacing:0}.bx--type-productive-heading-05{font-size:2rem;font-weight:400;line-height:2.5rem;letter-spacing:0}.bx--type-productive-heading-06{font-size:2.625rem;font-weight:300;line-height:3.125rem;letter-spacing:0}.bx--type-productive-heading-07{font-size:3.375rem;font-weight:300;line-height:4rem;letter-spacing:0}.bx--type-expressive-paragraph-01{font-size:1.5rem;font-weight:300;line-height:125%;letter-spacing:0;font-size:calc(1.5rem + 0.25*(100vw - 20rem)/46)}@media (min-width:66rem){.bx--type-expressive-paragraph-01{font-size:1.75rem;line-height:129%;font-size:calc(1.75rem + 0.25*(100vw - 66rem)/33)}}@media (min-width:99rem){.bx--type-expressive-paragraph-01{line-height:125%;font-size:2rem}}.bx--type-expressive-heading-01{font-size:.875rem;font-weight:600;line-height:1.25rem;letter-spacing:.16px}.bx--type-expressive-heading-02{font-size:1rem;font-weight:600;line-height:1.5rem;letter-spacing:0}.bx--type-expressive-heading-03{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/62)}@media (min-width:82rem){.bx--type-expressive-heading-03{font-size:1.25rem;line-height:125%;font-size:calc(1.25rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-expressive-heading-03{font-size:1.5rem}}.bx--type-expressive-heading-04{font-size:1.75rem;font-weight:400;line-height:129%;letter-spacing:0;font-size:calc(1.75rem + 0*(100vw - 20rem)/62)}@media (min-width:82rem){.bx--type-expressive-heading-04{font-size:1.75rem;line-height:125%;font-size:calc(1.75rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-expressive-heading-04{font-size:2rem}}.bx--type-expressive-heading-05{font-size:2rem;font-weight:400;line-height:125%;letter-spacing:0;font-size:calc(2rem + 0.25*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-expressive-heading-05{font-size:2.25rem;font-weight:300;line-height:122%;letter-spacing:0;font-size:calc(2.25rem + 0.375*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-expressive-heading-05{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-expressive-heading-05{font-size:3rem;font-weight:300;line-height:117%;letter-spacing:0;font-size:calc(3rem + 0.75*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-expressive-heading-05{font-weight:300;line-height:4.375rem;letter-spacing:0;font-size:3.75rem}}.bx--type-expressive-heading-06{font-size:2rem;font-weight:600;line-height:125%;letter-spacing:0;font-size:calc(2rem + 0.25*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-expressive-heading-06{font-size:2.25rem;font-weight:600;line-height:122%;letter-spacing:0;font-size:calc(2.25rem + 0.375*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-expressive-heading-06{font-size:2.625rem;font-weight:600;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-expressive-heading-06{font-size:3rem;font-weight:600;line-height:117%;letter-spacing:0;font-size:calc(3rem + 0.75*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-expressive-heading-06{font-weight:600;line-height:4.375rem;letter-spacing:0;font-size:3.75rem}}.bx--type-quotation-01{font-size:1.25rem;font-weight:400;line-height:130%;letter-spacing:0;font-size:calc(1.25rem + 0*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-quotation-01{font-size:1.25rem;font-weight:400;letter-spacing:0;font-size:calc(1.25rem + 0.25*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-quotation-01{font-size:1.5rem;font-weight:400;line-height:125%;letter-spacing:0;font-size:calc(1.5rem + 0.25*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-quotation-01{font-size:1.75rem;font-weight:400;line-height:129%;letter-spacing:0;font-size:calc(1.75rem + 0.25*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-quotation-01{font-weight:400;line-height:125%;letter-spacing:0;font-size:2rem}}.bx--type-quotation-02{font-size:2rem;font-weight:300;line-height:125%;letter-spacing:0;font-size:calc(2rem + 0.25*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-quotation-02{font-size:2.25rem;line-height:122%;font-size:calc(2.25rem + 0.375*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-quotation-02{font-size:2.625rem;line-height:119%;font-size:calc(2.625rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-quotation-02{font-size:3rem;line-height:117%;font-size:calc(3rem + 0.75*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-quotation-02{font-size:3.75rem}}.bx--type-display-01{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-display-01{font-size:2.625rem;font-size:calc(2.625rem + 0.75*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-display-01{font-size:3.375rem;font-size:calc(3.375rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-display-01{font-size:3.75rem;line-height:117%;font-size:calc(3.75rem + 1*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-display-01{line-height:113%;font-size:4.75rem}}.bx--type-display-02{font-size:2.625rem;font-weight:600;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-display-02{font-size:2.625rem;font-size:calc(2.625rem + 0.75*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-display-02{font-size:3.375rem;font-size:calc(3.375rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-display-02{font-size:3.75rem;line-height:116%;font-size:calc(3.75rem + 1*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-display-02{line-height:113%;font-size:4.75rem}}.bx--type-display-03{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 1.625*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-display-03{font-size:4.25rem;line-height:115%;font-size:calc(4.25rem + 1.5*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-display-03{font-size:5.75rem;line-height:111%;letter-spacing:-.64px;font-size:calc(5.75rem + 1.875*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-display-03{font-size:7.625rem;line-height:107%;font-size:calc(7.625rem + 2.125*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-display-03{line-height:105%;letter-spacing:-.96px;font-size:9.75rem}}.bx--type-display-04{font-size:2.625rem;font-weight:600;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 1.625*(100vw - 20rem)/22)}@media (min-width:42rem){.bx--type-display-04{font-size:4.25rem;line-height:115%;font-size:calc(4.25rem + 1.5*(100vw - 42rem)/24)}}@media (min-width:66rem){.bx--type-display-04{font-size:5.75rem;line-height:111%;letter-spacing:-.64px;font-size:calc(5.75rem + 1.875*(100vw - 66rem)/16)}}@media (min-width:82rem){.bx--type-display-04{font-size:7.625rem;line-height:107%;letter-spacing:-.64px;font-size:calc(7.625rem + 2.125*(100vw - 82rem)/17)}}@media (min-width:99rem){.bx--type-display-04{line-height:105%;letter-spacing:-.96px;font-size:9.75rem}}.PageHeader-module--bx--text-truncate--end--mZWeX,.PageHeader-module--bx--text-truncate--front--3zvrI{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.PageHeader-module--bx--text-truncate--front--3zvrI{direction:rtl}.PageHeader-module--page-header--3hIan{background:#000;color:#fff;width:100%;display:flex;flex-direction:column;justify-content:flex-end;height:20rem;transition:top .11s}.PageHeader-module--text--o9LFq{font-size:2.625rem;font-weight:300;line-height:119%;letter-spacing:0;font-size:calc(2.625rem + 0*(100vw - 20rem)/22);margin-bottom:2rem;margin-top:auto}@media (min-width:42rem){.PageHeader-module--text--o9LFq{font-size:2.625rem;font-size:calc(2.625rem + 0.75*(100vw - 42rem)/24)}}@media (min-width:66rem){.PageHeader-module--text--o9LFq{font-size:3.375rem;font-size:calc(3.375rem + 0.375*(100vw - 66rem)/16)}}@media (min-width:82rem){.PageHeader-module--text--o9LFq{font-size:3.75rem;line-height:117%;font-size:calc(3.75rem + 1*(100vw - 82rem)/17)}}@media (min-width:99rem){.PageHeader-module--text--o9LFq{line-height:113%;font-size:4.75rem}}.PageHeader-module--page-header--sticky--1ElAE{position:-webkit-sticky;position:sticky;z-index:6000;top:-14rem}.PageHeader-module--page-header--sticky--1ElAE.PageHeader-module--page-header--shifted--1sRXO{top:-17rem}.EditLink-module--bx--text-truncate--end--2pqje,.EditLink-module--bx--text-truncate--front--3_lIE{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.EditLink-module--bx--text-truncate--front--3_lIE{direction:rtl}.EditLink-module--link--1qzW3{font-size:.875rem;font-weight:400;line-height:1.125rem;letter-spacing:.16px;transition:color .11s;color:#393939}.EditLink-module--link--1qzW3:hover{color:#161616}.EditLink-module--row--1B9Gk{position:relative;top:9rem}.PageTabs-module--bx--text-truncate--end--267NA,.PageTabs-module--bx--text-truncate--front--3xEQF{width:100%;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.PageTabs-module--bx--text-truncate--front--3xEQF{direction:rtl}.PageTabs-module--tabs-container--8N4k0{margin:0;width:100%;box-shadow:0 -1px 0 hsla(0,0%,100%,.25)}.PageTabs-module--list--3eFQc{display:flex;flex-direction:row;width:100%;list-style:none;padding:0;overflow-x:auto;scrollbar-width:none}.PageTabs-module--list-item--nUmtD{display:flex}.PageTabs-module--link--1mDJ1{font-size:1rem;font-weight:400;line-height:1.375rem;letter-spacing:0;padding:13px 1rem 0;text-decoration:none;line-height:1;color:#fff;white-space:nowrap;border-top:3px solid transparent;height:3rem;transition:all .15s cubic-bezier(.2,0,.38,.9)}@media (min-width:42rem){.PageTabs-module--link--1mDJ1{padding-right:3rem}}.PageTabs-module--link--1mDJ1:hover{background:#353535}.PageTabs-module--selected-item--YPVr3 .PageTabs-module--link--1mDJ1{border-top:3px solid #0f62fe;background:#393939}.PageTabs-module--list-item--nUmtD:not(.PageTabs-module--selected-item--YPVr3) .PageTabs-module--link--1mDJ1{color:#c6c6c6}.PageTabs-module--list-item--nUmtD:not(.PageTabs-module--selected-item--YPVr3) .PageTabs-module--link--1mDJ1:hover{color:#fff}</style><meta name="generator" content="Gatsby 2.22.11"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYX-KVElMYYaJe8bpLHnCwDKhdTuF6ZJ.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmvIRcdvfu.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmyIJcdvfu.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjQ76AIFsdA.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjXr8AIFsdA.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/FHIR/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeFQ.woff2"/><style type="text/css">@font-face{font-family:'IBM Plex Sans';font-style:italic;font-weight:300;src:local('IBM Plex Sans Light Italic'),local('IBMPlexSans-LightItalic'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmvIRcdvfu.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmvIRcdvfo.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:italic;font-weight:400;src:local('IBM Plex Sans Italic'),local('IBMPlexSans-Italic'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX-KVElMYYaJe8bpLHnCwDKhdTuF6ZJ.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX-KVElMYYaJe8bpLHnCwDKhdTuF6ZP.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:italic;font-weight:600;src:local('IBM Plex Sans SemiBold Italic'),local('IBMPlexSans-SemiBoldItalic'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmyIJcdvfu.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX7KVElMYYaJe8bpLHnCwDKhdTmyIJcdvfo.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:300;src:local('IBM Plex Sans Light'),local('IBMPlexSans-Light'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjXr8AIFsdA.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjXr8AIFscg.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:local('IBM Plex Sans'),local('IBMPlexSans'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeFQ.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeEw.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:600;src:local('IBM Plex Sans SemiBold'),local('IBMPlexSans-SemiBold'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjQ76AIFsdA.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjQ76AIFscg.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Mono';font-style:normal;font-weight:400;src:local('IBM Plex Mono'),local('IBMPlexMono'),url(/FHIR/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2) format('woff2'),url(/FHIR/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q0Q.woff) format('woff');font-display: swap;}</style><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="icon" href="/FHIR/favicon-32x32.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="manifest" href="/FHIR/manifest.webmanifest"/><meta name="theme-color" content="#0062ff"/><link rel="apple-touch-icon" sizes="48x48" href="/FHIR/icons/icon-48x48.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="72x72" href="/FHIR/icons/icon-72x72.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="96x96" href="/FHIR/icons/icon-96x96.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="144x144" href="/FHIR/icons/icon-144x144.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="192x192" href="/FHIR/icons/icon-192x192.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="256x256" href="/FHIR/icons/icon-256x256.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="384x384" href="/FHIR/icons/icon-384x384.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><link rel="apple-touch-icon" sizes="512x512" href="/FHIR/icons/icon-512x512.png?v=d7b36dff7b0a18f20cb3e1f9110c3346"/><title data-react-helmet="true">IBM FHIR Server</title><meta data-react-helmet="true" name="description" content="The IBM FHIR Server is a modular Java implementation of version 4 of the HL7 FHIR specification with a focus on performance and configurability."/><meta data-react-helmet="true" name="keywords" content="ibm,fhir,server"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/FHIR/favicon-32x32.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="manifest" href="/FHIR/manifest.webmanifest"/><meta name="theme-color" content="#0062ff"/><link rel="apple-touch-icon" sizes="48x48" href="/FHIR/icons/icon-48x48.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="72x72" href="/FHIR/icons/icon-72x72.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="96x96" href="/FHIR/icons/icon-96x96.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="144x144" href="/FHIR/icons/icon-144x144.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="192x192" href="/FHIR/icons/icon-192x192.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="256x256" href="/FHIR/icons/icon-256x256.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="384x384" href="/FHIR/icons/icon-384x384.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="apple-touch-icon" sizes="512x512" href="/FHIR/icons/icon-512x512.png?v=2bc5ad489000328b9872b5df9cc60d58"/><link rel="sitemap" type="application/xml" href="/FHIR/sitemap.xml"/><link as="script" rel="preload" href="/FHIR/webpack-runtime-585f884bb579d70805cf.js"/><link as="script" rel="preload" href="/FHIR/framework-f119296e8ee2cdbf7aa4.js"/><link as="script" rel="preload" href="/FHIR/80f8542c-e85c25715699568b7e16.js"/><link as="script" rel="preload" href="/FHIR/c6f56e3b-d1b382581630bc266392.js"/><link as="script" rel="preload" href="/FHIR/5b41c8d8-ae4049caa2a7e42ec4d0.js"/><link as="script" rel="preload" href="/FHIR/29107295-af89ddc526d45a1f4397.js"/><link as="script" rel="preload" href="/FHIR/app-7b7b5b6cbec6c6876de4.js"/><link as="script" rel="preload" href="/FHIR/styles-9b6f388623a2ec93d35f.js"/><link as="script" rel="preload" href="/FHIR/e9dbce52-eace8158301e02d69c88.js"/><link as="script" rel="preload" href="/FHIR/component---src-pages-guides-fhir-server-users-guide-md-6b299fcb9a88ea93031f.js"/><link as="fetch" rel="preload" href="/FHIR/page-data/guides/FHIRServerUsersGuide/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/FHIR/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header aria-label="Header" class="bx--header Header-module--header--1KL7o"><a class="bx--skip-to-content Header-module--skip-to-content--3cjMb" href="#main-content" tabindex="0">Skip to main content</a><button aria-label="Open menu" class="bx--header__action--menu Header-module--header-button--1z7HM bx--header__action bx--header__menu-trigger bx--header__menu-toggle bx--header__menu-toggle__hidden" title="Open menu" type="button"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><path d="M2 14.8H18V16H2zM2 11.2H18V12.399999999999999H2zM2 7.6H18V8.799999999999999H2zM2 4H18V5.2H2z"></path></svg></button><a class="Header-module--headerName--3kUSq" href="/FHIR/"><a href="/FHIR" class="bx--header__name"><span>IBM</span> FHIR® Server</a></a></header><div class="LeftNavWrapper-module--leftNavWrapper--3pkkV"><div class="bx--side-nav__overlay bx--side-nav__overlay-active"></div><nav class="bx--side-nav__navigation bx--side-nav bx--side-nav--expanded bx--side-nav--website bx--side-nav--website--light bx--side-nav--ux" aria-label="Side navigation"><ul class="bx--side-nav__items"><li class="bx--side-nav__item"><a icon="[object Object]" class="bx--side-nav__link" href="/FHIR/announcement"><span class="bx--side-nav__link-text">Announcement</span></a></li><li class="bx--side-nav__item"><a icon="[object Object]" class="bx--side-nav__link" href="/FHIR/Conformance"><span class="bx--side-nav__link-text">Conformance</span></a></li><li class="bx--side-nav__item"><a icon="[object Object]" class="bx--side-nav__link" href="/FHIR/blog/raspberrypi4howto"><span class="bx--side-nav__link-text">Blog</span></a></li><li class="bx--side-nav__item bx--side-nav__item--active"><button aria-haspopup="true" aria-expanded="true" class="bx--side-nav__submenu" type="button"><span class="bx--side-nav__submenu-title">Guides</span><div class="bx--side-nav__icon bx--side-nav__icon--small bx--side-nav__submenu-chevron"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg></div></button><ul class="bx--side-nav__menu"><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link bx--side-nav__link--current" role="menuitem" href="/FHIR/guides/FHIRServerUsersGuide"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA LeftNav-module--link-text__active--1Kp_L">IBM FHIR Server User&#x27;s Guide</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/FHIRModelGuide"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Model guide</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/FHIRValidationGuide"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Validation guide</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/CreateFHIRValidationAssembly"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Create the fhir-validation assembly</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/FHIRSearchConfiguration"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Search configuration</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/BringYourOwnPersistence"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Bring your own Persistence</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/DB2OnCloudSetup"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Setup Db2 on Cloud</span></span></a></li><li class="bx--side-nav__menu-item" role="none"><a class="bx--side-nav__link" role="menuitem" href="/FHIR/guides/FHIRBulkOperations/"><span class="bx--side-nav__link-text"><span class="LeftNav-module--link-text--16DnA">Bulk Data Guide</span></span></a></li></ul></li><li class="bx--side-nav__item"><a icon="[object Object]" class="bx--side-nav__link" href="/FHIR/TipsAndTricks"><span class="bx--side-nav__link-text">Tips and Tricks</span></a></li><hr class="bx--side-nav__divider"/><li class="bx--side-nav__item"><a style="margin-top:1rem" aria-current="" to="https://ibm.github.io/FHIR/javadocs/latest/" href="https://ibm.github.io/FHIR/javadocs/latest/" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">Javadoc: Latest</span></a></li><li class="bx--side-nav__item"><a style="margin-top:0" aria-current="" to="https://ibm.github.io/FHIR/javadocs/index.html" href="https://ibm.github.io/FHIR/javadocs/index.html" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">Javadoc: All Versions</span></a></li><li class="bx--side-nav__item"><a style="margin-top:0" aria-current="" to="https://github.com/IBM/FHIR/" href="https://github.com/IBM/FHIR/" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">GitHub: Source</span></a></li><li class="bx--side-nav__item"><a style="margin-top:0" aria-current="" to="https://github.com/IBM/FHIR/issues" href="https://github.com/IBM/FHIR/issues" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">GitHub: Issues</span></a></li><li class="bx--side-nav__item"><a style="margin-top:0" aria-current="" to="https://github.com/ibm/fhir/releases" href="https://github.com/ibm/fhir/releases" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">GitHub: Releases</span></a></li><li class="bx--side-nav__item"><a style="margin-top:0" aria-current="" to="https://www.hl7.org/fhir/index.html" href="https://www.hl7.org/fhir/index.html" rel="noopener noreferrer" target="_blank" class="bx--side-nav__link LeftNav-module--resource-link--aKXRL LeftNav-module--outboundLink--13-_V"><div class="bx--side-nav__icon bx--side-nav__icon--small"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M13 14H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h5v1H3v10h10V8h1v5c0 .6-.4 1-1 1z"></path><path d="M10 1v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"></path></svg></div><span class="bx--side-nav__link-text">HL7 FHIR</span></a></li></ul></nav></div><div class="Container-module--overlay--204OP" role="presentation" tabindex="-1"></div><div aria-hidden="false" class="container"><div class="PageHeader-module--page-header--3hIan"><div class="bx--grid"><div class="bx--row"><div class="bx--col-lg-12"><h1 id="page-title" class="PageHeader-module--text--o9LFq">IBM FHIR Server User&#x27;s Guide</h1></div></div></div></div><div class="bx--grid Main-module--main--24PSV Main-module--padded--1EKjR"><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#1-overview" class="bx--link Link-module--link--PAAZ2">1 Overview</a><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#11-recent-updates" class="bx--link Link-module--link--PAAZ2">1.1 Recent updates</a></li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#2-installation" class="bx--link Link-module--link--PAAZ2">2 Installation</a><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#21-installing-a-new-server" class="bx--link Link-module--link--PAAZ2">2.1 Installing a new server</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#22-upgrading-an-existing-server" class="bx--link Link-module--link--PAAZ2">2.2 Upgrading an existing server</a></li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#3-configuration" class="bx--link Link-module--link--PAAZ2">3 Configuration</a><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#31-encoded-passwords" class="bx--link Link-module--link--PAAZ2">3.1 Encoded passwords</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#32-property-names" class="bx--link Link-module--link--PAAZ2">3.2 Property names</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#33-tenant-specific-configuration-properties" class="bx--link Link-module--link--PAAZ2">3.3 Tenant-specific configuration properties</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#34-persistence-layer-configuration" class="bx--link Link-module--link--PAAZ2">3.4 Persistence layer configuration</a></li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#4-customization" class="bx--link Link-module--link--PAAZ2">4 Customization</a><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#41-extended-operations" class="bx--link Link-module--link--PAAZ2">4.1 Extended operations</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#42-notification-service" class="bx--link Link-module--link--PAAZ2">4.2 Notification Service</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#43-persistence-interceptors" class="bx--link Link-module--link--PAAZ2">4.3 Persistence interceptors</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#44-resource-validation" class="bx--link Link-module--link--PAAZ2">4.4 Resource validation</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#45-updatecreate-feature" class="bx--link Link-module--link--PAAZ2">4.5 “Update/Create” feature</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#46-fhir-client-api" class="bx--link Link-module--link--PAAZ2">4.6 FHIR client API</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#47-fhir-command-line-interface-fhir-cli" class="bx--link Link-module--link--PAAZ2">4.7 FHIR command-line interface (fhir-cli)</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#48-using-local-references-within-request-bundles" class="bx--link Link-module--link--PAAZ2">4.8 Using local references within request bundles</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#49-multi-tenancy" class="bx--link Link-module--link--PAAZ2">4.9 Multi-tenancy</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#410-bulk-data-operations" class="bx--link Link-module--link--PAAZ2">4.10 Bulk data operations</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#411-CADF-audit-logging-service" class="bx--link Link-module--link--PAAZ2">4.11 CADF audit logging service</a></li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#5-appendix" class="bx--link Link-module--link--PAAZ2">5 Appendix</a><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#51-configuration-properties-reference" class="bx--link Link-module--link--PAAZ2">5.1 Configuration properties reference</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#52-keystores-truststores-and-the-fhir-server" class="bx--link Link-module--link--PAAZ2">5.2 Keystores, truststores, and the FHIR server</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#53-openid-connect-and-oauth-20" class="bx--link Link-module--link--PAAZ2">5.3 OpenID Connect and OAuth 2.0</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#54-custom-http-headers" class="bx--link Link-module--link--PAAZ2">5.4 Custom HTTP Headers</a></li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="#6-related-topics" class="bx--link Link-module--link--PAAZ2">6 Related topics</a></li></ul><h1 id="1-overview" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#1-overview" aria-label="1 Overview permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>1 Overview</h1><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The IBM FHIR Server implements the HL7 FHIR HTTP API and supports the full set of FHIR-defined resource types.
This FHIR server is intended to be a common component for providing FHIR capabilities within health services and solutions.</p><h2 id="11-recent-updates" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#11-recent-updates" aria-label="1.1 Recent updates permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>1.1 Recent updates</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">View information about recent changes that were made to this document. For more information about changes that were made to the FHIR server codebase, see the corresponding release notes from the GitHub Releases tab.</p><h3 id="release-40" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#release-40" aria-label="Release 4.0 permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>Release 4.0</h3><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Initial release of the IBM FHIR Server for HL7 FHIR R4</li></ul><h1 id="2-installation" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#2-installation" aria-label="2 Installation permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>2 Installation</h1><h2 id="21-installing-a-new-server" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#21-installing-a-new-server" aria-label="2.1 Installing a new server permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>2.1 Installing a new server</h2><ol class="bx--list--ordered Markdown-module--list--oZv7L" start="0"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Prereqs: The IBM FHIR Server requires Java 8 or higher and has been tested with OpenJDK 8, OpenJDK 11, and the IBM SDK, Java Technology Edition, Version 8. To install Java on your system, we recommend downloading and installing OpenJDK 8 from <a href="https://adoptopenjdk.net/" class="bx--link Link-module--link--PAAZ2">https://adoptopenjdk.net/</a>.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To install the FHIR server, build or download the <code>fhir-install</code> zip installer (e.g. <code>fhir-server-distribution.zip</code> or <code>fhir-install-4.0.0-rc1-20191014-1610</code>).
The Maven build creates the zip package under <code>fhir-install/target</code>. Alternatively, releases will be made available from the <a href="https://github.com/ibm/fhir/releases" class="bx--link Link-module--link--PAAZ2">Releases tab</a>.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Unzip the <code>.zip</code> package into a clean directory (referred to as <code>fhir-installer</code> here):</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">    mkdir fhir-installer</span></div><div class="token-line" style="color:#fff"><span class="token plain">    cd fhir-installer</span></div><div class="token-line" style="color:#fff"><span class="token plain">    unzip fhir-server-distribution.zip</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Determine an install location for the OpenLiberty server and the FHIR server webapp. Example:  <code>/opt/ibm/fhir-server</code></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Run the <code>install.sh/.bat</code> script to install the server:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">    ./fhir-server-dist/install.sh /opt/ibm/fhir-server</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This step installs the OpenLiberty runtime and the FHIR server web application. The Liberty runtime is installed in a directory called <code>wlp</code> within the installation directory that you specify. For example, in the preceding command, the root directory of the Liberty server runtime would be <code>/opt/ibm/fhir-server/wlp</code>.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Configure the fhir-server’s <code>server.xml</code> file as needed by completing the following steps:</p><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB">Configure the ports that the server listen on. The server is installed with only port 9443 (HTTPS) enabled by default. To change the port numbers, modify the values in the <code>httpEndpoint</code> element.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Configure a server keystore and truststore. The FHIR server is installed with a default keystore file that contains a single self-signed certificate for localhost. For production use, you must create and configure your own keystore and truststore files for the FHIR server deployment (that is, generate your own server certificate or obtain a trusted certificate, and then share the public key certificate with API consumers so that they can insert it into their client-side truststore). The keystore and truststore files are used along with the server’s HTTPS endpoint and the FHIR server’s client-certificate-based authentication protocol to secure the FHIR server’s endpoint. For more information, see <a href="#52-keystores-truststores-and-the-fhir-server" class="bx--link Link-module--link--PAAZ2">Section 5.2 Keystores, truststores, and the FHIR server</a>.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Configure an appropriate user registry. The FHIR server is installed with a basic user registry that contains a single user named <code>fhiruser</code>. For production use, it’s best to configure your own user registry. For more information about configuring user registries, see the <a href="https://openliberty.io/guides/security-intro.html#configuring-the-user-registry" class="bx--link Link-module--link--PAAZ2">OpenLiberty documentation</a>.</li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Make sure that your selected database product is running and ready to accept requests as needed:</p><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB">By default, the FHIR server is installed with the JDBC persistence layer configured to use an Embedded Derby database. The default config will automatically bootstrap this database and so this step can be skipped. For any other configuration, note the database host and port and, if necessary, create a user with privileges for deploying the schema.</li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Create and deploy the IBM FHIR Server database schema as needed:</p><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB">By default, the FHIR server is installed with the JDBC persistence layer configured to use an Embedded Derby database. The default config will automatically bootstrap this database and so this step can be skipped. For any other configuration, use the <code>fhir-persistence-schema</code> module to create and deploy the database schema.</li><li class="bx--list__item Markdown-module--list-item--32ShB">The Db2 persistence layer is always tenant-aware, so you must provision a tenant in addition to deploying the schema. Note the tenant name you provisioned and the tenantKey generated by <code>fhir-persistence-schema</code> for the next step.</li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Configure the <code>fhir-server-config.json</code><sup id="a1"><a href="#f1" class="bx--link Link-module--link--PAAZ2">1</a></sup> configuration file as needed:</p><ul class="bx--list--nested"><li class="bx--list__item Markdown-module--list-item--32ShB">By default, the FHIR server is installed with the JDBC persistence layer configured to use a single-tenant Embedded Derby database. For more information, see <a href="#34-persistence-layer-configuration" class="bx--link Link-module--link--PAAZ2">Section 3.4 Persistence layer configuration</a>.</li></ul></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To start and stop the server, use the Liberty server command:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">&lt;WLP_HOME&gt;/bin/server start fhir-server</span></div><div class="token-line" style="color:#fff"><span class="token plain">&lt;WLP_HOME&gt;/bin/server stop fhir-server</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">After you start the server, you can verify that it’s running properly by invoking the <code>$healthcheck</code> endpoint like this:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">curl -k -u &#x27;&lt;username&gt;:&lt;password&gt;&#x27; &#x27;https://&lt;host&gt;:&lt;port&gt;/fhir-server/api/v4/$healthcheck&#x27;</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">where <code>&lt;username&gt;</code> is one of the users configured in <code>server.xml</code> (default is <code>fhiruser</code>).<br/>
<!-- -->Use single quotes around the URL to prevent $healthcheck from being evaluated as an environment variable on unix-based operating systems.  </p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">One should see <code>All OK</code> in the response.  The preceding command should produce output similar to the following:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">&quot;resourceType&quot;: &quot;OperationOutcome&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">&quot;issue&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">    {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;severity&quot;: &quot;information&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;code&quot;: &quot;informational&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;details&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;text&quot;: &quot;All OK&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For more information about the capabilities of the implementation, see <a href="https://ibm.github.io/FHIR/Conformance" class="bx--link Link-module--link--PAAZ2">Conformance</a>.</p><h2 id="22-upgrading-an-existing-server" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#22-upgrading-an-existing-server" aria-label="2.2 Upgrading an existing server permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>2.2 Upgrading an existing server</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server does not include an upgrade installer. To upgrade a server to the next version, you can run the installer on a separate server, and then copy the resulting configuration files over to the existing server.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To manage database updates over time, the FHIR server uses custom tools from the <code>fhir-database-utils</code> project. Through the use of a metadata table, the database utilities can detect the currently installed version of the database and apply any new changes that are needed to bring the database to the current level.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Complete the following steps to upgrade the server:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Run the fhir-installer on a separate server.  </li><li class="bx--list__item Markdown-module--list-item--32ShB">Configure the new server as appropriate (<code>fhir-server.xml</code> and anything under the <code>fhir-server/config</code> and <code>fhir-server/userlib</code> directories).  </li><li class="bx--list__item Markdown-module--list-item--32ShB">Back up your database.  </li><li class="bx--list__item Markdown-module--list-item--32ShB">Run the migration program (see <a href="#34112-db2" class="bx--link Link-module--link--PAAZ2">Section 3.4.1.1.2 Db2</a>).  </li><li class="bx--list__item Markdown-module--list-item--32ShB">Disable traffic to the old server and enable traffic to the new server  </li></ol><h1 id="3-configuration" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#3-configuration" aria-label="3 Configuration permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3 Configuration</h1><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This chapter contains information about the various ways in which the FHIR server can be configured by users.</p><h2 id="31-encoded-passwords" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#31-encoded-passwords" aria-label="3.1 Encoded passwords permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.1 Encoded passwords</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In the examples within the following sections, you’ll see the default password <code>change-password</code>. In order to secure your server, these values should be changed.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Optionally, the values can be encoded via the Liberty <code>securityUtility</code> command. For example, to encode a string value with the default <code>{xor}</code> encoding, run the following command:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">&lt;WLP_HOME&gt;/bin/securityUtility encode stringToEncode</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The output of this command can then be copied and pasted into your <code>server.xml</code> or <code>fhir-server-config.json</code> file as needed. The <code>fhir-server-config.json</code> does not support the securityUtility’s <code>{aes}</code> encoding at this time, but per the limits to protection through password encryption<sup><a href="https://www.ibm.com/support/knowledgecenter/en/SSD28V_9.0.0/com.ibm.websphere.wlp.core.doc/ae/cwlp_pwd_encrypt.html" class="bx--link Link-module--link--PAAZ2">a</a></sup>, this encoding does not provide significant additional security beyond <code>exclusive or</code> (XOR) encoding.</p><h2 id="32-property-names" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#32-property-names" aria-label="3.2 Property names permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.2 Property names</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Configuration properties stored within a <code>fhir-server-config.json</code> file are structured in a hierarchical manner. Here is an example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">```</span></div><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;core&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;defaultPrettyPrint&quot;:false</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div><div class="token-line" style="color:#fff"><span class="token plain">```</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Throughout this document, we use a path notation to refer to property names. For example, the name of the <code>defaultPrettyPrint</code> property in the preceding example would be <code>fhirServer/core/defaultPrettyPrint</code>.</p><h2 id="33-tenant-specific-configuration-properties" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#33-tenant-specific-configuration-properties" aria-label="3.3 Tenant-specific configuration properties permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.3 Tenant-specific configuration properties</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server supports certain multi-tenant features. One such feature is the ability to set certain configuration properties on a per-tenant basis.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In general, the configuration properties for a particular tenant are stored in the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/config/&lt;tenant-id&gt;/fhir-server-config.json</code> file, where <code>&lt;tenant-id&gt;</code> refers to the tenant’s “short name” or tenant id.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The global configuration is considered to be associated with a tenant named <code>default</code>, so those properties are stored in the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/config/default/fhir-server-config.json</code> file.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Similarly, tenant-specific search parameters are found at <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/config/&lt;tenant-id&gt;/extension-search-parameters.json</code>, whereas the global/default extension search parameters are at <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/config/default/extension-search-parameters.json</code>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Search parameters are handled like a single configuration properly; providing a tenant-specific file will override the global/default extension search parameters as defined at <a href="https://ibm.github.io/FHIR/guides/FHIRSearchConfiguration" class="bx--link Link-module--link--PAAZ2">FHIRSearchConfiguration</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">More information about multi-tenant support can be found in <a href="#49-multi-tenancy" class="bx--link Link-module--link--PAAZ2">Section 4.9 Multi-tenancy</a>.</p><h2 id="34-persistence-layer-configuration" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#34-persistence-layer-configuration" aria-label="3.4 Persistence layer configuration permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.4 Persistence layer configuration</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server is architected in a way that allows deployers to select the persistence layer implementation that fits their needs. Currently, the FHIR server includes a JDBC persistence layer which supports both Apache Derby and IBM Db2. Apache Derby is used for testing, whereas IBM Db2 is used in production environments.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server is delivered with a default configuration that is already configured to use the JDBC persistence layer implementation with an Embedded Derby database. This provides the easiest out-of-the-box experience since it requires very little setup. The sections that follow in this chapter will focus on how to configure the JDBC persistence layer implementation with either Embedded Derby or Db2.</p><h3 id="341-configuring-the-jdbc-persistence-layer" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#341-configuring-the-jdbc-persistence-layer" aria-label="3.4.1 Configuring the JDBC persistence layer permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.4.1 Configuring the JDBC persistence layer</h3><h4 class="Markdown-module--h4--7eW04" id="3411-database-preparation">3.4.1.1 Database preparation</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Before you can configure the FHIR server to use the JDBC persistence layer implementation, you first need to prepare the database. This step depends on the database product in use.</p><h5 class="Markdown-module--h5--3fgxy" id="34111-embedded-derby-default">3.4.1.1.1 Embedded Derby (default)</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">If you are configuring the FHIR server to use a single embedded Derby database, then you can configure the FHIR server to create the database and the schema and tables during startup. To configure the FHIR server to “bootstrap” the database in this way, modify the <code>fhirServer/persistence/jdbc/bootstrapDb</code> property in <code>fhir-server-config.json</code> as in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">```</span></div><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;jdbc&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;bootstrapDb&quot;:true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div><div class="token-line" style="color:#fff"><span class="token plain">```</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This database bootstrap step is only performed for a Derby database.</p><h5 class="Markdown-module--h5--3fgxy" id="34112-db2">3.4.1.1.2 Db2</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">If you configure the FHIR server to use an IBM Db2 database, you must:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">create the database if it doesn’t already exist</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">execute the <code>fhir-persistence-schema</code> utility to create the necessary schemas (tables, indices, stored procedures, etc) and tenants</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">configure the server with the tenantKey generated in step number 2.</p></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">An executable <code>fhir-persistence-schema</code> jar can be downloaded from the project’s <a href="https://github.com/IBM/FHIR/releases" class="bx--link Link-module--link--PAAZ2">Releases tab</a> and documentation can be found at <a href="https://github.com/IBM/FHIR/tree/master/fhir-persistence-schema" class="bx--link Link-module--link--PAAZ2">https://github.com/IBM/FHIR/tree/master/fhir-persistence-schema</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For a detailed guide on configuring IBM Db2 on Cloud for the IBM FHIR Server, see <a href="https://ibm.github.io/FHIR/guides/DB2OnCloudSetup" class="bx--link Link-module--link--PAAZ2">DB2OnCloudSetup</a>.</p><h4 class="Markdown-module--h4--7eW04" id="3412-fhir-server-configuration">3.4.1.2 FHIR server configuration</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To configure the FHIR server to use the JDBC persistence layer, complete the following steps:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">First, modify the <code>fhirServer/persistence/factoryClassname</code> property in <code>fhir-server-config.json</code> to specify the JDBC persistence factory, like this:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;factoryClassname&quot;: &quot;com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Next, modify the <code>fhirServer/persistence/jdbc/dataSourceJndiName</code> property in <code>fhir-server-config.json</code> to specify the proxy datasource’s JNDI name, like this:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;jdbc&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                …</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;dataSourceJndiName&quot;: &quot;jdbc/fhirProxyDataSource&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Next, modify the <code>fhirServer/persistence/datasources</code> property group to reflect the datastore(s) that you want to use. The following example defines the <code>default</code> datastore as an embedded derby database located in <code>wlp/usr/servers/fhir-server/derby/fhirDB</code>:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;datasources&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;default&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;derby&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;databaseName&quot;: &quot;derby/fhirDB&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The next example defines the <code>default</code> datastore as a Db2 database accessible on the <code>db2server1</code> host:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">```</span></div><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;datasources&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;default&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;tenantKey&quot;: &quot;&lt;the-base64-tenant-key&gt;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;db2&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;serverName&quot;: &quot;db2server1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;portNumber&quot;: 50000,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;user&quot;: &quot;db2inst1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;password&quot;: &quot;********&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;databaseName&quot;: &quot;FHIRDB&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;currentSchema&quot;: &quot;FHIR1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;driverType&quot;: 4</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div><div class="token-line" style="color:#fff"><span class="token plain">```</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For more information on how to configure datastore properties, see <a href="#3422-datastore-configuration-examples" class="bx--link Link-module--link--PAAZ2">Section 3.4.2.2 Datastore configuration examples</a>.</p><h3 id="342-properties-based-datastore-configuration" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#342-properties-based-datastore-configuration" aria-label="3.4.2 Properties-based datastore configuration permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>3.4.2 Properties-based datastore configuration</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Normally, a Liberty application that uses one or more Derby or Db2 datastores will require a datasource to be defined within the Liberty server.xml file for each database. One drawback to this approach is that each of the datasources are statically defined in the ‘server.xml’ file, which means that any updates (modifications, additions, etc.) will require a server re-start.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">As part of it’s multi-tenant support, the FHIR server provides an alternate mechanism which consists of a single “proxy datasource” along with a set of properties configured in the <code>fhir-server-config.json</code> file. This proxy datasource can be used by the JDBC persistence layer implementation to establish connections to either Derby or Db2 databases. This approach allows for new datastores to be configured without the need to restart the FHIR server.</p><h4 class="Markdown-module--h4--7eW04" id="3421-proxy-datasource">3.4.2.1 Proxy datasource</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server’s proxy datasource allows us to configure a single statically-defined datasource in the Liberty ‘server.xml’ file, and then dynamically configure each of the datastores to be used by the FHIR server within the <code>fhir-server-config.json</code> file. The datasource definition within <code>server.xml</code> looks like this:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">&lt;dataSource id=&quot;fhirProxyDataSource&quot; jndiName=&quot;jdbc/fhirProxyDataSource&quot; type=&quot;javax.sql.XADataSource&quot;&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &lt;jdbcDriver libraryRef=&quot;fhirSharedLib&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">       javax.sql.XADataSource=&quot;com.ibm.fhir.persistence.proxy.FHIRProxyXADataSource&quot; /&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">&lt;/dataSource&gt;</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">When the proxy datasource is obtained via a JNDI lookup by the JDBC persistence layer, and then its “getConnection()” method is called, the proxy datasource will use the current tenant-id and datastore-id to retrieve the configuration properties from the <code>fhir-server-config.json</code> file. The result will be the instantiation (or a successful cache lookup) of the appropriate XADataSource implementation class (according to the <code>type</code> field in the datastore configuration) and then a new connection will be obtained from it.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The proxy datasource relies on the presence of the tenant-id and datastore-id information within the thread-local <code>FHIRRequestContext</code> information. In a simple configuration of the FHIR server that involves the use of the JDBC persistence layer implementation, the <code>FHIRRequestContext</code> information is obtained via request headers from the incoming REST API request. The tenant-id is obtained from the <code>X-FHIR-TENANT-ID</code> request header and the datastore-id is obtained from the <code>X-FHIR-DSID</code> request header<sup id="a3"><a href="#f3" class="bx--link Link-module--link--PAAZ2">3</a></sup>.</p><h4 class="Markdown-module--h4--7eW04" id="3422-datastore-configuration-examples">3.4.2.2 Datastore configuration examples</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To understand how the configuration properties are defined for one or more datastores, let’s start off with a couple of examples.</p><h5 class="Markdown-module--h5--3fgxy" id="34221-example-1">3.4.2.2.1 Example 1</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Here is a simple example of a single (default) datastore:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;factoryClassname&quot;:&quot;com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;datasources&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;default&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;derby&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;databaseName&quot;: &quot;derby/fhirDB&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;jdbc&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                “bootstrapDb&quot;:true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;dataSourceJndiName&quot;: &quot;jdbc/fhirDB&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In this example, we define an embedded Derby database named <code>derby/fhirDB</code> (a location relative to the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server</code> directory. The datastore-id associated with this datastore is <code>default</code>, which is the value that is used if no <code>X-FHIR-DSID</code> request header is found in the incoming request. So, when only a single database is being used, it’s wise to leverage the <code>default</code> datastore-id value to allow REST API consumers to avoid having to set the <code>X-FHIR-DSID</code> request header on each request.</p><h5 class="Markdown-module--h5--3fgxy" id="34222-example-2">3.4.2.2.2 Example 2</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This example shows a slightly more complex scenario. In this scenario, the <code>acme</code> tenant would like to store data in one of two study-specific Db2 databases with datastore-id values <code>study1</code> and <code>study2</code>. All resource types pertaining to a given study will be stored in that study’s database so there’s no need for a proxy persistence layer or routing rules, and so forth.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Furthermore, the REST API consumers associated with Acme applications will be coded to always set the <code>X-FHIR-TENANT-ID</code> request header to be <code>acme</code> and the <code>X-FHIR-DSID</code> request header to the specific datastore-id associated with each request (either <code>study1</code> or <code>study2</code>). In this case, the following properties would be configured within the “acme” tenant’s <code>fhir-server-config.json</code> file<sup id="a4"><a href="#f4" class="bx--link Link-module--link--PAAZ2">4</a></sup> (<code>$⁠{server.config.dir}/config/acme/fhir-server-config.json</code>):</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;__comment&quot;:&quot;Acme&#x27;s FHIR server configuration&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;factoryClassname&quot;:&quot;com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;datasources&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;study1&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;tenantKey&quot;: &quot;&lt;the-base64-tenant-key&gt;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;db2&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;serverName&quot;: &quot;dbserver1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;portNumber&quot;: &quot;50000&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;user&quot;: &quot;db2inst1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;password&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;database&quot;: &quot;ACMESTUDY1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;currentSchema&quot;: &quot;DB2INST1&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                },</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;study2&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;tenantKey&quot;: &quot;&lt;the-base64-tenant-key&gt;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;db2&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;serverName&quot;: &quot;dbserver1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;portNumber&quot;: &quot;50000&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;user&quot;: &quot;db2inst1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;password&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;database&quot;: &quot;ACMESTUDY2&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;currentSchema&quot;: &quot;DB2INST1&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h4 class="Markdown-module--h4--7eW04" id="3423-datastore-configuration-reference">3.4.2.3 Datastore configuration reference</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Within each tenant’s <code>fhir-server-config.json</code> file, the <code>fhirServer/persistence/datasources</code> property specifies a map that relates the datastore-id value to a group of properties used to establish a connection to that datasource (database). Each datasource’s property group contains properties named <code>type</code> and <code>connectionProperties</code>. Here is an example depicting a Db2 datasource definition:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;factoryClassname&quot;:&quot;com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;datasources&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;study1&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;tenantKey&quot;: &quot;&lt;the-base64-tenant-key&gt;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;type&quot;: &quot;db2&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;connectionProperties&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;serverName&quot;: &quot;mydb2server&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;portNumber&quot;: 50000,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;user&quot;: &quot;db2inst1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;password&quot;: &quot;********&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;databaseName&quot;: &quot;FHIRDB&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;currentSchema&quot;: &quot;FHIR1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                        &quot;driverType&quot;: 4</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>type</code> property indicates the database type (currently only <code>db2</code> or <code>derby</code>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>connectionProperties</code> property is a set of driver-specific properties needed to connect to an instance of that database type. For a Db2-related datasource definition, any bean property supported by the <code>DB2XADataSource</code> class can be specified within the <code>connectionProperties</code> property group. For a discussion of the specific properties that can be used to configure a <code>DB2XADataSource</code> instance, see the <a href="https://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_rjvdsprp.html" class="bx--link Link-module--link--PAAZ2">Db2 Knowledge Center</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For a Derby-related datasource definition, any bean property supported by the <code>EmbeddedXADataSource</code> class can be specified within the <code>connectionProperties</code> property group. For more information about the properties supported by the <code>EmbeddedXADataSource</code> class, and its super classes, see the <a href="https://db.apache.org/derby/docs/10.13/publishedapi/org/apache/derby/jdbc/EmbeddedXADataSource.html" class="bx--link Link-module--link--PAAZ2">Apache Derby documentation</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To disable the multitenant feature for a particular offering add to your <code>fhirServer/persistence/datasources</code> entry <code>multitenant</code> and set false to disable, and true to enable, only for Db2 is the default set to true.</p><h1 id="4-customization" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#4-customization" aria-label="4 Customization permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4 Customization</h1><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">You can modify the default server implementation by taking advantage of the IBM FHIR server’s extensibility. The following extension points are available:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Custom operations framework:  The IBM FHIR Server defines an operations framework that builds on the FHIR OperationDefinition resource in order to extend the FHIR REST API with custom endpoints.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Pluggable audit service:  Logging and auditing options including Cloud Auditing Data Federation (CADF) over Apache Kafka.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Persistence interceptors:  Intercept requests before and/or after each persistence action.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Resource validation:  FHIRPath-based validation of FHIR resources on create or update with the ability to extend the system with custom constraints.</li></ul><h2 id="41-extended-operations" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#41-extended-operations" aria-label="4.1 Extended operations permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.1 Extended operations</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In addition to the standard REST API (create, update, search, and so forth), the IBM FHIR Server supports the FHIR operations framework as described in the <a href="https://www.hl7.org/fhir/r4/operations.html" class="bx--link Link-module--link--PAAZ2">FHIR specification</a>.</p><h3 id="411-packaged-operations" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#411-packaged-operations" aria-label="4.1.1 Packaged operations permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.1.1 Packaged operations</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR team provides implementations for the standard <code>$validate</code> and <code>$document</code> operations, as well as a custom operation named <code>$healthcheck</code>, which queries the configured persistence layer to report its health.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">No other extended operations are packaged with the server at this time, but you can extend the server with your own operations.</p><h4 class="Markdown-module--h4--7eW04" id="4111-validate">4.1.1.1 $validate</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>$validate</code> operation checks whether the attached content would be acceptable either generally, or as a create, update, or delete against an existing resource instance or type.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><a href="https://www.hl7.org/fhir/r4/resource-operations.html#validate" class="bx--link Link-module--link--PAAZ2">https://www.hl7.org/fhir/r4/resource-operations.html#validate</a></p><h4 class="Markdown-module--h4--7eW04" id="4112-document">4.1.1.2 $document</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>$document</code> operation generates a fully bundled document from a composition resource.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><a href="https://www.hl7.org/fhir/r4/composition-operations.html#document" class="bx--link Link-module--link--PAAZ2">https://www.hl7.org/fhir/r4/composition-operations.html#document</a></p><h4 class="Markdown-module--h4--7eW04" id="4113-healthcheck">4.1.1.3 $healthcheck</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>$healthcheck</code> operation returns the health of the FHIR server and its datastore. In the default JDBC persistence layer, this operation creates a connection to the configured database and return its status. The operations returns <code>200 OK</code> when healthy. Otherwise, it returns an HTTP error code and an <code>OperationOutcome</code> with one or more issues.</p><h3 id="412-custom-operations" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#412-custom-operations" aria-label="4.1.2 Custom operations permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.1.2 Custom operations</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In addition to the provided operations, the FHIR server supports user-provided custom operations through a Java Service Provider Interface (SPI).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To contribute an operation:
1. Implement each operation as a Java class that extends <code>com.ibm.fhir.operation.AbstractOperation</code> from <code>fhir-operation.jar</code>. Ensure that your implementation returns an appropriate <code>OperationDefinition</code> in its <code>getDefinition()</code> method, because the framework validates both the request and response payloads to ensure that they conform to the definition.</p><ol class="bx--list--ordered Markdown-module--list--oZv7L" start="2"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Create a file named <code>com.ibm.fhir.operation.FHIROperation</code> with one or more fully qualified <code>FHIROperation</code> classnames and package it in your jar under <code>META-INF/services/</code>.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Include your jar file under the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/userlib/</code> directory of your installation.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Restart the FHIR server. Changes to custom operations require a server restart, because the server discovers and instantiates operations during server startup only.</p></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">After you register your operation with the server, it is available via HTTP POST at <code>[base]/api/1/$&lt;yourCode&gt;</code>, where <code>&lt;yourCode&gt;</code> is the value of your OperationDefinition’s <a href="https://www.hl7.org/fhir/r4/operationdefinition-definitions.html#OperationDefinition.code" class="bx--link Link-module--link--PAAZ2">code</a>.</p><h2 id="42-notification-service" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#42-notification-service" aria-label="4.2 Notification Service permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2 Notification Service</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server provides a notification service that publishes notifications about persistence events, specifically <em>create</em> and <em>update</em> operations. The notification service can be used by other Healthcare components to trigger specific actions that need to occur as resources are being updated in the FHIR server datastore.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The notification service supports two implementations: WebSocket and Kafka.</p><h3 id="421-fhirnotificationevent" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#421-fhirnotificationevent" aria-label="4.2.1 FHIRNotificationEvent permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2.1 FHIRNotificationEvent</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>FHIRNotificationEvent</code> class defines the information that is published by the notification service. Each notification event published to the WebSocket or Kafka topic is an instance of <code>FHIRNotificationEvent</code>, serialized as a JSON object. This JSON object will have the following fields:</p><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>Field name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>operationType</code></td><td>String</td><td>The operation associated with the notification event. Valid values are <em>create</em> and <em>update</em>.</td></tr><tr><td><code>location</code></td><td>String</td><td>The location URI of the resource associated with the notification event. To retrieve this resource, invoke a GET request using the location URI value as the URL string.</td></tr><tr><td><code>lastUpdated</code></td><td>String</td><td>The date and time of the last update made to the resource associated with the notification event.</td></tr><tr><td><code>resourceId</code></td><td>String</td><td>The logical id of the resource associated with the notification event.</td></tr><tr><td><code>resource</code></td><td>String</td><td>A stringified JSON object which is the resource associated with the notification event.</td></tr></tbody></table></div></div><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following JSON is an example of a serialized notification event:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;lastUpdated&quot;:&quot;2016-06-01T10:36:23.232-05:00&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;location&quot;:&quot;Observation/3859/_history/1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;operationType&quot;:&quot;create&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;resourceId&quot;:&quot;3859&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;resource&quot;:{ …&lt;contents of resource&gt;… }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h3 id="422-websocket" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#422-websocket" aria-label="4.2.2 WebSocket permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2.2 WebSocket</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The WebSocket implementation of the notification service will publish notification event messages to a WebSocket. To enable WebSocket notifications, set the <code>fhirServer/notifications/websocket/enabled</code> property to <code>true</code>, as in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;notifications&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;websocket&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;enabled&quot;:true</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The WebSocket location URI is <code>ws://&lt;host&gt;:&lt;port&gt;/fhir-server/api/v4/notification</code>, where <code>&lt;host&gt;</code> and <code>&lt;port&gt;</code> represent the host and port of the FHIR server’s REST API endpoint. So for example, if the FHIR server endpoint’s base URL is <code>https://localhost:9443/fhir-server/api/v4</code> then the corresponding location of the WebSocket would be <code>ws://localhost:9443/fhir-server/api/v4/notification</code>.</p><h3 id="423-kafka" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#423-kafka" aria-label="4.2.3 Kafka permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2.3 Kafka</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The Kafka implementation of the notification service will publish notification event messages to a Kafka topic. To configure the Kafka notification publisher, configure properties in the <code>fhir-server-config.json</code> file as indicatesd in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;notifications&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;kafka&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;enabled&quot;:true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;topicName&quot;:&quot;fhirNotifications&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;connectionProperties&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;group.id&quot;:&quot;securing-kafka-group&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;bootstrap.servers&quot;:&quot;localhost:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;security.protocol&quot;:&quot;SSL&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.truststore.location&quot;:&quot;resources/security/kafka.client.truststore.jks&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.truststore.password&quot;:&quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.keystore.location&quot;:&quot;resources/security/kafka.client.keystore.jks&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.keystore.password&quot;:&quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.key.password&quot;:&quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.truststore.type&quot;:&quot;JKS&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;ssl.keystore.type&quot;:&quot;JKS&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>fhirServer/notifications/kafka/enabled</code> property is used to enable or disable the Kafka publisher component.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>fhirServer/notifications/kafka/topicName</code> property is used to configure the appropriate topic name to which the notification events should be published.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>fhirServer/notifications/kafka/connectionProperties</code> property group is used to configure the properties necessary to successfully connect to the Kafka server. You can specify an arbitrary <code>group.id</code>. The <code>bootstrap.servers</code> property is required, but the rest are optional, although if your Kafka server is configured to require an SSL connection and client authentication, then the remaining properties must also be set. For more details about Kafka-related properties, see the Kafka documentation.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In the <code>connectionProperties</code> property group in preceding example, you’ll notice that the password-related properties have encoded values. To store a value requiring security (such as a password), you can use Liberty’s <code>securityUtility</code> command to encode the value. See <a href="#31-encoded-passwords" class="bx--link Link-module--link--PAAZ2">Section 3.1 Encoded passwords</a> for details.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Before you enable Kafka notifications, it’s important to understand the topology of the environment in which the FHIR server instance will be running. Your topic name selection should be done in consideration of the topology. If you have multiple instances of the FHIR server clustered together to form a single logical endpoint, then each of those instances should be configured to use the same Kafka topic for notifications. This is so that notification consumers (subscribers) can subscribe to a single topic and receive all the notifications published by each of the FHIR server instances within the cluster.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">On the other hand, if you have two completely independent FHIR server instances, then you should configure each one with its own topic name.</p><h3 id="423-nats" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#423-nats" aria-label="4.2.3 NATS permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2.3 NATS</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <a href="http://nats.io" class="bx--link Link-module--link--PAAZ2">NATS</a> implementation of the notification service publishes notification event messages to a NATS streaming cluster. To configure the NATS notification publisher, configure properties in the <code>fhir-server-config.json</code> file as shown in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        ...</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;notifications&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            ...</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;nats&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;enabled&quot;: true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;cluster&quot;: &quot;nats-streaming&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;channel&quot;: &quot;fhirNotifications&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;clientId&quot;: &quot;fhir-server&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;servers&quot;: &quot;nats://nats-node1:4222,nats://nats-node2:4222,nats://nats-node3:4222&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;useTLS&quot;: true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;truststoreLocation&quot;: &quot;resources/security/nats.client.truststore.p12&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;truststorePassword&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;keystoreLocation&quot;: &quot;resources/security/nats.client.keystore.p12&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;keystorePassword&quot;: &quot;change-password&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        ...</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Set the <code>fhirServer/notifications/nats/enabled</code> property to true and provide the name of your NATS cluster for the value of <code>fhirServer/notifications/nats/cluster</code>.  You may leave <code>fhirServer/notifications/nats/channel</code> and <code>fhirServer/notifications/nats/clientId</code> as defined.  Provide the URL for one or more NATS servers as the value for <code>fhirServer/notifications/nats/servers</code>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To use TLS to connect to your NATS cluster, set <code>fhirServer/notifications/nats/useTLS</code> to true and provide client truststore and keystore locations and passwords as the remaining config values. Ensure that your NATS cluster is configured for TLS client connections.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To store a value requiring security, such as a password, use Liberty’s <code>securityUtility</code> command to encode the value. See Section 3.1 Encoded passwords for details.</p><h3 id="424-resource-type-filtering" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#424-resource-type-filtering" aria-label="4.2.4 Resource type filtering permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.2.4 Resource type filtering</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">By default, notification messages are published for all <em>create</em> and <em>update</em> persistence operations. However, the FHIR server allows you to configure a list of resource types for which notification events will be published. To do this, list the resource types for which you want to generate notifications in an array of strings within the  <code>fhirServer/notifications/common/includeResourceTypes</code> property in the <code>fhir-server-config.json</code> file, as in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;notifications&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;common&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;includeResourceTypes&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">                     &quot;Observation&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                     &quot;Patient&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">With the <code>includeResourceTypes</code>property set as in the preceding example, the FHIR server publishes notification events only for <code>Patient</code> and <code>Observation</code> resources. If you omit this property or set its value to <code>[]</code> (an empty array), then the FHIR server publishes notifications for all resource types.</p><h2 id="43-persistence-interceptors" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#43-persistence-interceptors" aria-label="4.3 Persistence interceptors permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.3 Persistence interceptors</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server supports a persistence interceptor feature that enables users to add their own logic to the REST API processing flow around persistence events. This could be used to enforce application-specific business rules associated with resources. Interceptor methods can be called immediately before or after <em>create</em> and <em>update</em> persistence operations.</p><h3 id="431-fhirpersistenceinterceptor-interface" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#431-fhirpersistenceinterceptor-interface" aria-label="4.3.1 FHIRPersistenceInterceptor interface permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.3.1 FHIRPersistenceInterceptor interface</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">A persistence interceptor implementation must implement the <code>com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor</code>
interface.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Each interceptor method receives a parameter of type <code>FHIRPersistenceEvent</code>, which contains context information related to the request being processed at the time that the interceptor method is invoked. It includes the FHIR resource, security information, request URI information, and the collection of HTTP headers associated with the request.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">There are two primary use cases for persistence interceptors:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Enforce certain application-specific governance rules, such as making sure that a patient has signed a consent form prior to allowing his/her data to be stored in the FHIR server’s datastore. In this case, the <code>beforeCreate</code> or <code>beforeUpdate</code> interceptor methods could verify that the patient has a consent agreement on file, and if not then throw a <code>FHIRPersistenceInterceptorException</code> to prevent the <em>create</em> or <em>update</em> persistence events from completing normally. The exception thrown by the interceptor method will be propagated back to the FHIR server request processing flow and would result in an <code>OperationOutcome</code> being returned in the REST API response, along with a <code>Bad Request</code> HTTP status code.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Perform some additional processing steps associated with a <em>create</em> or <em>update</em> persistence event, such as additional audit logging. In this case, the <code>afterCreate</code> and <code>afterUpdate</code> interceptor methods could add records to an audit log to indicate the request URI that was invoked, the user associated with the invocation request, and so forth.</p></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In general, the <code>beforeCreate</code> and <code>beforeUpdate</code> interceptor methods would be useful to perform an enforcement-type action where you would potentially want to prevent the request processing flow from finishing. Conversely, the <code>afterCreate</code> and <code>afterUpdate</code> interceptor methods would be useful in situations where you need to perform additional steps after the <em>create</em> or <em>update</em> persistence events have been performed.</p><h3 id="432-implementing-a-persistence-interceptor" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#432-implementing-a-persistence-interceptor" aria-label="4.3.2 Implementing a persistence interceptor permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.3.2 Implementing a persistence interceptor</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To implement a persistence interceptor, complete the following steps:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Develop a Java class which implements the <code>FHIRPersistenceInterceptor</code> interface.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Store the fully-qualified classname of your interceptor implementation class in a file called :</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  <code>META-INF/services/com.ibm.fhir.persistence.interceptor.FHIRPersistenceInterceptor</code></p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Here’s an example of the file contents:</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><code>com.ibm.mysolution.MyInterceptor</code></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Copy your jar to the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/config</code> directory so that it is accessible to the FHIR server via the classpath (the <code>server.xml</code> file contains a library element that defines this directory as a shared library).</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Re-start the FHIR server.</p></li></ol><h2 id="44-resource-validation" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#44-resource-validation" aria-label="4.4 Resource validation permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.4 Resource validation</h2><h3 id="441-hl7-spec-defined-validation-support" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#441-hl7-spec-defined-validation-support" aria-label="4.4.1 HL7 spec-defined validation support permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.4.1 HL7 spec-defined validation support</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR specification provides a number of different validation resources including:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">XML Schemas</li><li class="bx--list__item Markdown-module--list-item--32ShB">ISO XML Schematron rules</li><li class="bx--list__item Markdown-module--list-item--32ShB">Structure Definitions / Profiles for standard resource types, data types and built-in value sets</li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server validates incoming resources for create and update interactions using the resource definitions and their corresponding FHIRPath constraints. Additionally, the FHIR server provides the following <code>$validate</code> operation that API consumers can use to POST resources and get validation feedback:
<code>POST &lt;base&gt;/Resource/$validate</code></p><h3 id="442-user-provided-validation" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#442-user-provided-validation" aria-label="4.4.2 User-provided validation permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.4.2 User-provided validation</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The IBM FHIR Server can be extended with custom profile validation. This allows one to apply validation rules on the basis of the <code>Resource.meta.profile</code> codes included on the resource instance.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For example, you can configure a set of FHIRPath Constraints to run for resources that claim conformance to the <code>http://ibm.com/fhir/profile/partner</code> profile when you see an input resource like the following:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;resourceType&quot; : &quot;Patient&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;meta&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;profile&quot;: [ &quot;http://ibm.com/fhir/profile/partner&quot; ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">    },</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;name&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;family&quot; : [ &quot;Doe&quot; ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;given&quot; : [ &quot;John&quot; ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;telecom&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;value&quot; : &quot;555-1234&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;system&quot;: &quot;phone&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;use&quot; : &quot;home&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;birthDate&quot; : &quot;1950-08-15&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">See the <a href="https://ibm.github.io/FHIR/guides/FHIRValidationGuide#built-in-profile-support" class="bx--link Link-module--link--PAAZ2">Validation Guide - Built-in profile support</a> for a list of pre-packaged Implmentation Guide resources and see <a href="https://ibm.github.io/FHIR/guides/FHIRValidationGuide#making-profiles-available-to-the-fhir-registry-component-fhirregistry" class="bx--link Link-module--link--PAAZ2">Validation Guide - Making profiles available to the fhir registry</a> for information about how to extend the server with additional Implementation Guide artifacts.</p><h2 id="45-updatecreate-feature" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#45-updatecreate-feature" aria-label="4.5 “Update/Create” feature permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.5 “Update/Create” feature</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Normally, the <em>update</em> operation is invoked with a FHIR resource which represents a new version of an existing resource. The resource specified in the <em>update</em> operation would contain the same id of that existing resource. If a resource containing a non-existent id were specified in the <em>update</em> invocation, an error would result.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR specification defines optional behavior for the <em>update</em> operation where it can create a new resource if a non-existent resource is specified in the invocation. The FHIR server supports this optional behavior via the <code>fhirServer/persistence/common/updateCreateEnabled</code> configuration parameter. If this configuration parameter is set to <code>true</code> (the default), then the <em>update</em> operation will create a new resource if it is invoked with a resource containing a non-existent id. If the option is set to false, then the optional behavior is disabled and an error would be returned.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following example shows the JSON for enabling <em>update</em> operations to create resources:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;common&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;updateCreateEnabled&quot;:true</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h2 id="46-fhir-client-api" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#46-fhir-client-api" aria-label="4.6 FHIR client API permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.6 FHIR client API</h2><h3 id="461-overview" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#461-overview" aria-label="4.6.1 Overview permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.6.1 Overview</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In addition to the server, we also offer a Java API for invoking the FHIR REST APIs. The IBM FHIR Client API is based on the JAX-RS 2.0 standard and provides a simple properties-driven client that can be easily configured for a given endpoint, mutual authentication, request/response logging, and more.</p><h3 id="462-maven-coordinates" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#462-maven-coordinates" aria-label="4.6.2 Maven coordinates permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.6.2 Maven coordinates</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To use the FHIR Client from your application, specify the <code>fhir-client</code> artifact as a dependency within your <code>pom.xml</code> file, as in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">        &lt;dependency&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &lt;groupId&gt;com.ibm.fhir&lt;/groupId&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &lt;artifactId&gt;fhir-client&lt;/artifactId&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &lt;version&gt;${fhir.client.version}&lt;/version&gt;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &lt;/dependency&gt;</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h3 id="463-sample-usage" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#463-sample-usage" aria-label="4.6.3 Sample usage permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.6.3 Sample usage</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For examples on how to use the IBM FHIR Client, look for tests like <code>com.ibm.fhir.client.test.mains.FHIRClientSample</code> from the <code>fhir-client</code> project in git. Additionally, the FHIR Client is heavilly used from our integration tests in <code>fhir-server-test</code>.</p><h2 id="47-fhir-command-line-interface-fhir-cli" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#47-fhir-command-line-interface-fhir-cli" aria-label="4.7 FHIR command-line interface (fhir-cli) permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.7 FHIR command-line interface (fhir-cli)</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR command-line interface (fhir-cli for short) is a command that can be used to invoke FHIR REST API operations from the command line. The compressed file for installing the fhir-cli tool zip is part of the FHIR server installation in <code>${WLP_HOME}/fhir/client/fhir-cli.zip</code>, and the <code>fhir-cli.zip</code> file is also available from <a href="https://na.artifactory.swg-devops.com/artifactory/webapp/#/artifacts/browse/simple/General/wh-fhir-server-releases-maven-local/com/ibm/fhir/fhir-cli/" class="bx--link Link-module--link--PAAZ2">our Artifactory server</a>.</p><h3 id="471-installing-fhir-cli" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#471-installing-fhir-cli" aria-label="4.7.1 Installing fhir-cli permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.7.1 Installing fhir-cli</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Because the fhir-cli tool is intended to be used by clients that need to access the FHIR server, it has its own installation process separate from the server. To install the fhir-cli tool, complete the following steps:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Obtain the <code>fhir-cli.zip</code> file from the FHIR server installation zip or Artifactory.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Decompress the <code>fhir-cli.zip</code> file into a directory of your choosing, for example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">cd /mydir</span></div><div class="token-line" style="color:#fff"><span class="token plain">unzip fhir-cli.zip</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">[Optional]<!-- --> To enable you to run fhir-cli from multiple directories, run the following command to add <code>fhir-cli</code> to your <code>PATH</code> environment variable.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">export PATH=$PATH:/mydir/fhir-cli</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li></ol><h3 id="472-configuring-fhir-cli" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#472-configuring-fhir-cli" aria-label="4.7.2 Configuring fhir-cli permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.7.2 Configuring fhir-cli</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The fhir-cli tool requires a properties file containing various configuration properties, such as the base endpoint URL, the username and password for basic authentication, amd so forth. The properties contained in this file are the same properties supported by the FHIR client API. The fhir-cli tool comes with a sample properties file named <code>fhir-cli.properties</code> which contains a collection of default property settings.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Using the sample properties file as a guide, you can create your own properties file to reflect the required endpoint configuration associated with the FHIR server endpoint that you would like to access. In the examples that follow, we’ll refer to this file as <code>my-fhir-cli.properties</code>, although you can name the file anything you’d like.</p><h3 id="473-running-fhir-cli" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#473-running-fhir-cli" aria-label="4.7.3 Running fhir-cli permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.7.3 Running fhir-cli</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The fhir-cli tool comes with two shell scripts: <code>fhir-cli</code> (Linux<!-- -->®<!-- -->) and <code>fhir-cli.bat</code> (Windows<!-- -->™<!-- -->). In the examples that follow, we’ll use <code>&lt;fhir-cli-home&gt;</code> as the location of the fhir-cli tool (that is, the <code>/mydir/fhir-cli</code> directory mentioned in preceding section).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following examples illustrate how to invoke the fhir-cli tool:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Display help text</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli –help</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">usage: fhir-cli [options]</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Provides access to the FHIR Client API via the command line.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Options:</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -h,--help                           Display this help text</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -id,--resourceId &lt;ID&gt;               Use resource identifier &lt;ID&gt; for the operation invocation</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -o,--output &lt;FILE&gt;                  Write output resource to &lt;FILE&gt; (e.g. searchresults.json)</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -op,--operation &lt;OPERATION&gt;         The operation to be invoked</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -p,--properties &lt;FILE&gt;              Use FHIR Client properties contained in &lt;FILE&gt; (e.g.</span></div><div class="token-line" style="color:#fff"><span class="token plain">                                       fhir-cli.properties)</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -qp,--queryParameter &lt;NAME=VALUE&gt;   Include query parameter NAME=VALUE with the operation</span></div><div class="token-line" style="color:#fff"><span class="token plain">                                       invocation (e.g. _count=100).</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -r,--resource &lt;FILE&gt;                Use FHIR resource contained in &lt;FILE&gt; for operation</span></div><div class="token-line" style="color:#fff"><span class="token plain">                                       invocation (e.g. patient.json)</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -t,--type &lt;TYPE&gt;                    Use resource type &lt;TYPE&gt; for the operation invocation (e.g.</span></div><div class="token-line" style="color:#fff"><span class="token plain">                                       &quot;Patient&quot;)</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -v,--verbose                        Display detailed output</span></div><div class="token-line" style="color:#fff"><span class="token plain">   -vid,--versionId &lt;VID&gt;              Use version # &lt;VID&gt; for the operation invocation</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">OPERATION should be one of: batch | create | history | metadata | read | search | search-all |</span></div><div class="token-line" style="color:#fff"><span class="token plain">search-post | transaction | update | validate | vread</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Invoke the ‘metadata’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation metadata --output conformance.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;metadata&#x27;... done! (651ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource written to file: conformance.json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: in this example the “—output” option is used to specify that the Conformance resource should be saved in file ‘conformance.json’.</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a <em>create</em> operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation create --resource newpatient.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation _create_... done! (2719ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 201</span></div><div class="token-line" style="color:#fff"><span class="token plain">Location URI: http://localhost:9443/fhir-server/api/v4/Patient/26b694ef-cea7-4485-a896-5ac2a1da9f64/_history/1</span></div><div class="token-line" style="color:#fff"><span class="token plain">ETag: W/&quot;1&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">Last modified: 2016-09-13T20:51:21.048Z</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: In this example, the “—resource” option is used to indicate that the contents of the new resource to be created should be read from file ‘newpatient.json’.</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a ‘read’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation read --type Patient --resourceId 26b694ef-cea7-4485-a896-5ac2a1da9f64 -o patient1.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;read&#x27;... done! (321ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">ETag: W/&quot;1&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">Last modified: 2016-09-13T20:51:21.048Z</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource written to file: patient1.json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: the “-o” option is used as a shortcut for “—output”</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform an <em>update</em> operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation update --resource updatedpatient1.json</span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation _update_... done! (2707ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">Location URI: http://localhost:9443/fhir-server/api/v4/Patient/26b694ef-cea7-4485-a896-5ac2a1da9f64/_history/2</span></div><div class="token-line" style="color:#fff"><span class="token plain">ETag: W/&quot;2&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">Last modified: 2016-09-13T21:11:48.988Z</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a ‘vread’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation vread -t Patient -id 26b694ef-cea7-4485-a896-5ac2a1da9f64 -vid 3 -o patient1v3.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;vread&#x27;... done! (290ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">ETag: W/&quot;3&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">Last modified: 2016-09-13T21:18:28.412Z</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource written to file: patient1v3.json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a ‘history’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation history -t Patient -id 26b694ef-cea7-4485-a896-5ac2a1da9f64 -o patient1history.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;history&#x27;... done! (414ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource written to file: patient1history.json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: in this example, the response resource is a Bundle containing the versions of the Patient resource.</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a ‘search’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation search -t Patient -qp name=Doe -o searchresults.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;search&#x27;... done! (543ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource written to file: searchresults.json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: in this example the <code>-qp</code> option (shortcut for <code>–queryParameter</code>) is used to specify the search criteria (that is, <code>name=Doe</code>). The response resource is a Bundle that is written to the file <code>searchresults.json</code>.</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Perform a ‘validate’ operation</li></ul><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">$ &lt;fhir-cli-home&gt;/fhir-cli --properties my-fhir-cli.properties --operation validate --resource newpatient.json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">FHIR Client Command Line Interface (fhir-cli)    (c) Copyright IBM Corporation, 2016.</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">Invoking operation &#x27;validate&#x27;... done! (3182ms)</span></div><div class="token-line" style="color:#fff"><span class="token plain">Status code: 200</span></div><div class="token-line" style="color:#fff"><span class="token plain">Response resource:</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;resourceType&quot; : &quot;OperationOutcome&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;id&quot; : &quot;allok&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;text&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;status&quot; : &quot;additional&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;div&quot; : &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;p&gt;All OK&lt;/p&gt;&lt;/div&gt;&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    },</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;issue&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;severity&quot; : &quot;information&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;code&quot; : &quot;informational&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;details&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;text&quot; : &quot;All OK&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h2 id="48-using-local-references-within-request-bundles" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#48-using-local-references-within-request-bundles" aria-label="4.8 Using local references within request bundles permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.8 Using local references within request bundles</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Inter-dependencies between resources are typically defined by one resource containing a field of type <code>Reference</code> which contains an <em>external reference</em><sup id="a5"><a href="#f5" class="bx--link Link-module--link--PAAZ2">5</a></sup> to another resource. For example, an <code>Observation</code> resource could reference a <code>Patient</code> resource via the Observation’s <code>subject</code> field. The value that is stored in the <code>Reference-type</code> field (for example, <code>subject</code> in the case of the <code>Observation</code> resource) could be an absolute URL, such as <code>https://fhirserver1:9443/fhir-server/api/v4/Patient/12345</code>, or a relative URL (for example, <code>Patient/12345</code>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In order to establish a reference to a resource, you must first know its resource identifier. However, if you are using a request bundle to create both the referenced resource (<code>Patient</code> in this example) and the resource which references it (<code>Observation</code>), then it is impossible to know the <code>Patient</code>resource identifier before the request bundle has been process (that is, before the new <code>Patient</code> resource is created).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Thankfully, the HL7 FHIR specification defines a way to express a dependency between two resources within a request bundle by using a <em>local reference</em><sup id="a6"><a href="#f6" class="bx--link Link-module--link--PAAZ2">6</a></sup>. In the following example, a request bundle contains a <code>POST</code> request to create a new <code>Patient</code> resource, along with a <code>POST</code> request to create a new <code>Observation</code> resource that references that <code>Patient</code>:</p><h4 class="Markdown-module--h4--7eW04" id="4801-example-1-observation-references-patient-via-local-reference">4.8.0.1 Example 1: Observation references Patient via local reference</h4><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;resourceType&quot; : &quot;Bundle&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;type&quot; : &quot;batch&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;entry&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;fullUrl&quot; : &quot;urn:uuid:7113a0bb-d9e0-49df-9855-887409388c69&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Patient&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;request&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;method&quot; : &quot;POST&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;url&quot; : &quot;Patient&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Observation&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;subject&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;reference&quot; : &quot;urn:uuid:7113a0bb-d9e0-49df-9855-887409388c69&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;request&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;method&quot; : &quot;POST&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;url&quot; : &quot;Observation&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In order to reference a resource via a local reference, you must first define a local identifier for that resource by specifying the <code>fullUrl</code> field within the request entry. To define a local identifier, use a value that starts with <code>urn:</code> as in the preceding example. The HL7 FHIR specification highly recommends that the value of the identifier should be a UUID-type value, although the FHIR server does not require the use of a UUID value. You can use any value you like after the <code>urn:</code> prefix as long as it is unique within the bundle. For example, you can use urn:Patient_1, urn:ABC, or urn:Foo. Just make sure that no two request entries share the same fullUrl value within the request bundle.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">After you define a local identifier for the referenced resource, you can then define one or more references to that resource by using the local identifier instead of an external identifier. In the preceding example, you can see that the Observation’s <code>subject.reference</code> field specifies the Patient’s local identifier as specified in the <code>fullUrl</code> field of the Patient’s request entry.</p><h3 id="481-processing-rules" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#481-processing-rules" aria-label="4.8.1 Processing rules permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.8.1 Processing rules</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">There is one rule for the use of local references within a request bundle:  A local identifier must be defined via a request entry’s <code>fullUrl</code> field before that local identifier can be used in a local reference.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In the example in <a href="#4801-example-1-observation-references-patient-via-local-reference" class="bx--link Link-module--link--PAAZ2">Section 4.8.0.1</a>, you can see that there are two POST requests and the <code>Patient</code> request entry appears in the bundle before the <code>Observation</code> request entry. This example satisfies the rule because the FHIR server will process the POST request entries in the order in which they appear within the request bundle.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">If, however, those entries were reversed, the FHIR server would return an error when processing the <code>Observation</code> request entry, because the <code>Patient</code> local identifier is not defined yet.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following example also satisfies the rule:</p><h4 class="Markdown-module--h4--7eW04" id="4811-example-2-observation-put-appears-before-patient-post">4.8.1.1 Example 2: Observation (PUT) appears before Patient (POST)</h4><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;resourceType&quot; : &quot;Bundle&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;type&quot; : &quot;batch&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;entry&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Observation&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;id&quot; : &quot;25b1fe08-7612-45eb-af80-7e15d9806b2b&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;subject&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;reference&quot; : &quot;urn:Patient_1&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;request&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;method&quot; : &quot;PUT&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;url&quot; : &quot;Observation/25b1fe08-7612-45eb-af80-7e15d9806b2b&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;fullUrl&quot; : &quot;urn:Patient_1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Patient&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;request&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;method&quot; : &quot;POST&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;url&quot; : &quot;Patient&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server first processes all POST requests found within a request bundle and then processes all PUT requests. So, the FHIR server will, in fact, process the <code>Patient</code> request entry (a POST) before it processes the <code>Observation</code> request entry (a PUT). Therefore, this would be considered a valid request bundle as well.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">While processing a POST or PUT request entry within a request bundle, the FHIR server will detect the use of a local identifier within the entry’s <code>fullUrl</code> field, and will establish a mapping between that local identifier and the corresponding external identifier that results from performing the POST or PUT operation.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For example, in Example 1 from <a href="#4801-example-1-observation-references-patient-via-local-reference" class="bx--link Link-module--link--PAAZ2">Section 4.8.0.1</a>, the FHIR server detects the use of the local identifier in the <code>Patient</code> request entry (<code>urn:uuid:7113a0bb-d9e0-49df-9855-887409388c69</code>) and — after creating the new <code>Patient</code> resource — establishes a mapping between the local identifier and the resulting external reference associated with the new <code>Patient</code> (for example, <code>Patient/1cc5d299-d2be-4f93-8745-a121232ffe5b</code>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Then when the FHIR server processes the POST request for the <code>Observation</code>, it detects the use of the local reference and substitutes the corresponding external reference for it before creating the new <code>Observation</code> resource. Here is an example of a response bundle for the request bundle depicted in Example 1 in which we can see that the Observation’s <code>subject.reference</code> field now contains a proper external reference to the newly-created <code>Patient</code> resource:</p><h4 class="Markdown-module--h4--7eW04" id="4812-example-3-response-bundle-for-example-1">4.8.1.2 Example 3: Response bundle for Example 1</h4><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;resourceType&quot; : &quot;Bundle&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;type&quot; : &quot;batch-response&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;entry&quot; : [ {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Patient&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;id&quot; : &quot;1cc5d299-d2be-4f93-8745-a121232ffe5b&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;response&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;id&quot; : &quot;1cc5d299-d2be-4f93-8745-a121232ffe5b&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;status&quot; : &quot;201&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;location&quot; : &quot;Patient/1cc5d299-d2be-4f93-8745-a121232ffe5b/_history/1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;etag&quot; : &quot;W/\&quot;1\&quot;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;lastModified&quot; : &quot;2017-03-01T20:56:59.540Z&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;resource&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;resourceType&quot; : &quot;Observation&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;id&quot; : &quot;22b21fcf-8d00-492d-9de0-e25ddd409eaf&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;subject&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;reference&quot; : &quot;Patient/1cc5d299-d2be-4f93-8745-a121232ffe5b&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;response&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;id&quot; : &quot;22b21fcf-8d00-492d-9de0-e25ddd409eaf&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;status&quot; : &quot;201&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;location&quot; : &quot;Observation/22b21fcf-8d00-492d-9de0-e25ddd409eaf/_history/1&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;etag&quot; : &quot;W/\&quot;1\&quot;&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;lastModified&quot; : &quot;2017-03-01T20:56:59.652Z&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    } ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h2 id="49-multi-tenancy" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#49-multi-tenancy" aria-label="4.9 Multi-tenancy permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.9 Multi-tenancy</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server includes features that allow a single instance of the server to simultaneously support multiple tenants. A tenant is defined as a group of one or more FHIR REST API consumers that share a FHIR server configuration along with one or more data stores associated with that configuration. A tenant could be a single application using the FHIR REST API, or it could be a group of applications belonging to a single customer. The main idea behind multi-tenancy is that each tenant can experience its own customized FHIR server runtime behavior and its data can be physically isolated from other tenants’ data for increased security and privacy.</p><h3 id="491-specifying-the-tenant-id" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#491-specifying-the-tenant-id" aria-label="4.9.1 Specifying the tenant id permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.9.1 Specifying the tenant id</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To support multi-tenancy, the FHIR server must know which tenant an incoming REST API request is intended for. To provide the tenant id to the FHIR server, a REST API consumer must set a request header in each REST API request. The name of this request header is itself configurable by setting the <code>fhirServer/core/tenantIdHeaderName</code> configuration property in the FHIR server’s global configuration file (located at <code>$⁠{server.config.dir}/config/default/fhir-server-config.json</code>). The following example shows the default setting for this configuration parameter:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;core&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;tenantIdHeaderName&quot;:&quot;X-FHIR-TENANT-ID&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">      },</span></div><div class="token-line" style="color:#fff"><span class="token plain">      …</span></div><div class="token-line" style="color:#fff"><span class="token plain">   }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">With this configuration in place, each REST API consumer would need to set the <code>X-FHIR-TENANT-ID</code> request header to the appropriate tenant id. Each tenant’s tenant id value is assigned by the deployer. It is simply a short name associated with the tenant and must be unique among all tenants supported by a single FHIR server instance. For example, let’s suppose Acme Healthcare, Inc. is using the FHIR server and their tenant id has been assigned by the deployer as “acme”. In this case, Acme-related applications would set the following request header in each REST API request: <code>X-FHIR-TENANT-ID: acme</code></p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">As mentioned earlier, the name of the request header is configurable in the FHIR server’s global configuration file. For example, the FHIR server deployer could configure the request header name to be <code>X-WHCLSF-tenant-id</code> by setting <code>tenantIdHeaderName</code> as shown in the following example:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;core&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;tenantIdHeaderName&quot;:&quot;X-WHCLSF-tenant-id&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">      },</span></div><div class="token-line" style="color:#fff"><span class="token plain">      …</span></div><div class="token-line" style="color:#fff"><span class="token plain">   }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This would be useful in an environment where the applications might already be using a similar type of request header. With this configuration in place, the “Acme Healthcare, Inc.” tenant would set the following request header in each REST API request:
<code>X-WHCLSF-tenant-id: acme</code></p><h3 id="492-configuration-properties" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#492-configuration-properties" aria-label="4.9.2 Configuration properties permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.9.2 Configuration properties</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR server allows a deployer to configure a subset of the supported configuration properties on a tenant-specific basis.
For a complete list of configuration properties supported on a per-tenant basis, see <a href="#513-property-attributes" class="bx--link Link-module--link--PAAZ2">Section 5.1.3 Property attributes</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">When the FHIR server needs to retrieve any of the tenant-specific configuration properties, it does so dynamically each time the property value is needed. This means that a deployer can change the value of a tenant-specific property within a tenant’s configuration file on disk, and the FHIR server will immediately “see” the new value the next time it tries to retrieve it. For example, suppose the deployer initially defines the <code>acme</code> tenant’s <code>fhir-server-config.json</code> file such that the <code>fhirServer/core/defaultPrettyPrint</code> property is set to true.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Requests from the <code>acme</code> tenant would result in pretty-printed responses (with newlines and indentation), making it easier for humans to read.
Now suppose the deployer changes the value of that property to true within the <code>acme</code> tenant’s <code>fhir-server-config.json</code> file.
A subsequent REST API request would then see the output condensed into a single line with minimal whitespace.</p><h4 class="Markdown-module--h4--7eW04" id="4921-examples">4.9.2.1 Examples</h4><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This section contains examples of both a global (default) configuration and a tenant-specific configuration.</p><h5 class="Markdown-module--h5--3fgxy" id="global-configuration-default">Global configuration (default)</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The global configuration contains non-tenant specific configuration parameters (configuration parameters that are not resolved or used on a tenant-specific basis), as well as default values for tenant-specific configuration parameters.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><code>${server.config.dir}/config/default/fhir-server-config.json</code></p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;__comment&quot;:&quot;FHIR server global (default) configuration&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;core&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;defaultPrettyPrint&quot;:false,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;tenantIdHeaderName&quot;:&quot;X-FHIR-TENANT-ID&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;notifications&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;common&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;includeResourceTypes&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;QuestionnaireResponse&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;CarePlan&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;MedicationAdministration&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;Device&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;DeviceComponent&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;DeviceMetric&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;MedicationOrder&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    &quot;Observation&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">                ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;websocket&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;enabled&quot;:false</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;kafka&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;enabled&quot;:false,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;topicName&quot;:&quot;fhirNotifications&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;connectionProperties&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;audit&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;serviceClassName&quot; : &quot;com.ibm.fhir.audit.logging.impl.DisabledAuditLogService&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;serviceProperties&quot; : {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;persistence&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;factoryClassname&quot;:&quot;com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;common&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;__comment&quot;:&quot;Configuration properties common to all persistence layer implementations&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;updateCreateEnabled&quot;:true</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;jdbc&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;__comment&quot;:&quot;Configuration properties for the JDBC persistence implementation&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;bootstrapDb&quot;:false</span></div><div class="token-line" style="color:#fff"><span class="token plain">            },</span></div><div class="token-line" style="color:#fff"><span class="token plain">        …</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    …</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h5 class="Markdown-module--h5--3fgxy" id="acme-healthcare-inc-acme">Acme Healthcare, Inc. (acme)</h5><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The Acme Healthcare, Inc tenant configuration overrides the <code>fhirServer/core/defaultPrettyPrint</code> property so that the development
team can more easilly read the messages.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><code>${server.config.dir}/config/acme/fhir-server-config.json</code></p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">{</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;__comment&quot;:&quot;FHIR server configuration for tenant: Acme Healthcare, Inc.&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;fhirServer&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;core&quot;:{</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;defaultPrettyPrint&quot;:true</span></div><div class="token-line" style="color:#fff"><span class="token plain">        }</span></div><div class="token-line" style="color:#fff"><span class="token plain">    }</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">It is also possible to configure the persistence properties for a specific tenant, for example to set an alternate
database hostname or database schema name.</p><h2 id="410-bulk-data-operations" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#410-bulk-data-operations" aria-label="4.10 Bulk data operations permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.10 Bulk data operations</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Bulk data export is implemented according to the <a href="http://hl7.org/fhir/uv/bulkdata/STU1/export/index.html" class="bx--link Link-module--link--PAAZ2">HL7 FHIR BulkDataAccess IG: STU1</a>, and Bulk data import is implemented according to the <a href="https://github.com/smart-on-fhir/bulk-import/blob/master/import.md" class="bx--link Link-module--link--PAAZ2">Proposal for $import Operation</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">There are 2 modules involved are:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">fhir-operation-bulkdata</li><li class="bx--list__item Markdown-module--list-item--32ShB">fhir-bulkimportexport-webapp   </li></ul><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <em>fhir-operation-bulkdata</em> module implements the REST APIs for bulk data export, import and status as FHIR Operations.  There are four operations:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">ExportOperation - system export</li><li class="bx--list__item Markdown-module--list-item--32ShB">PatientExportOperation - Patient export</li><li class="bx--list__item Markdown-module--list-item--32ShB">GroupExportOperation - group export</li><li class="bx--list__item Markdown-module--list-item--32ShB">ImportOperation - import resources using the system endpoint</li><li class="bx--list__item Markdown-module--list-item--32ShB">StatusOperation - polling status for import and export ($bulkdata-status)</li></ul><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Each operation calls the JavaBatch framework defined in the <em>fhir-bulkimportexport-webapp</em> module to execute the export unit-of-work.
There are 4 JavaBatch jobs defined as following in <em>fhir-bulkimportexport-webapp</em> module for the above 3 export operations and 1 import operation:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">FhirBulkExportChunkJob</li><li class="bx--list__item Markdown-module--list-item--32ShB">FhirBulkExportPatientChunkJob</li><li class="bx--list__item Markdown-module--list-item--32ShB">FhirBulkExportGroupChunkJob</li><li class="bx--list__item Markdown-module--list-item--32ShB">FhirBulkImportChunkJob</li></ul><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <em>fhir-bulkimportexport-webapp</em> module is a wrapper for the whole BulkData web application, which is the build artifact - fhir-bulkimportexport.war. This web archive is copied to the apps directory of the liberty fhir-server instance. Following is a sample liberty server configuration (server.xml) for fhir-bulkimportexport.war:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">webApplication</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhir-bulkimportexport-webapp</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">location</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhir-bulkimportexport.war</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhir-bulkimportexport-webapp</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">classloader</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">commonLibraryRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhirSharedLib</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">privateLibraryRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">configResources,fhirUserLib</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">application-bnd</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">users</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">FHIRUsers</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">                     </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">group</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">FHIRUsers</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">application-bnd</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">webApplicaion</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">BulkData web application writes the exported FHIR resources to an IBM Cloud Object Storage (COS) or any Amazon S3-Compatible bucket as configured in the per-tenant server configuration under <code>fhirServer/bulkdata</code>. The following is an example configuration for bulkdata, please refer to section 5 for the detailed description of these properties:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">&quot;bulkdata&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;bulkDataBatchJobIdEncryptionKey&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;applicationName&quot;: &quot;fhir-bulkimportexport-webapp&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;moduleName&quot;: &quot;fhir-bulkimportexport.war&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;jobParameters&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.bucket.name&quot;: &quot;fhir-r4-connectathon&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.location&quot;: &quot;us&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.endpointurl&quot;: &quot;fake&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.credential.ibm&quot;: &quot;Y&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.api.key&quot;: &quot;fake&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;cos.srvinst.id&quot;: &quot;fake&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    },</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;implementation_type&quot;: &quot;cos&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;batch-uri&quot;: &quot;https://localhost:9443/ibm/api/batch/jobinstances&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;batch-user&quot;: &quot;fhiradmin&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;batch-user-password&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;batch-truststore&quot;: &quot;resources/security/fhirTrustStore.p12&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;batch-truststore-password&quot;: &quot;change-password&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;isExportPublic&quot;: true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;validBaseUrls&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;https://test-url/&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">    ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;maxInputPerRequest&quot;: 5</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To use Amazon S3 bucket for exporting, please set cos.credential.ibm to <code>N</code>, set <code>cos.api.key</code> to S3 access key, and set <code>cos.srvinst.id</code> to the S3 secret key. The following is a sample path to the exported ndjson file, the full path can be found in the response to the polling location request after the export request (please refer to the FHIR BulkDataAccess spec for details).  </p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><code>.../fhir-bulkimexport-connectathon/6xjd4M8afi6Xo95eYv7zPxBqSCoOEFywZLoqH1QBtbw=/Patient_1.ndjson</code></p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To import using the <code>$import</code> proposal, one must additionally configure the <code>fhirServer/bulkdata/validBaseUrls</code>. For example, if one stores bulkdata on <code>https://test-url.cos.ibm.com/bucket1</code> and <code>https://test-url.cos.ibm.com/bucket2</code> you must specify both baseUrls in the configuration:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-json" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#92eeee">&quot;validBaseUrls&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token string" style="color:#fa75a6">&quot;https://test-url.cos.ibm.com/bucket1&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token string" style="color:#fa75a6">&quot;https://test-url.cos.ibm.com/bucket2&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">These base urls are not checked when using cloud object store and bulk-import. If you need to disable the validBaseUrls feature you may add <code>fhirServer/bulkdata/validBaseUrlsDisabled</code> as <code>true</code>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The <code>fhirServer/bulkdata/maxInputPerRequest</code> is used to configure a maximum number of inputs supported by the instance.  The default number is 5.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: When <code>$import</code> is executed, the data must include a specified <code>Resource.id</code>, if not specified, the data is logged as being in Error.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Following is the beautified response of sample polling location request after the export is finished:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-json" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token property" style="color:#92eeee">&quot;transactionTime&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;2020/01/20 16:53:41.160 -0500&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token property" style="color:#92eeee">&quot;request&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;/$export?_type=Patient&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token property" style="color:#92eeee">&quot;requiresAccessToken&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#bb8eff">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token property" style="color:#92eeee">&quot;output&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token property" style="color:#92eeee">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;AllergyIntolerance&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#92eeee">&quot;url&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/AllergyIntolerance_1.ndjson&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#92eeee">&quot;count&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token property" style="color:#92eeee">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;AllergyIntolerance&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#92eeee">&quot;url&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/AllergyIntolerance_2.ndjson&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#92eeee">&quot;count&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token property" style="color:#92eeee">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;Observation&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#92eeee">&quot;url&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/Observation_1.ndjson&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#92eeee">&quot;count&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token number">234</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token property" style="color:#92eeee">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;Observation&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#92eeee">&quot;url&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token string" style="color:#fa75a6">&quot;https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/Observation_2.ndjson&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#92eeee">&quot;count&quot;</span><span class="token operator" style="color:#6ea6ff">:</span><span class="token plain"> </span><span class="token number">81</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For the Import Operation, the polled status includes an indication of <code>$import</code> and the location of the OperationOutcome NDJsons and the corresonding failure and success counts.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note, the deletion of an a job is split into two phases, ACCEPTED (202) response and DELETED (204).  202 is returned until the oepration is stopped or removed, and then 204.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">By default, the exported <code>ndjson</code> file is configured with public access automatically and with 2 hours expiration time, the randomly generated secret in the path is used to protect the file. please note that IBM COS does not support expiration time for each single COS object, so please configure retention policy (e.g, 1 day) for the bucket if IBM COS is used. For both Amazon S3 and IBM COS, please remember that public access should never be configured to the bucket itself.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: <code>fhirServer/bulkdata/isExportPublic</code> can be set to “false” to disable public access.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">JavaBatch feature must be enabled in <code>server.xml</code> as following on the Liberty server:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    ...</span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain">batchManagement-1.0</span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    ...</span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The JavaBatch user is configured in <code>server.xml</code> and the <code>fhir-server-config.json</code>:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">authorization-roles</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">com.ibm.ws.batch</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">batchAdmin</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">user</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhiradmin</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">batchSubmitter</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">user</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhiruser</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">batchMonitor</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">user</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhiradmin</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">user</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhiruser</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">security-role</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">authorization-roles</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: The user referenced in the <code>fhir-server-config.json</code> must have a role of at least batchSubmitter.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">By default, in-memory Derby database is used for persistence of the JavaBatch Jobs as configured in batchDs.xml. Instruction is also provided in “Configuring a Liberty Datasource with API Key” section of the DB2OnCloudSetup guide to configure DB2 service in IBM Clouds as JavaBatch persistence store. Liberty JavaBatch framework creates DB schema and tables automatically by default for both approaches, and the configured database is created automatically, if the in-memory Apache Derby approach is used.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">You can also choose to use postgresql or other RDBMS as your Job repository, if taking this approach, you will need to generate the DDL for the job tables first following <a href="https://www-03.ibm.com/support/techdocs/atsmastr.nsf/WebIndex/WP102716" class="bx--link Link-module--link--PAAZ2">IBM Websphere Liberty Batch - Job Repository Configuration</a> , then make necessary changes to the generated DDL to make it valid for your RDBMS, and then create the job database, create javabatch user, create jbatch schema and then run the DDL to generate the job tables and enable it in batchDs.xml. let’s use postgresql as an example:</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">(1) Generate DDL and modify it according to your RDBMS.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-shell" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain"> ./ddlGen generate fhir-server</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">then modify the generated DLL file to make it valid for postgresql.
or you can simply use this sample DDL file: <a href="https://github.com/IBM/FHIR/tree/master/fhir-bulkimportexport-webapp/src/test/resources/batchPersistence-postgresql.ddl" class="bx--link Link-module--link--PAAZ2">fhir-bulkimportexport-webapp/src/test/resources/batchPersistence-postgresql.ddl</a></p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">(2) Create the Job database and user.  </p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-shell" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">psql postgres</span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token operator" style="color:#6ea6ff">&gt;</span><span class="token plain">postgres</span><span class="token operator" style="color:#6ea6ff">=</span><span class="token comment" style="color:#bebebe"># create database jobdb;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token operator" style="color:#6ea6ff">&gt;</span><span class="token plain">postgres</span><span class="token operator" style="color:#6ea6ff">=</span><span class="token comment" style="color:#bebebe"># create user javabatch with password &#x27;change-password&#x27;;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token operator" style="color:#6ea6ff">&gt;</span><span class="token plain">postgres</span><span class="token operator" style="color:#6ea6ff">=</span><span class="token comment" style="color:#bebebe"># grant all privileges on database jobdb to javabatch;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">(3) Create jbatch schema.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-shell" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">psql -d jobdb -U javabatch</span></div><div class="token-line" style="color:#fff"><span class="token plain">jobdb</span><span class="token operator" style="color:#6ea6ff">=</span><span class="token operator" style="color:#6ea6ff">&gt;</span><span class="token plain"> CREATE SCHEMA jbatch</span><span class="token punctuation">;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">(4) Run the modified DDL with javabatch user against the job database.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-shell" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">psql -v ON_ERROR_STOP</span><span class="token operator" style="color:#6ea6ff">=</span><span class="token plain">1 -1 -U javabatch -f batchPersistence-postgresql.ddl -d jobdb</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">(5) Enable postgresql job repository in batchDs.xml as following.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">server</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">description</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhir-server</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">dataSource</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhirbatchDS</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">jndiName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">jdbc/fhirbatchDB</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">schema</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">JBATCH</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">jdbcDriver</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">libraryRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhirSharedLib</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">properties.postgresql</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">        </span><span class="token tag attr-name" style="color:#92eeee">databaseName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">jobdb</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">        </span><span class="token tag attr-name" style="color:#92eeee">portNumber</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">5432</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">        </span><span class="token tag attr-name" style="color:#92eeee">serverName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">postgresql-server-hostname</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">        </span><span class="token tag attr-name" style="color:#92eeee">user</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">javabatch</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">        </span><span class="token tag attr-name" style="color:#92eeee">password</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">change-password</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">dataSource</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">batchPersistence</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">jobStoreRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">BatchDatabaseStore</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">databaseStore</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">dataSourceRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">fhirbatchDS</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">BatchDatabaseStore</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">schema</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">JBATCH</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">tablePrefix</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">server</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: If you use PostgreSQL database as IBM FHIR Server data store or the JavaBatch job repository, please enable <code>max_prepared_transactions</code> in postgresql.conf, otherwise the import/export JavaBatch jobs fail.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For more information about Liberty JavaBatch configuration, please refer to <a href="https://www-03.ibm.com/support/techdocs/atsmastr.nsf/webindex/wp102544" class="bx--link Link-module--link--PAAZ2">IBM WebSphere Liberty Java Batch White paper</a>.</p><h3 id="4101-integration-testing" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#4101-integration-testing" aria-label="4.10.1 Integration Testing permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.10.1 Integration Testing</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To integration test, there are tests in <code>ExportOperationTest.java</code> in <code>fhir-server-test</code> module with server integration test cases for system, patient and group export. Further, there are tests in <code>ImportOperationTest.java</code> in <code>fhir-server-test</code> module.</p><h2 id="411-cadf-audit-logging-service" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#411-cadf-audit-logging-service" aria-label="4.11 CADF audit logging service permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.11 CADF audit logging service</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The CADF audit logging service pushs FHIR server audit events for FHIR operations in <a href="https://www.dmtf.org/standards/cadf" class="bx--link Link-module--link--PAAZ2">Cloud Auditing Data Federation (CADF)</a> standard format to IBM Cloud Event Streams service, these FHIR operations include create, read, update, delete, version read, history, search, validate, custom operation, meta and bundle, these operations are mapped to CADF actions as following:</p><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>FHIR Operation</th><th>CADF Action</th></tr></thead><tbody><tr><td><code>read,versionread,history,search,validate,meta</code></td><td>read</td></tr><tr><td><code>create</code></td><td>create</td></tr><tr><td><code>update</code></td><td>update</td></tr><tr><td><code>delete</code></td><td>delete</td></tr><tr><td><code>operation,bundle</code></td><td>unknown</td></tr></tbody></table></div></div><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Each FHIR create, update, delete, bundle or custom operation triggers 2 CADF events - begins with an event with “pending” outcome and ends with an event with “success” or “failure” outcome; All the other FHIR operations only trigger 1 CADF event with either “success” or “failure” outcome.</p><h3 id="4111-enable-cadf-audit-logging-service" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#4111-enable-cadf-audit-logging-service" aria-label="4.11.1 Enable CADF audit logging service permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.11.1 Enable CADF audit logging service</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Please refer to the properties names started wtih fhirServer/audit/ in <a href="#51-configuration-properties-reference" class="bx--link Link-module--link--PAAZ2">5.1 Configuration properties reference</a> for how to enable and configure CADF audit logging service.</p><h3 id="4112-event-streams-configuation-of-cadf-audit-logging-service" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#4112-event-streams-configuation-of-cadf-audit-logging-service" aria-label="4.11.2 Event Streams configuation of CADF audit logging service permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.11.2 Event Streams configuation of CADF audit logging service</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The CADF audit logging service gets event streams service credential from env variable EVENT_STREAMS_AUDIT_BINDING with values like this:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">    {</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;api_key&quot;: &quot;xxxxxxxxxxxxxxxx_xxxxx_xxxxxxxxxxxxxxxxxxx&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;apikey&quot;: &quot;xxxxxxxxxxxxxxxx_xxxxx_xxxxxxxxxxxxxxxxxxx&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   …</span></div><div class="token-line" style="color:#fff"><span class="token plain">  &quot;kafka_brokers_sasl&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-1-0server:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-2-0server:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-5-0server:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-4-0server:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-3-0server:9093&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">    &quot;broker-0-0server:9093&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">  ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">   …</span></div><div class="token-line" style="color:#fff"><span class="token plain">}</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The service credential is generated automatically when you run</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">    ibmcloud ks cluster-service-bind --cluster &lt;cluster_name_or_ID&gt; --namespace &lt;namespace&gt; --service &lt;event_streams_service_instance_name&gt; …</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">to bind your event streams service instance to your Kubernetes cluster.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">And then in the YAML file for your Kubernetes deployment, specify the environment variable EVENT_STREAMS_AUDIT_BINDING that references the binding key of the generated secret(binding-&lt;event_streams_service_instance_name&gt;) as following:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">            - name: EVENT_STREAMS_AUDIT_BINDING</span></div><div class="token-line" style="color:#fff"><span class="token plain">                valueFrom:</span></div><div class="token-line" style="color:#fff"><span class="token plain">                  secretKeyRef:</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    key: binding</span></div><div class="token-line" style="color:#fff"><span class="token plain">                    name: binding-&lt;event_streams_service_instance_name&gt;</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">please refer to <a href="https://cloud.ibm.com/docs/containers?topic=containers-service-binding" class="bx--link Link-module--link--PAAZ2">https://cloud.ibm.com/docs/containers?topic=containers-service-binding</a> for detailed instruction if need.</p><h3 id="4113-query-cadf-events-in-cos" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#4113-query-cadf-events-in-cos" aria-label="4.11.3 Query CADF events in COS permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>4.11.3 Query CADF events in COS</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj"><a href="https://cloud.ibm.com/docs/tutorials?topic=solution-tutorials-big-data-log-analytics#create-a-streams-flow-source" class="bx--link Link-module--link--PAAZ2">Waston studio stream flow</a> can be created to push those FHIR Audit CADF events from Event Streams service to COS bucket(e.g fhir-audit-dev0) in CSV format; Another option is to configure Event Streams(Kafka) S3 connect to push those CADF events to COS bucket(e.g, fhir-audit-dev0) but in raw CADF json format.
A service instance of the <a href="https://www.ibm.com/cloud/blog/analyzing-data-with-ibm-cloud-sql-query" class="bx--link Link-module--link--PAAZ2">IBM Cloud SQL Query</a> service can be created to allow you to query those CADF audit events in COS with SQL queries, before you run sql query, you’d better create a COS bucket to store your query results, otherwise, the query results will be stored in a bucket which is automatically created by the SQL query service.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Samples queries for CSV records expaned from the JSON CADF events:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev where EVENTTIME BETWEEN &quot;2019-06-07&quot; and &quot;2019-06-08&quot; and action=&quot;unknown&quot; into cos://us-south/fhir-audit-dev-res stored as csv</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select action, count(*) from cos://us-south/fhir-audit-dev where EVENTTIME BETWEEN &quot;2019-06-05&quot; and &quot;2019-06-06&quot; group by action into cos://us-south/fhir-audit-dev-res stored as csv</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev where EVENTTIME BETWEEN &quot;2019-06-05&quot; and &quot;2019-06-06&quot; and action=&quot;create&quot; and initiator_id=&quot;default@fhir-server&quot; into cos://us-south/fhir-audit-dev-res stored as csv</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev where EVENTTIME BETWEEN &quot;2019-06-05&quot; and &quot;2019-06-06&quot; and ATTACHMENTS_CONTENT LIKE &#x27;%fhir-read%&#x27; into cos://us-south/fhir-audit-dev-res stored as csv</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Samples queries for the raw JSON CADF events:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev0 stored as json where EVENTTIME BETWEEN &quot;2019-06-01&quot; and &quot;2019-06-08&quot; and action=&quot;unknown&quot; into cos://us-south/fhir-audit-dev0-res stored as json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select action, count(*) from cos://us-south/fhir-audit-dev0 stored as json where EVENTTIME BETWEEN &quot;2019-06-01&quot; and &quot;2019-06-06&quot; group by action into cos://us-south/fhir-audit-dev0-res stored as csv</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev0 stored as json where EVENTTIME BETWEEN &quot;2019-06-01&quot; and &quot;2019-06-06&quot; and action=&quot;create&quot; and initiator.id=&quot;default@fhir-server&quot; into cos://us-south/fhir-audit-dev-res stored as json</span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain">select * from cos://us-south/fhir-audit-dev0 stored as json where EVENTTIME BETWEEN &quot;2019-06-01&quot; and &quot;2019-06-06&quot; and ATTACHMENTS[0].CONTENT LIKE &#x27;%fhir-read%&#x27; into cos://us-south/fhir-audit-dev-res stored as json</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h1 id="5-appendix" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#5-appendix" aria-label="5 Appendix permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5 Appendix</h1><h2 id="51-configuration-properties-reference" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#51-configuration-properties-reference" aria-label="5.1 Configuration properties reference permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.1 Configuration properties reference</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">This section contains reference information about each of the configuration properties supported by the FHIR server.</p><h3 id="511-property-descriptions" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#511-property-descriptions" aria-label="5.1.1 Property descriptions permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.1.1 Property descriptions</h3><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>Property Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>fhirServer/core/defaultPrettyPrint</code></td><td>boolean</td><td>A boolean flag which indicates whether “Pretty Printing” should be used by default. Applies to both XML and JSON.</td></tr><tr><td><code>fhirServer/core/tenantIdHeaderName</code></td><td>string</td><td>The name of the request header that will be used to specify the tenant-id for each incoming FHIR REST API request. For headers with semicolon-delimited parts, setting a header name like <code>&lt;headerName&gt;:&lt;partName&gt;</code> will select the value from the part of header <code>&lt;headerName&gt;</code>’s value with a name of <code>&lt;partName&gt;</code> (e.g. setting <code>X-Test:part1</code> would select <code>someValue</code> from the header <code>X-Test: part1=someValue;part2=someOtherValue</code>).</td></tr><tr><td><code>fhirServer/core/dataSourceIdHeaderName</code></td><td>string</td><td>The name of the request header that will be used to specify the datastore-id for each incoming FHIR REST API request. For headers with semicolon-delimited parts, setting a header name like <code>&lt;headerName&gt;:&lt;partName&gt;</code> will select the value from the part of header <code>&lt;headerName&gt;</code>’s value with a name of <code>&lt;partName&gt;</code> (e.g. setting <code>X-Test:part1</code> would select <code>someValue</code> from the header <code>X-Test: part1=someValue;part2=someOtherValue</code>).</td></tr><tr><td><code>fhirServer/core/originalRequestUriHeaderName</code></td><td>string</td><td>The name of the request header that will be used to indicate the original, end-user-facing, request URI for a given request. This optional config parameter is provided for cases where the server is deployed behind a reverse proxy that overwrites the host and/or path portions of the original request.</td></tr><tr><td><code>fhirServer/core/defaultHandling</code></td><td>string</td><td>The default handling preference of the server (<code>strict | lenient</code>) which determines how the server handles unrecognized search parameters and resource elements.</td></tr><tr><td><code>fhirServer/core/allowClientHandlingPref</code></td><td>boolean</td><td>Indicates whether the client is allowed to override the server default handling preference using the <code>Prefer:handling</code> header value part.</td></tr><tr><td><code>fhirServer/core/checkReferenceTypes</code></td><td>boolean</td><td>Indicates whether reference type checking is performed by the server during parsing / deserialization.</td></tr><tr><td><code>fhirServer/core/serverRegistryResourceProviderEnabled</code></td><td>boolean</td><td>Indicates whether the server registry resource provider should be used by the FHIR registry component to access definitional resources through the persistence layer.</td></tr><tr><td><code>fhirServer/core/conditionalDeleteMaxNumber</code></td><td>integer</td><td>The max number of matches supported in conditional delete.</td></tr><tr><td><code>fhirServer/searchParameterFilter</code></td><td>property list</td><td>A set of inclusion rules for search parameters. See <a href="https://ibm.github.io/FHIR/guides/FHIRSearchConfiguration#12-Configuration--Filtering-of-search-parameters" class="bx--link Link-module--link--PAAZ2">FHIR Search Configuration</a> for more information.</td></tr><tr><td><code>fhirServer/notifications/common/includeResourceTypes</code></td><td>string list</td><td>A comma-separated list of resource types for which notification event messages should be published.</td></tr><tr><td><code>fhirServer/notifications/websocket/enabled</code></td><td>boolean</td><td>A boolean flag which indicates whether or not websocket notifications are enabled.</td></tr><tr><td><code>fhirServer/notifications/kafka/enabled</code></td><td>boolean</td><td>A boolean flag which indicates whether or not kafka notifications are enabled.</td></tr><tr><td><code>fhirServer/notifications/kafka/topicName</code></td><td>string</td><td>The name of the topic to which kafka notification event messages should be published.</td></tr><tr><td><code>fhirServer/notifications/kafka/connectionProperties</code></td><td>property list</td><td>A group of connection properties used to configure the KafkaProducer. These properties are used as-is when instantiating the KafkaProducer used by the FHIR server for publishing notification event messages.</td></tr><tr><td><code>fhirServer/notifications/nats/enabled</code></td><td>boolean</td><td>A boolean flag which indicates whether or not NATS notifications are enabled.</td></tr><tr><td><code>fhirServer/notifications/nats/cluster</code></td><td>string</td><td>The name of the NATS streaming cluster to which to connect.</td></tr><tr><td><code>fhirServer/notifications/nats/channel</code></td><td>string</td><td>The name of the NATS channel on which NATS notification event messages are to be published.</td></tr><tr><td><code>fhirServer/notifications/nats/clientId</code></td><td>string</td><td>The name to use for the connections to the NATS streaming cluster.</td></tr><tr><td><code>fhirServer/notifications/nats/servers</code></td><td>string</td><td>The URL of one or more NATS servers in the NATS streaming cluster.</td></tr><tr><td><code>fhirServer/notifications/nats/useTLS</code></td><td>boolean</td><td>A boolean flag which indicates whether or not to use TLS for connections to the NATS streaming cluster.</td></tr><tr><td><code>fhirServer/notifications/nats/truststoreLocation</code></td><td>string</td><td>The file location of the truststore to use for TLS.</td></tr><tr><td><code>fhirServer/notifications/nats/truststorePassword</code></td><td>string</td><td>The password for the truststore.</td></tr><tr><td><code>fhirServer/notifications/nats/keystoreLocation</code></td><td>string</td><td>The file location of the keystore to use for TLS.</td></tr><tr><td><code>fhirServer/notifications/nats/keystorePassword</code></td><td>string</td><td>The password for the keystore.</td></tr><tr><td><code>fhirServer/persistence/factoryClassname</code></td><td>string</td><td>The name of the factory class to use for creating instances of the persistence layer implementation.</td></tr><tr><td><code>fhirServer/persistence/common/updateCreateEnabled</code></td><td>boolean</td><td>A boolean flag which indicates whether or not the ‘update/create’ feature should be enabled in the selected persistence layer.</td></tr><tr><td><code>fhirServer/persistence/datasources</code></td><td>map</td><td>A map containing datasource definitions. See <a href="#3423-datastore-configuration-reference" class="bx--link Link-module--link--PAAZ2">Section 3.4.2.3 Datastore configuration reference</a> for more information.</td></tr><tr><td><code>fhirServer/persistence/jdbc/dataSourceJndiName</code></td><td>string</td><td>The JNDI name of the DataSource to be used by the JDBC persistence layer.</td></tr><tr><td><code>fhirServer/persistence/jdbc/bootstrapDb</code></td><td>boolean</td><td>A boolean flag which indicates whether the JDBC persistence layer should attempt to create or update the database and schema at server startup time.</td></tr><tr><td><code>fhirServer/oauth/regUrl</code></td><td>string</td><td>The registration URL associated with the OAuth 2.0 authentication/authorization support.</td></tr><tr><td><code>fhirServer/oauth/authUrl</code></td><td>string</td><td>The authorization URL associated with the OAuth 2.0 authentication/authorization support.</td></tr><tr><td><code>fhirServer/oauth/tokenUrl</code></td><td>string</td><td>The token URL associated with the OAuth 2.0 authentication/authorization support.</td></tr><tr><td><code>fhirServer/audit/serviceClassName</code></td><td>string</td><td>The audit service to use. Currently, com.ibm.fhir.audit.logging.impl.WhcAuditCadfLogService and com.ibm.fhir.audit.logging.impl.DisabledAuditLogService are supported.</td></tr><tr><td><code>fhirServer/audit/serviceProperties/auditTopic</code></td><td>string</td><td>The kafka topic to use for CADF audit logging service</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCity</code></td><td>string</td><td>The Geo City configure for CADF audit logging service.</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoState</code></td><td>string</td><td>The Geo State configure for CADF audit logging service.</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCounty</code></td><td>string</td><td>The Geo Country configure for CADF audit logging service.</td></tr><tr><td><code>fhirServer/search/useBoundingRadius</code></td><td>boolean</td><td>True, the bounding area is a Radius, else the bounding area is a box.</td></tr><tr><td><code>fhirServer/bulkdata/applicationName</code></td><td>string</td><td>Fixed value, always set to fhir-bulkimportexport-webapp</td></tr><tr><td><code>fhirServer/bulkdata/moduleName</code></td><td>string</td><td>Fixed value, always set to fhir-bulkimportexport.war</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.bucket.name</code></td><td>string</td><td>Object store bucket name</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.location</code></td><td>string</td><td>Object store location</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.endpointurl</code></td><td>string</td><td>Object store end point url</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/credential.ibm</code></td><td>string</td><td>If use IBM credential, “Y” or “N”</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.api.key</code></td><td>string</td><td>API key for accessing IBM COS</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.srvinst.id</code></td><td>string</td><td>Service instance Id for accessing IBM COS</td></tr><tr><td><code>fhirServer/bulkdata/implementation_type</code></td><td>string</td><td>Use “cos” for any S3-compatible object store</td></tr><tr><td><code>fhirServer/bulkdata/batch-uri</code></td><td>string</td><td>The URL to access the FHIR server hosting the batch web application</td></tr><tr><td><code>fhirServer/bulkdata/batch-user</code></td><td>string</td><td>User for submitting JavaBatch job</td></tr><tr><td><code>fhirServer/bulkdata/batch-user-password</code></td><td>string</td><td>Password for above batch user</td></tr><tr><td><code>fhirServer/bulkdata/batch-truststore</code></td><td>string</td><td>Trust store for JavaBatch job submission</td></tr><tr><td><code>fhirServer/bulkdata/batch-truststore-password</code></td><td>string</td><td>Password for above trust store</td></tr><tr><td><code>fhirServer/bulkdata/bulkDataBatchJobIdEncryptionKey</code></td><td>string</td><td>Encryption key for JavaBatch job id</td></tr><tr><td><code>fhirServer/bulkdata/isExportPublic</code></td><td>boolean</td><td>If give public read only access to the exported files</td></tr><tr><td><code>fhirServer/bulkdata/validBaseUrls</code></td><td>string</td><td>The list of supported urls which are approved for the fhir server to access</td></tr><tr><td><code>fhirServer/bulkdata/validBaseUrlsDisabled</code></td><td>boolean</td><td>Disables the URL checking feature</td></tr><tr><td><code>fhirServer/bulkdata/maxInputPerRequest</code></td><td>integer</td><td>The maximum inputs per bulk import</td></tr></tbody></table></div></div><h3 id="512-default-property-values" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#512-default-property-values" aria-label="5.1.2 Default property values permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.1.2 Default property values</h3><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>Property Name</th><th>Default value</th></tr></thead><tbody><tr><td><code>fhirServer/core/defaultPrettyPrint</code></td><td>false</td></tr><tr><td><code>fhirServer/core/tenantIdHeaderName</code></td><td>X-FHIR-TENANT-ID</td></tr><tr><td><code>fhirServer/core/dataSourceIdHeaderName</code></td><td>X-FHIR-DSID</td></tr><tr><td><code>fhirServer/core/originalRequestUriHeaderName</code></td><td>null</td></tr><tr><td><code>fhirServer/core/defaultHandling</code></td><td>strict</td></tr><tr><td><code>fhirServer/core/allowClientHandlingPref</code></td><td>true</td></tr><tr><td><code>fhirServer/core/checkReferenceTypes</code></td><td>true</td></tr><tr><td><code>fhirServer/core/serverRegistryResourceProviderEnabled</code></td><td>false</td></tr><tr><td><code>fhirServer/core/conditionalDeleteMaxNumber</code></td><td>10</td></tr><tr><td><code>fhirServer/searchParameterFilter</code></td><td><code>&quot;*&quot;: [*]</code></td></tr><tr><td><code>fhirServer/notifications/common/includeResourceTypes</code></td><td><code>[&quot;*&quot;]</code></td></tr><tr><td><code>fhirServer/notifications/websocket/enabled</code></td><td>false</td></tr><tr><td><code>fhirServer/notifications/kafka/enabled</code></td><td>false</td></tr><tr><td><code>fhirServer/notifications/kafka/topicName</code></td><td>fhirNotifications</td></tr><tr><td><code>fhirServer/notifications/kafka/connectionProperties</code></td><td><code>{}</code></td></tr><tr><td><code>fhirServer/notifications/nats/enabled</code></td><td>false</td></tr><tr><td><code>fhirServer/notifications/nats/cluster</code></td><td>nats-streaming</td></tr><tr><td><code>fhirServer/notifications/nats/channel</code></td><td>fhirNotifications</td></tr><tr><td><code>fhirServer/notifications/nats/clientId</code></td><td>fhir-server</td></tr><tr><td><code>fhirServer/notifications/nats/servers</code></td><td></td></tr><tr><td><code>fhirServer/notifications/nats/useTLS</code></td><td>true</td></tr><tr><td><code>fhirServer/notifications/nats/truststoreLocation</code></td><td></td></tr><tr><td><code>fhirServer/notifications/nats/truststorePassword</code></td><td></td></tr><tr><td><code>fhirServer/notifications/nats/keystoreLocation</code></td><td></td></tr><tr><td><code>fhirServer/notifications/nats/keystorePassword</code></td><td></td></tr><tr><td><code>fhirServer/persistence/factoryClassname</code></td><td>com.ibm.fhir.persistence.jdbc.FHIRPersistenceJDBCFactory</td></tr><tr><td><code>fhirServer/persistence/common/updateCreateEnabled</code></td><td>true</td></tr><tr><td><code>fhirServer/persistence/datasources</code></td><td>embedded Derby database: derby/fhirDB</td></tr><tr><td><code>fhirServer/persistence/jdbc/dataSourceJndiName</code></td><td>jdbc/fhirProxyDataSource</td></tr><tr><td><code>fhirServer/persistence/jdbc/bootstrapDb</code></td><td>false</td></tr><tr><td><code>fhirServer/oauth/regUrl</code></td><td>&quot;&quot;</td></tr><tr><td><code>fhirServer/oauth/authUrl</code></td><td>&quot;&quot;</td></tr><tr><td><code>fhirServer/oauth/tokenUrl</code></td><td>&quot;&quot;</td></tr><tr><td><code>fhirServer/audit/serviceClassName</code></td><td>&quot;&quot;</td></tr><tr><td><code>fhirServer/audit/serviceProperties/auditTopic</code></td><td>FHIR_AUDIT</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCity</code></td><td>Dallas</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoState</code></td><td>TX</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCounty</code></td><td>US</td></tr><tr><td><code>fhirServer/bulkdata/isExportPublic</code></td><td>true</td></tr><tr><td><code>fhirServer/bulkdata/validBaseUrlsDisabled</code></td><td>false</td></tr></tbody></table></div></div><h3 id="513-property-attributes" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#513-property-attributes" aria-label="5.1.3 Property attributes permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.1.3 Property attributes</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Depending on the context of their use, config properties can be:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">tenant-specific or global</li><li class="bx--list__item Markdown-module--list-item--32ShB">dynamic or static</li></ul><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following table tracks which properties can be set on a tenant-specific basis
and which properties are loaded dynamically.
If you change a properties that has an <code>N</code> in the <code>Dynamic?</code> column, it means you
must restart the server for that change to take effect.</p><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>Property Name</th><th>Tenant-specific?</th><th>Dynamic?</th></tr></thead><tbody><tr><td><code>fhirServer/core/defaultPrettyPrint</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/core/tenantIdHeaderName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/core/dataSourceIdHeaderName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/core/originalRequestUriHeaderName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/core/defaultHandling</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/core/allowClientHandlingPref</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/core/checkReferenceTypes</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/core/serverRegistryResourceProviderEnabled</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/core/conditionalDeleteMaxNumber</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/searchParameterFilter</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/notifications/common/includeResourceTypes</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/websocket/enabled</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/kafka/enabled</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/kafka/topicName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/kafka/connectionProperties</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/enabled</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/cluster</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/channel</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/clientId</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/servers</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/useTLS</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/truststoreLocation</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/truststorePassword</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/keystoreLocation</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/notifications/nats/keystorePassword</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/persistence/factoryClassname</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/persistence/common/updateCreateEnabled</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/persistence/datasources</code></td><td>Y</td><td>N</td></tr><tr><td><code>fhirServer/persistence/jdbc/dataSourceJndiName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/persistence/jdbc/bootstrapDb</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/oauth/regUrl</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/oauth/authUrl</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/oauth/tokenUrl</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/audit/serviceClassName</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/audit/serviceProperties/auditTopic</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCity</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoState</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/audit/serviceProperties/geoCounty</code></td><td>N</td><td>N</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.bucket.name</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.location</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.endpointurl</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/credential.ibm</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.api.key</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/jobParameters/cos.srvinst.id</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/bulkDataBatchJobIdEncryptionKey</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/isExportPublic</code></td><td>N</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/validBaseUrls</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/maxInputPerRequest</code></td><td>Y</td><td>Y</td></tr><tr><td><code>fhirServer/bulkdata/validBaseUrlsDisabled</code></td><td>Y</td><td>Y</td></tr></tbody></table></div></div><h2 id="52-keystores-truststores-and-the-fhir-server" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#52-keystores-truststores-and-the-fhir-server" aria-label="5.2 Keystores, truststores, and the FHIR server permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2 Keystores, truststores, and the FHIR server</h2><h3 id="521-background" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#521-background" aria-label="5.2.1 Background permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.1 Background</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">As stated earlier, the FHIR server is installed with a default configuration in <code>server.xml</code> which includes the definition of a keystore (<code>fhirKeyStore.p12</code>) and a truststore (<code>fhirTrustStore.p12</code>)<sup id="a7"><a href="#f7" class="bx--link Link-module--link--PAAZ2">7</a></sup>. These files are provided only as examples and while they may suffice in a test environment, the FHIR server deployer should generate a new keystore and truststore for any installations where security is a concern. Review the information in the following topics to learn how to configure a secure keystore and truststore.</p><h3 id="522-webapp-security" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#522-webapp-security" aria-label="5.2.2 WebApp security permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.2 WebApp security</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">By default, the FHIR server REST API is only available via HTTPS on port 9443 and is protected by HTTP basic authentication.
Alternatively, the server can use OpenID Connect and OAuth 2.0 via a Bearer Token as described in <a href="#524-oauth-20" class="bx--link Link-module--link--PAAZ2">Section 5.2.4 Oauth 2.0</a>.
In addition, the FHIR server web application can be secured via client certificate-based authentication.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Here are some notes related to these authentication schemes:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Basic authentication is a very simple authentication scheme and should only be used over HTTPS because the username and password are essentially transmitted in plain text.</li><li class="bx--list__item Markdown-module--list-item--32ShB">OAuth 2.0 authentication can only be used in conjunction with an HTTPS endpoint because the OAuth authorization steps rely on SSL handshake negotiations.</li><li class="bx--list__item Markdown-module--list-item--32ShB">Client certificate-based authentication can only be used in conjunction with an HTTPS endpoint since it involves SSL handshake negotiations. The main value of client authentication is that the server is able to securely authenticate the client through the use of certificates.</li></ul><h3 id="523-configuring-mutual-tls-authentication" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#523-configuring-mutual-tls-authentication" aria-label="5.2.3 Configuring mutual TLS authentication permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.3 Configuring mutual TLS authentication</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To properly configure the FHIR server’s keystore and truststore files, perform the following steps.</p><h3 id="5231-configure-the-keystores" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5231-configure-the-keystores" aria-label="5.2.3.1 Configure the keyStores permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.3.1 Configure the keyStores</h3><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Create a new self-signed server certificate<sup id="a8"><a href="#f8" class="bx--link Link-module--link--PAAZ2">8</a></sup> and store it in a new keystore file located in the <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/resources/security</code> directory.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">In these instructions, we’ll call this file <code>serverKeystore.jks</code>, although you can name your server keystore file anything you choose. We’ll use the <code>keytool</code><sup id="a9"><a href="#f9" class="bx--link Link-module--link--PAAZ2">9</a></sup> command for all keystore- and truststore-related steps, although there are several ways to perform these actions.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The following command will generate a new self-signed certificate and store it in <code>serverKeystore.jks</code>:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore serverKeystore.jks -storepass change-password -genkey</span></div><div class="token-line" style="color:#fff"><span class="token plain">    -alias default -keyalg RSA -keypass change-password</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Export the server certificate so that it can be imported into the client’s truststore:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore serverKeystore.jks -storepass change-password -export</span></div><div class="token-line" style="color:#fff"><span class="token plain">    -alias default -file server-public-key.cer</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Create the client’s certificate and store it in <code>clientKeystore.jks</code>:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore clientKeystore.jks -storepass change-password -genkey</span></div><div class="token-line" style="color:#fff"><span class="token plain">    -alias client-auth -keyalg RSA -keypass change-password</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Note: <code>keytool</code> will prompt you for the various components of the distinguished name (DN) associated with the certificate (similar to Step 1). The value that you specify for the common name (CN) component of the DN must match a username in the basic user registry<sup id="a10"><a href="#f10" class="bx--link Link-module--link--PAAZ2">10</a></sup> configured within the <code>server.xml</code> file. This step is crucial for the client certificate-based authentication to work properly. The whole point of this authentication scheme is for the client to transmit its identity to the server via the client certificate, and the client’s username must be contained in that certificate (the CN component of the DN) so that the FHIR server can properly authenticate the client.</p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Export the client’s certificate so that it can be imported into the server’s truststore:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore clientKeystore.jks -storepass change-password -export -alias client-auth -file client-public-key.cer</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Import the server’s public key certificate into the client’s truststore:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore clientTruststore.jks -storepass change-password -import -file server-public-key.cer</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li><li class="bx--list__item Markdown-module--list-item--32ShB"><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Import the client’s public key certificate into the server’s truststore:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">keytool -keystore serverTruststore.jks -storepass change-password -import -file client-public-key.cer</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre></li></ol><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">At this point, you should have a client keystore that contains a client certificate whose Distinguished Name’s Common Name component is set to the username. You should also have a client truststore which contains the server’s public key certificate. Essentially, the server and client both have a keystore that contains their own private and public key certificate and they both have a truststore which contains the public key certificate of their counterpart.</p><h3 id="5231-configure-the-server" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5231-configure-the-server" aria-label="5.2.3.1 Configure the server permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.3.1 Configure the server</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Copy the server keystore (<code>serverKeystore.jks</code>) and truststore (<code>serverTruststore.jks</code>) files to the appropriate directory (<code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/resources/security</code>). Then configure the <code>server.xml</code> file correctly to reference your new keystore and truststore files.</p><h3 id="5232-configure-the-client" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5232-configure-the-client" aria-label="5.2.3.2 Configure the client permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.2.3.2 Configure the client</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The precise steps required to configure certificate-based authentication for a client application depend on the specific REST API client framework, but these are the general rules:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">If the client is using the FHIR server’s HTTPS endpoint, then the client’s truststore should be configured with the certificate of the FHIR server<sup id="a11"><a href="#f11" class="bx--link Link-module--link--PAAZ2">11</a></sup>.</li><li class="bx--list__item Markdown-module--list-item--32ShB">If the client is using basic authentication, then it must send an appropriate Authorization request header containing the username and password information in the HTTP request.</li><li class="bx--list__item Markdown-module--list-item--32ShB">If the client is using client certificate-based Authentication, then the client keystore must be configured with a certificate that is trusted by the FHIR server<sup id="a12"><a href="#f12" class="bx--link Link-module--link--PAAZ2">12</a></sup>.</li><li class="bx--list__item Markdown-module--list-item--32ShB">If the client is using OAuth 2.0 Authentication, then the client keystore must be configured with the REST API client framework. In addition, it must send an appropriate Authorization request header containing the Bearer token in the HTTP request.</li></ul><h2 id="53-openid-connect-and-oauth-20" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#53-openid-connect-and-oauth-20" aria-label="5.3 OpenID Connect and OAuth 2.0 permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3 OpenID Connect and OAuth 2.0</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The FHIR specification recommends the use of OpenID Connect and OAuth 2.0.
The IBM FHIR Server supports these via Liberty’s OpenID Connect support.
The following sections are adapted from the <a href="https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.wlp.core.doc/ae/twlp_config_oidc_pc_examp_beginner.html" class="bx--link Link-module--link--PAAZ2">WebSphere Liberty Knowledge Center</a>, but the steps apply to OpenLiberty as well.</p><h3 id="531-configure-liberty-as-the-openid-connect-provider" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#531-configure-liberty-as-the-openid-connect-provider" aria-label="5.3.1 Configure Liberty as the OpenID Connect Provider permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.1 Configure Liberty as the OpenID Connect Provider</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Liberty can be configured to act as an OpenID Connect Provider via the <a href="https://openliberty.io/docs/ref/feature/#openidConnectServer-1.0.html" class="bx--link Link-module--link--PAAZ2">openidConnectServer-1.0 feature</a>. To enable this feature without modifying the default <code>server.xml</code>, move the <code>oidcProvider.xml</code> config snippet on the installed FHIR Server from <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/configDropins/disabled/</code> to <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/configDropins/defaults/</code> and modify as desired.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">A copy of this snippet is provided here for illustrative purposes:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain">openidConnectServer-1.0</span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">openidConnectProvider</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">oidc-provider</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">oauthProviderRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">oauth2-provider</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">keyStoreRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">defaultKeyStore</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">signatureAlgorithm</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">RS256</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">oauth-roles</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">authenticated</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">special-subject</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">type</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">ALL_AUTHENTICATED_USERS</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">authenticated</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">clientManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">group</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">name</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">clientAdministrator</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">clientManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">oauth-roles</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">oauthProvider</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">oauth2-provider</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">oauthOnly</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">false</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">allowPublicClients</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">true</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">jwtAccessToken</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">true</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">grantType</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain">authorization_code</span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">grantType</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">databaseStore</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">dataSourceRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">OAuthDataSource</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">schema</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">FHIR_OAUTH</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">oauthProvider</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">dataSource</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">OAuthDataSource</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">jndiName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">jdbc/OAuth2DB</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">properties.derby.embedded</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">createDatabase</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">create</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">databaseName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">derby/oauth2db</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">jdbcDriver</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">libraryRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">derbyLib</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">dataSource</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">library</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">derbyLib</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">fileset</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">dir</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">${shared.resource.dir}/lib/derby</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">includes</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">*.jar</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">library</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h3 id="5311-oidcproviderxml-snippet-details" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5311-oidcproviderxml-snippet-details" aria-label="5.3.1.1 oidcProvider.xml snippet details permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.1.1 oidcProvider.xml snippet details</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">OpenID Connect is built on OAuth 2.0 and so the <code>oidcProvider.xml</code> snippet configures Liberty as an OAuth 2.0 provider as described at <a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_oauth_defining.html" class="bx--link Link-module--link--PAAZ2">Defining OAuth</a>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Liberty supports the registration of clients through either a localStore in the server.xml or a databaseStore in a configured dataSource.
To support “dynamic client registration”, the snippet configures an oauthProvider databaseStore and a clientManager oauth-role for managing the OAuth 2.0 clients.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Additionally, the <code>fhir-persistence-schema</code> project (which is also used to deploy the main IBM FHIR Server schema) creates the tables required by this Liberty feature by default (as described at <a href="https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.wlp.core.doc/ae/twlp_oauth_dbs.html" class="bx--link Link-module--link--PAAZ2">OAuth Databases</a>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Finally, the <code>openidConnectProvider</code> element is specified with a default signatureAlgorithm of RS256 and a reference to the defaultKeyStore which must contain a private key that can be used for signing.</p><h3 id="5312-register-a-client" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5312-register-a-client" aria-label="5.3.1.2 Register a client permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.1.2 Register a client</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Now that the server is configured as an OAuth 2.0 provider, clients can self-register by invoking the <a href="https://%5Bhost%5D:9443/oauth2/endpoint/oauth2-provider/registration" class="bx--link Link-module--link--PAAZ2">https://[host]:9443/oauth2/endpoint/oauth2-provider/registration</a> endpoint.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For example, for a server running on localhost:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-sh" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">curl -u &#x27;fhiruser:change-password&#x27; &#x27;https://localhost:9443/oauth2/endpoint/oauth2-provider/registration&#x27; \</span></div><div class="token-line" style="color:#fff"><span class="token plain">--header &#x27;Content-Type: application/json&#x27; \</span></div><div class="token-line" style="color:#fff"><span class="token plain">--data-raw &#x27;{</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;token_endpoint_auth_method&quot;:&quot;client_secret_basic&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;scope&quot;:&quot;launch launch/patient offline_access openid profile user/*.* patient/*.*&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;grant_types&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;authorization_code&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;client_credentials&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;implicit&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;refresh_token&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">   ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;response_types&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;code&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;token&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;id_token token&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">   ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;application_type&quot;:&quot;web&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;subject_type&quot;:&quot;public&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;post_logout_redirect_uris&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;http://localhost:4567/inferno/oauth2/static/redirect&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">   ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;preauthorized_scope&quot;:&quot;launch launch/patient offline_access openid profile user/*.* patient/*.*&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;introspect_tokens&quot;:true,</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;trusted_uri_prefixes&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;https://server.example.com:9000/trusted/&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">   ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">   &quot;redirect_uris&quot;:[</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;http://localhost:4567/inferno/oauth2/static/redirect&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">   ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">}&#x27;</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For more information on Liberty’s support for client registration, see <a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_client_registration.html" class="bx--link Link-module--link--PAAZ2">https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_client_registration.html</a>.</p><h3 id="5313-request-an-access-token" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5313-request-an-access-token" aria-label="5.3.1.3 Request an access token permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.1.3 Request an access token</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">After you’ve registered a client, invoke the authorization endpoint with the client_id assigned to your client in order to obtain an authorization code that can be exchanged for an access token.
For a server running on localhost, the auth URL is <code>https://localhost:9443/oidc/endpoint/oidc-provider/authorize</code>.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The provider endpoint will present an HTML login form and you must enter a valid username/password from Liberty’s configured user registry (e.g. <code>fhiruser</code>/<code>change-password</code>).
This will redirect you to the configured redirect uri for your client, passing it a code that can be exchanged for an access token at the token endpoint.
For a server running on localhost, the token URL is <code>https://localhost:9443/oidc/endpoint/oidc-provider/token</code>.</p><h3 id="532-configure-liberty-to-be-an-oauth-20-protected-resource-server" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#532-configure-liberty-to-be-an-oauth-20-protected-resource-server" aria-label="5.3.2 Configure Liberty to be an Oauth 2.0 Protected Resource Server permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.2 Configure Liberty to be an Oauth 2.0 Protected Resource Server</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">Liberty can be configured to act as an OAuth 2.0 Protected Resource Server via the <a href="https://openliberty.io/docs/ref/feature/#openidConnectClient-1.0.html" class="bx--link Link-module--link--PAAZ2">openidConnectClient-1.0 feature</a>. To enable this feature without modifying the default <code>server.xml</code>, move the <code>oauthResourceServer.xml</code> config snippet on the installed FHIR Server from <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/configDropins/disabled/</code> to <code>&lt;WLP_HOME&gt;/usr/servers/fhir-server/configDropins/defaults/</code> and modify as desired.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">A copy of this snippet is provided here for illustrative purposes:</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-xml" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain">openidConnectClient-1.0</span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">feature</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">featureManager</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#bebebe">&lt;!-- Liberty acts as an OAuth 2.0 protected resource server when inboundPropagation=”required” --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">openidConnectClient</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">RS</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">inboundPropagation</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">required</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">trustStoreRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">defaultTrustStore</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">trustAliasName</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">libertyop</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">issuerIdentifier</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">https://localhost:9443/oauth2/endpoint/oauth2-provider,https://host.docker.internal:9443/oauth2/endpoint/oauth2-provider</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">validationEndpointUrl</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">https://localhost:9443/oauth2/endpoint/oauth2-provider/introspect</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">signatureAlgorithm</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">RS256</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag" style="color:#6ea6ff"></span></div><div class="token-line" style="color:#fff"><span class="token tag" style="color:#6ea6ff">    </span><span class="token tag attr-name" style="color:#92eeee">authFilterRef</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">filter</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">authFilter</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">id</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">filter</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#6ea6ff">&lt;</span><span class="token tag" style="color:#6ea6ff">requestUrl</span><span class="token tag" style="color:#6ea6ff"> </span><span class="token tag attr-name" style="color:#92eeee">urlPattern</span><span class="token tag attr-value punctuation" style="color:#bb8eff">=</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag attr-value" style="color:#bb8eff">/fhir-server</span><span class="token tag attr-value punctuation" style="color:#bb8eff">&quot;</span><span class="token tag punctuation" style="color:#6ea6ff">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#fff"><span class="token plain"></span><span class="token tag punctuation" style="color:#6ea6ff">&lt;/</span><span class="token tag" style="color:#6ea6ff">authFilter</span><span class="token tag punctuation" style="color:#6ea6ff">&gt;</span><span class="token plain"></span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><h3 id="5321-oauthresourceserverxml-snippet-details" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5321-oauthresourceserverxml-snippet-details" aria-label="5.3.2.1 oauthResourceServer.xml snippet details permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.2.1 oauthResourceServer.xml snippet details</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">By default, the server is configured with a defaultTrustStore that includes a copy of the server’s signed certificate with alias <code>libertyop</code> (“op” for OpenID Connect Provider).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The server is configured to accept tokens with an issuerIdentifier that has a hostname of either localhost or host.docker.internal so that we can test it from the <a href="https://github.com/onc-healthit/inferno" class="bx--link Link-module--link--PAAZ2">Inferno test tool’s</a> docker-compose environment.</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">The signatureAlgorithm must match the signature used by the OAuth provider and the authFilter is required when the server is also acting as both an OAuth Resource Server <em>and</em> an OAuth/OpenId Connect provider so that the OAuth endpoints themselves can be accessed to grant the access tokens needed for accessing the rest of the server endpoints.</p><h3 id="5322-configuring-the-truststore" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#5322-configuring-the-truststore" aria-label="5.3.2.2 Configuring the trustStore permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.2.2 Configuring the trustStore</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">If you are using Liberty as both the openIdConnect server and the openIdConnect client and you have modified the defaultKeyStore to use a different key, you can configure the corresponding trustStore based on the following keytool commands:</p><ol class="bx--list--ordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB">Export the OAuth 2.0 provider’s certificate from the configured keystore via one of the following commands:</li></ol><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><code>keytool -exportcert -keystore key.p12 -storepass Password -alias default -file libertyOP.cer</code></li><li class="bx--list__item Markdown-module--list-item--32ShB"><code>keytool -exportcert -keystore key.jks -storepass Password -alias default -file libertyOP.cer</code></li></ul><ol class="bx--list--ordered Markdown-module--list--oZv7L" start="2"><li class="bx--list__item Markdown-module--list-item--32ShB">Import the certificate into the server’s trustStore. Assuming you use the same keystore for both, then use of these:</li></ol><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><code>keytool -importcert -keystore key.p12 -storepass Password -alias libertyop -file libertyOP.cer -noprompt</code></li><li class="bx--list__item Markdown-module--list-item--32ShB"><code>keytool -importcert -keystore key.jks -storepass Password -alias libertyop -file libertyOP.cer -noprompt</code></li></ul><h3 id="533-advertise-the-oauth-endpoints-via-fhir-server-config" class="AutolinkHeader-module--header--1G1tm Markdown-module--h3--Gwbvh"><a class="AutolinkHeader-module--anchor--36UpA" href="#533-advertise-the-oauth-endpoints-via-fhir-server-config" aria-label="5.3.3 Advertise the OAuth endpoints via fhir-server-config permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.3.3 Advertise the OAuth endpoints via fhir-server-config</h3><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">To configure the FHIR Server with the OpenID Connect and OAuth 2.0 endpoints of the providers, specify the following values in the default fhir-server-config.json file:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><code>fhirServer/oauth/regUrl</code></li><li class="bx--list__item Markdown-module--list-item--32ShB"><code>fhirServer/oauth/authUrl</code></li><li class="bx--list__item Markdown-module--list-item--32ShB"><code>fhirServer/oauth/tokenUrl</code></li></ul><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">When the Liberty server is the OpenID Connect / OAuth 2.0 provider, use a placeholder of <code>&lt;host&gt;</code> in the property values to have the server automatically replace this text with the hostname used by requestors (see <code>fhirServer/core/originalRequestUriHeaderName</code>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">These values will be used to populate the corresponding entries in both the server capability statement (<code>GET [base]/metadata</code>) and the smart-configuration (<code>GET [base]/.well-known/smart-configuration</code>).</p><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For example, the following excerpt from a CapabilityStatement shows sample OAuth-related URLs (token, authorize, and register) as values of the <code>valueUri</code> elements.</p><pre><div class="bx--row Code-module--row--3_5cm"><div class="Code-module--container--3ZWSe"><pre class="Code-module--highlight--2tD5P prism-code language-" style="background-color:#171717;color:#fff"><div class="token-line" style="color:#fff"><span class="token plain">…</span></div><div class="token-line" style="color:#fff"><span class="token plain">&quot;rest&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">    {</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;mode&quot;: &quot;server&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">      &quot;security&quot;: {</span></div><div class="token-line" style="color:#fff"><span class="token plain">        &quot;extension&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">          {</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;url&quot;: &quot;http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">            &quot;extension&quot;: [</span></div><div class="token-line" style="color:#fff"><span class="token plain">              {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;url&quot;: &quot;register&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;valueUri&quot;: &quot;https://localhost:9443/oauth2/endpoint/oauth2-provider/registration&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">              },</span></div><div class="token-line" style="color:#fff"><span class="token plain">              {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;url&quot;: &quot;authorize&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;valueUri&quot;: &quot;https://localhost:9443/oauth2/endpoint/oauth2-provider/authorize&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">              },</span></div><div class="token-line" style="color:#fff"><span class="token plain">              {</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;url&quot;: &quot;token&quot;,</span></div><div class="token-line" style="color:#fff"><span class="token plain">                &quot;valueUri&quot;: &quot;https://localhost:9443/oauth2/endpoint/oauth2-provider/token&quot;</span></div><div class="token-line" style="color:#fff"><span class="token plain">              }</span></div><div class="token-line" style="color:#fff"><span class="token plain">            ]</span></div><div class="token-line" style="color:#fff"><span class="token plain">          }</span></div><div class="token-line" style="color:#fff"><span class="token plain">        ],</span></div><div class="token-line" style="color:#fff"><span class="token plain">…</span></div></pre><div class="Code-module--sidebar--2s1Ef"><button type="button" class="Code-module--button--1qxEL Code-module--copy-button--2W2EG bx--copy-btn" aria-label="Copy to clipboard" title="Copy to clipboard" aria-live="polite"><svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" class="bx--snippet__icon"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg><span class="bx--assistive-text bx--copy-btn__feedback">Copied!</span></button></div></div></div></pre><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">SMART on FHIR applications should use the <code>.well-known/smart-configuration</code> endpoint to determine the OAuth URLs to use for authorization,
but the entries in the Capability Statement are needed for backwards compatibility.</p><h2 id="54-custom-http-headers" class="AutolinkHeader-module--header--1G1tm Markdown-module--h2--3_kQn"><a class="AutolinkHeader-module--anchor--36UpA" href="#54-custom-http-headers" aria-label="5.4 Custom HTTP Headers permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>5.4 Custom HTTP Headers</h2><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">IBM FHIR Server Supports the following custom HTTP Headers:</p><div class="bx--row"><div class="bx--col-lg-8 bx--col-md-6 bx--col-no-gutter page-table__container"><table class="page-table"><thead><tr><th>Header Name</th><th>Description</th></tr></thead><tbody><tr><td><code>X-FHIR-TENANT-ID</code></td><td>Specifies which tenant config should be used for the request. Default is <code>default</code>. Header name can be overridden via config property <code>fhirServer/core/tenantIdHeaderName</code>.</td></tr><tr><td><code>X-FHIR-DSID</code></td><td>Specifies which datastore config should be used for the request. Default is <code>default</code>. Header name can be overridden via config property <code>fhirServer/core/dataSourceIdHeaderName</code>.</td></tr></tbody></table></div></div><h1 id="6-related-topics" class="AutolinkHeader-module--header--1G1tm Markdown-module--h1--2dotq"><a class="AutolinkHeader-module--anchor--36UpA" href="#6-related-topics" aria-label="6 Related topics permalink"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42-1.41-1.42-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z"></path><path d="M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42 2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z"></path></svg></a>6 Related topics</h1><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">For more information about topics related to configuring a FHIR server, see the following documentation:</p><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.security.component.80.doc/security-component/keytoolDocs/keytool_overview.html" class="bx--link Link-module--link--PAAZ2">IBM Java 8 Keytool documentation</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_sec_clientcert.html" class="bx--link Link-module--link--PAAZ2">WebSphere Liberty documentation: Configuring your web application and server for client certificate authentication</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="https://docs.oracle.com/javaee/7/tutorial/security-advanced002.htm#GLIEN" class="bx--link Link-module--link--PAAZ2">Java EE 7 Tutorial, Chapter 50</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_oauth_defining.html" class="bx--link Link-module--link--PAAZ2">WebSphere Liberty documentation: Defining an OAuth Service Provider</a></li><li class="bx--list__item Markdown-module--list-item--32ShB"><a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_config_oidc_rp.html" class="bx--link Link-module--link--PAAZ2">WebSphere Liberty documentation: Configuring an Open ID Connect Client in liberty</a></li></ul><hr/><ul class="bx--list--unordered Markdown-module--list--oZv7L"><li class="bx--list__item Markdown-module--list-item--32ShB"><b name="f1">1</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  The fhir-server-config.json file contains configuration information associated with the FHIR server. The global configuration is located in <code>WLP_HOME/wlp/usr/servers/fhir-server/config/default/fhir-server-config.json</code>, with tenant-specific configuration contained in <code>config/TENANT_ID/fhir-server-config.json</code>. <a href="#a1" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b name="f2">2</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  When running database-related commands (e.g. createDB.sh, liquibase, etc.) you’ll need to make sure that the Db2-related executables are in your PATH, and also that you are logged in as a user that has the necessary authority to create the database and/or create the schema.  Normally, if you log in as the Db2 administrative user (typically “db2inst1”) then you should be fine. <a href="#a2" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f3">3</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  The names of these request headers are configurable within the FHIR server’s fhir-server-config.json file.  For more information, see <a href="#51-configuration-properties-reference" class="bx--link Link-module--link--PAAZ2">Section 5.1 Configuration properties reference</a>. <a href="#a3" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f4">4</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  For more information on multi-tenant support, including multi-tenant configuration properties, jump to <a href="#49-multi-tenancy" class="bx--link Link-module--link--PAAZ2">Section 4.9 Multi-Tenancy</a>. <a href="#a4" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f5">5</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  An external reference is a reference to a resource which is meaningful outside a particular request bundle.  The value typically includes the resource type and the resource identifier, and could  be an absolute or relative URL. Examples:  <code>https://fhirserver1:9443/fhir-server/api/v4/Patient/12345</code>, <code>Patient/12345</code>, etc. <a href="#a5" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f6">6</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  A local reference is a reference used within a request bundle that refers to another resource within the same request bundle and is meaningful only within that request bundle. A local reference starts with <code>urn:</code>. <a href="#a6" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f7">7</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  Keystore and truststore files have the same basic structure. They both provide a secure means for storing certificates. Typically, we think of a keystore as a file that contains certificates that consist of a private/public key pair, whereas a truststore contains certificates that consist of a public key or trusted certificates. <a href="#a7" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f8">8</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  While the instructions here show examples of creating self-signed certificates, in reality the FHIR Server deployer will likely need to use certificates that have been signed by a Certificate Authority (CA) such as Verisign, etc. <a href="#a8" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f9">9</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  The <em>keytool</em> command is provided as part of the Java 8 JRE.  The command can be found in $JAVA_HOME/jre/bin. <a href="#a9" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f10">10</b> These instructions assume the use of a basic user registry in the server.xml file.  If you are instead using an LDAP registry, then the entire DN associated with the client certificate must match the DN of a user in the LDAP registry. [↩](#a10)</li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f11">11</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  For the JAX-RS 2.0 Client API, you would call the ClientBuilder.truststore() method. <a href="#a11" class="bx--link Link-module--link--PAAZ2">↩</a></p></li><li class="bx--list__item Markdown-module--list-item--32ShB"><b id="f12">12</b><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">  For the JAX-RS 2.0 Client API, you would call the ClientBuilder.keystore() method. <a href="#a12" class="bx--link Link-module--link--PAAZ2">↩</a></p></li></ul><hr/><p class="Markdown-module--paragraph--1xZR9 Markdown-module--paragraph--responsive--103Tj">FHIR<!-- -->®<!-- --> is the registered trademark of HL7 and is used with the permission of HL7.</p><div class="bx--row EditLink-module--row--1B9Gk"><div class="bx--col"><a class="EditLink-module--link--1qzW3" href="https://github.com/IBM/FHIR/tree/master/docs/src/pages/guides/FHIRServerUsersGuide.md">Edit this page on GitHub</a></div></div></div><div class="NextPrevious-module--wrapper--i4HKx"><div class="NextPrevious-module--link-container--1A3xp"><a class="NextPrevious-module--link--2Pl2N NextPrevious-module--first-link--raN11" href="/FHIR/blog/raspberrypi4howto"><div class="NextPrevious-module--direction--3xiCx">Previous</div><div class="NextPrevious-module--name--YKYmq">Blog: FHIR Server on Raspberry Pi</div></a><a class="NextPrevious-module--link--2Pl2N NextPrevious-module--second-link--24E2R" href="/FHIR/guides/FHIRModelGuide"><div class="NextPrevious-module--direction--3xiCx">Next</div><div class="NextPrevious-module--name--YKYmq">Guides: Model guide</div></a></div></div><div style="position:fixed;bottom:50px;right:30px;cursor:pointer;transition-duration:0.2s;transition-timing-function:linear;transition-delay:0s;z-index:9999;opacity:0;visibility:hidden;transition-property:opacity, visibility"><button class="bx--back-to-top" aria-label="Back to Top"><svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change:transform" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M16 13L6 23l1.41 1.41L16 15.83l8.59 8.58L26 23 16 13zM4 7h24v2H4z"></path></svg></button></div><footer class="Footer-module--footer--36xlm"><div class="bx--grid Footer-module--grid--8uMdA"><div class="bx--row"><div class="bx--col-lg-2 bx--col-md-2"><ul class="Footer-module--nav--15dOX"><li class="Footer-module--listItem--2vwj8"><a href="https://github.com/ibm/fhir" aria-label="IBM FHIR Server on GitHub">IBM FHIR Server on GitHub</a></li><li class="Footer-module--listItem--2vwj8"><a href="https://www.hl7.org/fhir/index.html" aria-label="HL7 FHIR">HL7 FHIR</a></li></ul></div><div class="bx--col-lg-2 bx--col-md-2"><ul class="Footer-module--nav--15dOX"></ul></div><div class="bx--offset-lg-2 bx--col-lg-4 bx--col-md-4 bx--col-sm-3 Footer-module--content--NjkFN"><p><a href="https://travis-ci.com/IBM/FHIR"><img src="https://travis-ci.com/IBM/FHIR.svg?branch=master" alt="Build Status"/></a></p><p>The IBM FHIR Server is licensed under the Apache 2.0 license. Full license text is available at <a href="https://ibm.github.io/FHIR/LICENSE">LICENSE</a>.</p><p><a href="https://www.hl7.org/fhir/index.html">FHIR®</a> is the registered trademark of HL7 and is used with the permission of HL7.</p></div></div><div class="bx--row"><div class="bx--col-lg-3"><svg class="Footer-module--logo--3otJM" width="81" height="32" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 32h15.689v-2.038H0zM0 27.721h15.689v-2.038H0zM4.483 23.442h6.724v-2.037H4.483zM4.483 19.164h6.724v-2.038H4.483zM4.483 14.885h6.724v-2.037H4.483zM4.482 10.606h6.724V8.568H4.482zM0 6.327h15.689V4.29H0zM0 2.049h15.689V.011H0zM17.93 29.963V32h16.504a8.521 8.521 0 0 0 5.54-2.037H17.93zM17.93 25.683v2.038h23.914a8.535 8.535 0 0 0 .85-2.038H17.93zM22.412 23.442h6.724v-2.037h-6.724zM40.124 17.126H22.412v2.038H41.77a8.62 8.62 0 0 0-1.645-2.038M22.413 12.848v2.036h17.786a8.612 8.612 0 0 0 1.644-2.037h-19.43zM42.693 6.327a8.447 8.447 0 0 0-.85-2.037H17.93v2.037h24.763zM39.974 2.049a8.521 8.521 0 0 0-5.54-2.037H17.93v2.037h22.044zM22.412 10.606h6.724V8.568h-6.724zM35.453 10.606h7.29a8.603 8.603 0 0 0 .248-2.038h-7.538v2.038zM35.453 21.405v2.037h7.538c0-.703-.09-1.384-.248-2.037h-7.29zM57.457 0H44.825v2.038h13.34zM44.826 32h11.21v-2.038h-11.21zM44.826 27.72h11.21v-2.038h-11.21zM49.309 23.439h6.727v-2.038h-6.727zM49.309 19.159h6.727v-2.038h-6.727zM69.488 32h11.21v-2.038h-11.21zM69.488 27.72h11.21v-2.038h-11.21zM69.488 23.439h6.726v-2.038h-6.726zM69.487 19.159h6.726v-2.038h-6.726zM69.488 14.879h6.726V12.84H63.606l-.707 2.038h5.903l.686-1.94zM61.916 12.84H49.31v2.039h6.726v-1.94l.686 1.94h5.903zM76.213 8.56H65.091l-.707 2.038h11.83zM68.06 0l-.706 2.038h13.344V0zM62.757 32l.72-2.038h-1.432zM61.254 27.72h3.015l.72-2.038h-4.455zM59.743 23.44h6.037l.72-2.039h-7.476zM58.232 19.159h9.06l.719-2.038h-10.5zM49.309 10.598h11.83l-.707-2.038H49.309zM65.868 6.318h14.83V4.28H66.576zM58.947 4.28H44.826v2.038h14.828z"></path></g></svg></div></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/guides/FHIRServerUsersGuide/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-7b7b5b6cbec6c6876de4.js"],"component---src-pages-404-js":["/component---src-pages-404-js-cb99ce8eab755eadc6e2.js"],"component---src-pages-announcement-mdx":["/component---src-pages-announcement-mdx-4247fa259974b0eb2aae.js"],"component---src-pages-blog-raspberrypi-4-howto-mdx":["/component---src-pages-blog-raspberrypi-4-howto-mdx-21a439e11c27dcf61fd3.js"],"component---src-pages-build-mdx":["/component---src-pages-build-mdx-cdb01919f6ac10e0efef.js"],"component---src-pages-conformance-md":["/component---src-pages-conformance-md-83178fe400889c595ed2.js"],"component---src-pages-getting-started-index-mdx":["/component---src-pages-getting-started-index-mdx-63fdd6ff57395a73d5a2.js"],"component---src-pages-guides-bring-your-own-persistence-md":["/component---src-pages-guides-bring-your-own-persistence-md-1a58cc746225b175ef85.js"],"component---src-pages-guides-create-fhir-validation-assembly-md":["/component---src-pages-guides-create-fhir-validation-assembly-md-b73ca5cf45c850365956.js"],"component---src-pages-guides-db-2-on-cloud-setup-md":["/component---src-pages-guides-db-2-on-cloud-setup-md-3f6f0c62e9b8b93d1821.js"],"component---src-pages-guides-fhir-bulk-operations-md":["/component---src-pages-guides-fhir-bulk-operations-md-e22d112b5be71a3710ec.js"],"component---src-pages-guides-fhir-model-guide-mdx":["/component---src-pages-guides-fhir-model-guide-mdx-86267146a0d9c60484d5.js"],"component---src-pages-guides-fhir-search-configuration-md":["/component---src-pages-guides-fhir-search-configuration-md-23692775e3b66f18b820.js"],"component---src-pages-guides-fhir-server-users-guide-md":["/component---src-pages-guides-fhir-server-users-guide-md-6b299fcb9a88ea93031f.js"],"component---src-pages-guides-fhir-validation-guide-md":["/component---src-pages-guides-fhir-validation-guide-md-ff551ee85fbf2f21466c.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-c46be5a8b8f470d5b818.js"],"component---src-pages-license-md":["/component---src-pages-license-md-fdf21530a331bfa341a1.js"],"component---src-pages-maintainers-md":["/component---src-pages-maintainers-md-d501ebe1801c78f1ab89.js"],"component---src-pages-releases-4-0-0-md":["/component---src-pages-releases-4-0-0-md-5aca0cd4dad470ba0887.js"],"component---src-pages-template-mdx":["/component---src-pages-template-mdx-74c49671d252589823a9.js"],"component---src-pages-tips-and-tricks-mdx":["/component---src-pages-tips-and-tricks-mdx-c8c1c021b607c483b06d.js"]};/*]]>*/</script><script src="/FHIR/component---src-pages-guides-fhir-server-users-guide-md-6b299fcb9a88ea93031f.js" async=""></script><script src="/FHIR/e9dbce52-eace8158301e02d69c88.js" async=""></script><script src="/FHIR/styles-9b6f388623a2ec93d35f.js" async=""></script><script src="/FHIR/app-7b7b5b6cbec6c6876de4.js" async=""></script><script src="/FHIR/29107295-af89ddc526d45a1f4397.js" async=""></script><script src="/FHIR/5b41c8d8-ae4049caa2a7e42ec4d0.js" async=""></script><script src="/FHIR/c6f56e3b-d1b382581630bc266392.js" async=""></script><script src="/FHIR/80f8542c-e85c25715699568b7e16.js" async=""></script><script src="/FHIR/framework-f119296e8ee2cdbf7aa4.js" async=""></script><script src="/FHIR/webpack-runtime-585f884bb579d70805cf.js" async=""></script></body></html>